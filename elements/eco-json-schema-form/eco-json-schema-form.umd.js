!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(require("@polymer/polymer/polymer-element.js"),require("@polymer/iron-flex-layout/iron-flex-layout-classes.js"),require("@polymer/iron-icons/image-icons.js"),require("@polymer/iron-icons/iron-icons.js"),require("@polymer/iron-icons/editor-icons.js"),require("@polymer/iron-pages/iron-pages.js"),require("@polymer/app-layout/app-toolbar/app-toolbar.js"),require("@polymer/paper-menu-button/paper-menu-button.js"),require("@polymer/paper-icon-button/paper-icon-button.js"),require("@polymer/paper-ripple/paper-ripple.js"),require("@polymer/app-localize-behavior/app-localize-behavior.js"),require("@polymer/polymer/lib/legacy/class.js"),require("@polymer/polymer/lib/elements/dom-if.js"),require("@polymer/polymer/lib/utils/render-status.js"),require("@polymer/polymer/lib/utils/render-status"),require("@lrnwebcomponents/hax-body/lib/haxutils.js"),require("@polymer/marked-element/marked-element.js"),require("@lrnwebcomponents/a11y-tabs/a11y-tabs.js"),require("@polymer/paper-checkbox/paper-checkbox.js"),require("@polymer/paper-dropdown-menu/paper-dropdown-menu.js"),require("@polymer/paper-item/paper-item.js"),require("@polymer/paper-listbox/paper-listbox.js"),require("@polymer/iron-validatable-behavior/iron-validatable-behavior.js"),require("@polymer/polymer/lib/utils/async.js"),require("@polymer/paper-button/paper-button.js"),require("@polymer/paper-input/paper-input.js"),require("@polymer/iron-icon/iron-icon.js"),require("@polymer/paper-styles/typography.js")):"function"==typeof define&&define.amd?define(["@polymer/polymer/polymer-element.js","@polymer/iron-flex-layout/iron-flex-layout-classes.js","@polymer/iron-icons/image-icons.js","@polymer/iron-icons/iron-icons.js","@polymer/iron-icons/editor-icons.js","@polymer/iron-pages/iron-pages.js","@polymer/app-layout/app-toolbar/app-toolbar.js","@polymer/paper-menu-button/paper-menu-button.js","@polymer/paper-icon-button/paper-icon-button.js","@polymer/paper-ripple/paper-ripple.js","@polymer/app-localize-behavior/app-localize-behavior.js","@polymer/polymer/lib/legacy/class.js","@polymer/polymer/lib/elements/dom-if.js","@polymer/polymer/lib/utils/render-status.js","@polymer/polymer/lib/utils/render-status","@lrnwebcomponents/hax-body/lib/haxutils.js","@polymer/marked-element/marked-element.js","@lrnwebcomponents/a11y-tabs/a11y-tabs.js","@polymer/paper-checkbox/paper-checkbox.js","@polymer/paper-dropdown-menu/paper-dropdown-menu.js","@polymer/paper-item/paper-item.js","@polymer/paper-listbox/paper-listbox.js","@polymer/iron-validatable-behavior/iron-validatable-behavior.js","@polymer/polymer/lib/utils/async.js","@polymer/paper-button/paper-button.js","@polymer/paper-input/paper-input.js","@polymer/iron-icon/iron-icon.js","@polymer/paper-styles/typography.js"],n):n((e=e||self).polymerElement_js,null,null,null,null,null,null,null,null,null,e.appLocalizeBehavior_js,e.class_js,null,e.renderStatus_js,e.renderStatus,e.haxutils_js,null,null,null,null,null,null,e.ironValidatableBehavior_js,e.async_js)}(this,function(e,n,o,t,r,a,i,l,s,c,p,d,u,m,f,h,y,v,b,g,x,j,k,_){"use strict";function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function O(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function A(e,n,o){return n&&O(e.prototype,n),o&&O(e,o),e}function C(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&E(e,n)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,n){return(E=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function B(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function z(e,n,o){return(z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,o){var t=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=P(e)););return e}(e,n);if(t){var r=Object.getOwnPropertyDescriptor(t,n);return r.get?r.get.call(o):r.value}})(e,n,o||e)}function N(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function $(){var e=N(['\n      <style include="iron-flex iron-flex-alignment">\n        :host {\n          color: var(--eco-json-form-color);\n          background-color: var(--eco-json-form-bg);\n          font-family: var(--eco-json-form-font-family);\n        }\n        :host([hidden]),\n        [hidden] {\n          display: none;\n        }\n        :host fieldset {\n          border-radius: var(--eco-json-form-border-radius);\n          border-style: solid;\n          border-width: 1px;\n          border-color: var(--eco-json-form-faded-color);\n          transition: all 0.5s;\n        }\n        :host legend {\n          transition: all 0.5s;\n          color: var(--eco-json-form-faded-color);\n        }\n        :host fieldset:focus #legend,\n        :host fieldset:focus-within #legend {\n          color: var(--eco-json-form-active-color);\n        }\n        :host .array-item-button {\n          color: var(--eco-json-form-faded-color);\n          background-color: var(--eco-json-form-bg);\n          text-transform: none;\n          margin-bottom: 0;\n        }\n        :host .array-item-button:focus,\n        :host .array-item-button:hover {\n          color: var(--eco-json-form-active-color);\n        }\n        :host .add-array-item iron-icon {\n          padding: 8px;\n        }\n        :host .add-array-item {\n          color: var(--eco-json-form-add-color);\n          border-radius: 0 0 var(--eco-json-form-border-radius);\n          border: 1px solid var(--eco-json-form-bg);\n          margin: 0;\n          padding: 0 8px 0 16px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        :host .add-array-item:focus,\n        :host .add-array-item:hover {\n          color: var(--eco-json-form-add-color);\n          background-color: var(--eco-json-form-faded-bg);\n          border: 1px solid var(--eco-json-form-faded-color);\n        }\n        :host .remove-array-item {\n          color: var(--eco-json-form-remove-color);\n          background-color: var(--eco-json-form-bg);\n          margin: 15px 0 0 0;\n          border-radius: 100%;\n        }\n        :host .remove-array-item:focus,\n        :host .remove-array-item:hover {\n          color: var(--eco-json-form-remove-color);\n          background-color: var(--eco-json-form-faded-bg);\n        }\n        :host a11y-collapse-group {\n          margin: 0;\n          border-radius: var(--eco-json-form-border-radius);\n          --a11y-collapse-border: 1px solid var(--eco-json-form-faded-color);\n        }\n        :host a11y-collapse {\n          border: 1px solid var(--eco-json-form-bg);\n          --a11y-collapse-padding-right: 8px;\n          --a11y-collapse-heading-color: var(--eco-json-form-faded-color);\n          --a11y-collapse-heading-background-color: var(--eco-json-form-bg);\n          --a11y-collapse-heading-font-weight: normal;\n          --a11y-collapse-heading-margin: 0;\n          --a11y-collapse-icon-padding: 8px;\n        }\n        :host a11y-collapse:focus,\n        :host a11y-collapse:hover,\n        :host a11y-collapse[expanded] {\n          border: 1px solid var(--eco-json-form-faded-color);\n          --a11y-collapse-heading-color: var(--eco-json-form-color);\n          --a11y-collapse-heading-background-color: var(\n            --eco-json-form-faded-bg\n          );\n          --a11y-collapse-heading-font-weight: normal;\n          --a11y-collapse-heading-margin: 0;\n        }\n        :host p[slot="heading"] {\n          margin: 0;\n        }\n        :host div[slot="content"] > div {\n          width: 100%;\n          display: flex;\n          align-items: flex-end;\n          justify-content: space-between;\n        }\n        :host .item-fields {\n          flex: 1 0 auto;\n        }\n      </style>\n      <fieldset>\n        <legend id="legend" class="flex" hidden$="[[!schema.title]]">\n          [[schema.title]]\n        </legend>\n        <a11y-collapse-group\n          id="form"\n          icon="settings"\n          class="vertical flex layout"\n          global-options="[[globalOptions]]"\n        >\n          <template is="dom-repeat" items="[[schema.value]]" as="item" restamp>\n            <a11y-collapse\n              accordion\n              id$="item-[[index]]"\n              icon$="[[globalOptions.icon]]"\n              tooltip$="[[globalOptions.tooltip]]"\n            >\n              <p slot="heading">\n                {{_getHeading(__headings.*,schema.label,index)}}\n              </p>\n              <div slot="content">\n                <div>\n                  <div\n                    id$="value-[[index]]"\n                    class="item-fields"\n                    data-index$="[[index]]"\n                  ></div>\n                  <paper-icon-button\n                    id="remove-[[index]]"\n                    icon="icons:delete"\n                    aria-label="Remove this item"\n                    aria-describedby="item-[[index]]"\n                    class="remove-array-item array-item-button"\n                    controls="item-[[index]]"\n                    on-tap="_onRemoveItem"\n                    role="button"\n                  >\n                  </paper-icon-button>\n                  <paper-tooltip for="remove-[[index]]"\n                    >Remove this item</paper-tooltip\n                  >\n                </div>\n              </div>\n            </a11y-collapse>\n          </template>\n        </a11y-collapse-group>\n        <paper-button\n          class="add-array-item array-item-button"\n          on-click="_onAddItem"\n          role="button"\n        >\n          Add an item\n          <iron-icon icon="add-circle"></iron-icon>\n        </paper-button>\n      </fieldset>\n    '],['\n      <style include="iron-flex iron-flex-alignment">\n        :host {\n          color: var(--eco-json-form-color);\n          background-color: var(--eco-json-form-bg);\n          font-family: var(--eco-json-form-font-family);\n        }\n        :host([hidden]),\n        [hidden] {\n          display: none;\n        }\n        :host fieldset {\n          border-radius: var(--eco-json-form-border-radius);\n          border-style: solid;\n          border-width: 1px;\n          border-color: var(--eco-json-form-faded-color);\n          transition: all 0.5s;\n        }\n        :host legend {\n          transition: all 0.5s;\n          color: var(--eco-json-form-faded-color);\n        }\n        :host fieldset:focus #legend,\n        :host fieldset:focus-within #legend {\n          color: var(--eco-json-form-active-color);\n        }\n        :host .array-item-button {\n          color: var(--eco-json-form-faded-color);\n          background-color: var(--eco-json-form-bg);\n          text-transform: none;\n          margin-bottom: 0;\n        }\n        :host .array-item-button:focus,\n        :host .array-item-button:hover {\n          color: var(--eco-json-form-active-color);\n        }\n        :host .add-array-item iron-icon {\n          padding: 8px;\n        }\n        :host .add-array-item {\n          color: var(--eco-json-form-add-color);\n          border-radius: 0 0 var(--eco-json-form-border-radius);\n          border: 1px solid var(--eco-json-form-bg);\n          margin: 0;\n          padding: 0 8px 0 16px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        :host .add-array-item:focus,\n        :host .add-array-item:hover {\n          color: var(--eco-json-form-add-color);\n          background-color: var(--eco-json-form-faded-bg);\n          border: 1px solid var(--eco-json-form-faded-color);\n        }\n        :host .remove-array-item {\n          color: var(--eco-json-form-remove-color);\n          background-color: var(--eco-json-form-bg);\n          margin: 15px 0 0 0;\n          border-radius: 100%;\n        }\n        :host .remove-array-item:focus,\n        :host .remove-array-item:hover {\n          color: var(--eco-json-form-remove-color);\n          background-color: var(--eco-json-form-faded-bg);\n        }\n        :host a11y-collapse-group {\n          margin: 0;\n          border-radius: var(--eco-json-form-border-radius);\n          --a11y-collapse-border: 1px solid var(--eco-json-form-faded-color);\n        }\n        :host a11y-collapse {\n          border: 1px solid var(--eco-json-form-bg);\n          --a11y-collapse-padding-right: 8px;\n          --a11y-collapse-heading-color: var(--eco-json-form-faded-color);\n          --a11y-collapse-heading-background-color: var(--eco-json-form-bg);\n          --a11y-collapse-heading-font-weight: normal;\n          --a11y-collapse-heading-margin: 0;\n          --a11y-collapse-icon-padding: 8px;\n        }\n        :host a11y-collapse:focus,\n        :host a11y-collapse:hover,\n        :host a11y-collapse[expanded] {\n          border: 1px solid var(--eco-json-form-faded-color);\n          --a11y-collapse-heading-color: var(--eco-json-form-color);\n          --a11y-collapse-heading-background-color: var(\n            --eco-json-form-faded-bg\n          );\n          --a11y-collapse-heading-font-weight: normal;\n          --a11y-collapse-heading-margin: 0;\n        }\n        :host p[slot="heading"] {\n          margin: 0;\n        }\n        :host div[slot="content"] > div {\n          width: 100%;\n          display: flex;\n          align-items: flex-end;\n          justify-content: space-between;\n        }\n        :host .item-fields {\n          flex: 1 0 auto;\n        }\n      </style>\n      <fieldset>\n        <legend id="legend" class="flex" hidden\\$="[[!schema.title]]">\n          [[schema.title]]\n        </legend>\n        <a11y-collapse-group\n          id="form"\n          icon="settings"\n          class="vertical flex layout"\n          global-options="[[globalOptions]]"\n        >\n          <template is="dom-repeat" items="[[schema.value]]" as="item" restamp>\n            <a11y-collapse\n              accordion\n              id$="item-[[index]]"\n              icon$="[[globalOptions.icon]]"\n              tooltip$="[[globalOptions.tooltip]]"\n            >\n              <p slot="heading">\n                {{_getHeading(__headings.*,schema.label,index)}}\n              </p>\n              <div slot="content">\n                <div>\n                  <div\n                    id$="value-[[index]]"\n                    class="item-fields"\n                    data-index$="[[index]]"\n                  ></div>\n                  <paper-icon-button\n                    id="remove-[[index]]"\n                    icon="icons:delete"\n                    aria-label="Remove this item"\n                    aria-describedby="item-[[index]]"\n                    class="remove-array-item array-item-button"\n                    controls="item-[[index]]"\n                    on-tap="_onRemoveItem"\n                    role="button"\n                  >\n                  </paper-icon-button>\n                  <paper-tooltip for="remove-[[index]]"\n                    >Remove this item</paper-tooltip\n                  >\n                </div>\n              </div>\n            </a11y-collapse>\n          </template>\n        </a11y-collapse-group>\n        <paper-button\n          class="add-array-item array-item-button"\n          on-click="_onAddItem"\n          role="button"\n        >\n          Add an item\n          <iron-icon icon="add-circle"></iron-icon>\n        </paper-button>\n      </fieldset>\n    ']);return $=function(){return e},e}var q=function(n){function o(){var e;return S(this,o),e=B(this,P(o).call(this)),import("@polymer/iron-icons/iron-icons.js"),import("@polymer/iron-icons/editor-icons.js"),import("@polymer/paper-icon-button/paper-icon-button.js"),import("@lrnwebcomponents/a11y-collapse/a11y-collapse.js"),import("@lrnwebcomponents/a11y-collapse/lib/a11y-collapse-group.js"),e}return C(o,d.mixinBehaviors([p.AppLocalizeBehavior],e.PolymerElement)),A(o,null,[{key:"tag",get:function(){return"eco-json-schema-array"}}]),A(o,[{key:"ready",value:function(){var e=this;z(P(o.prototype),"ready",this).call(this),this.__headings=[],this._schemaChanged(),this.addEventListener("form-field-changed",function(n){e._updateHeadings(n)})}},{key:"disconnectedCallback",value:function(){var e=this;this.removeEventListener("form-field-changed",function(n){e._updateHeadings(n)}),z(P(o.prototype),"disconnectedCallback",this).call(this)}},{key:"_schemaChanged",value:function(){var e=this;m.afterNextRender(this,function(){var n=e.schema.items.itemLabel;e.schema.value&&e.schema.value.forEach(function(o){e.push("__headings",o[n])}),e.shadowRoot.querySelectorAll(".item-fields").forEach(function(n){var t=n.getAttribute("data-index"),r="".concat(e.propertyPrefix).concat(e.propertyName),a="".concat(r,".").concat(t),i=e.schema.value[t];e.dispatchEvent(new CustomEvent("build-fieldset",{bubbles:!1,cancelable:!0,composed:!0,detail:{container:n,path:r,prefix:a,properties:e.schema.properties.map(function(e){var n=JSON.parse(JSON.stringify(e));return n.value=i[e.name],n}),type:o.tag,value:e.schema.value||[]}}))})})}},{key:"_onAddItem",value:function(e){var n={};this.schema.properties.forEach(function(e){n[e.name]=e.value}),this.push("schema.value",n),this.notifyPath("schema.value.*"),this._schemaChanged()}},{key:"_onRemoveItem",value:function(e){var n=e.target.controls.replace(/item-/,"");this.splice("schema.value",n,1),this.notifyPath("schema.value.*"),this._schemaChanged()}},{key:"_updateHeadings",value:function(e){var n=e.detail.getAttribute("name"),o=e.detail.value,t=n?n.split("."):[],r=t.length>2?t[t.length-2]:null,a=e.detail.propertyName===this.schema.items.itemLabel?o:this.__headings[r];r&&this.set("__headings.".concat(r),a)}},{key:"_getHeading",value:function(e,n,o){return this.__headings&&this.__headings[o]&&"string"==typeof this.__headings[o]&&""!==this.__headings[o].trim("")?this.__headings[o].trim(""):n&&"string"==typeof n&&""!==n.trim("")?"".concat(n.trim("")," ").concat(o+1):"Item ".concat(o+1)}}],[{key:"template",get:function(){return e.html($())}},{key:"properties",get:function(){return{globalOptions:{type:Object,value:{icon:"settings",tooltip:"configure item"},notify:!0},propertyName:{type:String,value:null},schema:{type:Object,value:{},notify:!0,observer:"_schemaChanged"},__headings:{type:Array,value:[],notify:!0}}}}]),o}();function T(){var e=N(['\n      <style include="iron-flex iron-flex-alignment">\n        :host {\n          color: var(--eco-json-form-color);\n          background-color: var(--eco-json-form-bg);\n          font-family: var(--eco-json-form-font-family);\n          margin-bottom: 15px;\n        }\n        :host ([hidden]) {\n          display: none;\n        }\n        :host fieldset {\n          border-radius: var(--eco-json-form-border-radius);\n          border-style: solid;\n          border-width: 1px;\n          border-color: var(--eco-json-form-faded-color);\n          transition: all 0.5s;\n        }\n        :host legend {\n          transition: all 0.5s;\n          color: var(--eco-json-form-faded-color);\n        }\n        :host fieldset:focus #legend,\n        :host fieldset:focus-within #legend {\n          color: var(--eco-json-form-active-color);\n        }\n        :host eco-json-schema-object {\n          flex: 1 0 auto;\n        }\n      </style>\n      <fieldset>\n        <legend id="legend" class="flex" hidden$="[[!schema.title]]">\n          [[schema.title]]\n        </legend>\n        <div hidden$="[[!schema.description]]">[[item.description]]</div>\n        <div class="item-fields"></div>\n      </fieldset>\n    '],['\n      <style include="iron-flex iron-flex-alignment">\n        :host {\n          color: var(--eco-json-form-color);\n          background-color: var(--eco-json-form-bg);\n          font-family: var(--eco-json-form-font-family);\n          margin-bottom: 15px;\n        }\n        :host ([hidden]) {\n          display: none;\n        }\n        :host fieldset {\n          border-radius: var(--eco-json-form-border-radius);\n          border-style: solid;\n          border-width: 1px;\n          border-color: var(--eco-json-form-faded-color);\n          transition: all 0.5s;\n        }\n        :host legend {\n          transition: all 0.5s;\n          color: var(--eco-json-form-faded-color);\n        }\n        :host fieldset:focus #legend,\n        :host fieldset:focus-within #legend {\n          color: var(--eco-json-form-active-color);\n        }\n        :host eco-json-schema-object {\n          flex: 1 0 auto;\n        }\n      </style>\n      <fieldset>\n        <legend id="legend" class="flex" hidden\\$="[[!schema.title]]">\n          [[schema.title]]\n        </legend>\n        <div hidden$="[[!schema.description]]">[[item.description]]</div>\n        <div class="item-fields"></div>\n      </fieldset>\n    ']);return T=function(){return e},e}window.customElements.define(q.tag,q);var R=function(n){function o(){return S(this,o),B(this,P(o).call(this))}return C(o,d.mixinBehaviors([p.AppLocalizeBehavior],e.PolymerElement)),A(o,null,[{key:"tag",get:function(){return"eco-json-schema-fieldset"}}]),A(o,[{key:"ready",value:function(){z(P(o.prototype),"ready",this).call(this),this._schemaChanged()}},{key:"_schemaChanged",value:function(){var e=this;f.afterNextRender(this,function(){e.shadowRoot.querySelectorAll(".item-fields").forEach(function(n,t){var r="".concat(e.propertyName);e.dispatchEvent(new CustomEvent("build-fieldset",{bubbles:!1,cancelable:!0,composed:!0,detail:{container:n,path:r,prefix:r,properties:e.schema.properties,type:o.tag,value:e.schema.properties[t].value||{}}}))})})}}],[{key:"template",get:function(){return e.html(T())}},{key:"properties",get:function(){return{propertyName:{type:String,value:null},schema:{type:Object,value:{}}}}}]),o}();function F(){var e=N(['\n      <style include="iron-flex iron-flex-alignment">\n        :host {\n          color: var(--eco-json-form-color);\n          background-color: var(--eco-json-form-bg);\n          font-family: var(--eco-json-form-font-family);\n        }\n        :host ([hidden]) {\n          display: none;\n        }\n      </style>\n      <div class="markup">\n        <slot></slot>\n      </div>\n    ']);return F=function(){return e},e}window.customElements.define(R.tag,R);var M=function(n){function o(){return S(this,o),B(this,P(o).apply(this,arguments))}return C(o,d.mixinBehaviors([p.AppLocalizeBehavior],e.PolymerElement)),A(o,[{key:"_valueChanged",value:function(e){h.wipeSlot(this);var n=h.encapScript(e),o=document.createRange().createContextualFragment(n);this.appendChild(o)}}],[{key:"tag",get:function(){return"eco-json-schema-markup"}},{key:"template",get:function(){return e.html(F())}},{key:"properties",get:function(){return{value:{type:String,notify:!0,value:""}}}}]),o}();function L(){var e=N(['\n      <custom-style>\n        <style is="custom-style" include="iron-flex iron-flex-alignment">\n          :host{\n            color: var(--eco-json-form-color);\n            background-color: var(--eco-json-form-bg);\n            font-family: var(--eco-json-form-font-family);\n            margin-bottom: 15px;\n          }\n          :host ([hidden]) {\n            display: none;\n          }\n          :host a11y-tabs {\n            --a11y-tabs-color: var(--eco-json-form-faded-color);\n            --a11y-tabs-focus-color: var(--eco-json-form-color);\n            --a11y-tabs-border-color: var(--eco-json-form-faded-color);\n            --a11y-tabs-border-radius: var(--eco-json-form-border-radius);\n            --a11y-tabs-background: var(--eco-json-form-bg);\n            --a11y-tabs-faded-background: var(--eco-json-form-faded-bg);\n            --a11y-tabs-justify-tabs: flex-start;\n            --ally-tabs-wrap: unset;\n            --a11y-tabs-content-padding: 8px 16px 16px;\n            --a11y-tabs-button-padding: 8px;\n            --a11y-tabs-vertical-button-padding: unset;\n            --a11y-tabs-horizontal-border-radius: unset;\n            --a11y-tabs-vertical-border-radius: unset;\n            --a11y-tabs-horizontal-button-padding: 2px 5px;\n          }\n          :host a11y-tabs:focus,\n          :host a11y-tabs:focus-within {\n            --a11y-tabs-border-color: : var(--eco-json-form-focus-color);\n          }\n          :host .tab-title {\n            position: absolute;\n            left: -99999px;\n            height: 0;\n            overflow: hidden;\n          }\n        </style>\n      </custom-style>\n      <a11y-tabs id$="[[schema.property]]">\n        <template\n          is="dom-repeat"\n          items="[[schema.properties]]"\n          as="item"\n          restamp\n        >\n          <a11y-tab\n            id$="item-[[index]]"\n            icon$="[[item.icon]]"\n            label$="[[item.label]]"\n          >\n            <div hidden$="[[!item.description]]">[[item.description]]</div>\n            <div\n              id$="[[item.property]]"\n              class="item-fields"\n              data-index$="[[index]]"\n            ></div>\n          </a11y-tab>\n        </template>\n      </a11y-tabs>\n    ']);return L=function(){return e},e}window.customElements.define(M.tag,M);var D=function(n){function o(){return S(this,o),B(this,P(o).apply(this,arguments))}return C(o,d.mixinBehaviors([p.AppLocalizeBehavior],e.PolymerElement)),A(o,[{key:"ready",value:function(){z(P(o.prototype),"ready",this).call(this),this._schemaChanged()}},{key:"_schemaChanged",value:function(){var e=this;f.afterNextRender(this,function(){e.shadowRoot.querySelectorAll(".item-fields").forEach(function(n){var t=n.getAttribute("data-index"),r=e.propertyName,a=e.schema.properties[t],i=a.name,l="".concat(r,".").concat(i);e.dispatchEvent(new CustomEvent("build-fieldset",{bubbles:!1,cancelable:!0,composed:!0,detail:{container:n,path:l,prefix:l,properties:a.schema.properties,type:o.tag,value:a.value||{}}}))})})}}],[{key:"tag",get:function(){return"eco-json-schema-tabs"}},{key:"template",get:function(){return e.html(L())}},{key:"properties",get:function(){return{propertyName:{type:String,value:null},schema:{type:Object,value:{}}}}}]),o}();function U(){var e=N(['\n      <style is="custom-style" include="iron-flex iron-flex-alignment">\n        :host ([hidden]) {\n          display: none;\n        }\n        paper-checkbox {\n          display: block;\n          font-size: 16px;\n          white-space: normal;\n          margin: var(--eco-json-field-margin, 0 0 15px);\n          --paper-checkbox-checkmark-color: var(\n            --eco-json-form-bg,\n            var(--primary-background-color, #fff)\n          );\n          --paper-checkbox-unchecked-background-color: var(\n            --eco-json-form-bg,\n            var(--primary-background-color, #fff)\n          );\n          --paper-checkbox-checked-color: var(\n            --eco-json-form-active-color,\n            var(--primary-color, #000)\n          );\n          --paper-checkbox-unchecked-color: var(\n            --eco-json-form-active-color,\n            var(--primary-text-text-color, #222)\n          );\n          --paper-checkbox-label-color: var(\n            --eco-json-form-color,\n            var(--secondary-text-color, #888)\n          );\n        }\n        :host paper-checkbox:focus {\n          --paper-checkbox-unchecked-color: var(\n            --eco-json-form-active-color,\n            var(--primary-color, #000)\n          );\n          --paper-checkbox-label-color: var(\n            --eco-json-form-active-color,\n            var(--primary-text-text-color, #222)\n          );\n        }\n      </style>\n\n      <paper-checkbox\n        id="checkbox"\n        class="flex"\n        hidden$="[[hidden]]"\n        checked="{{value}}"\n        invalid="[[error]]"\n        >[[_label]]</paper-checkbox\n      >\n    ']);return U=function(){return e},e}window.customElements.define(D.tag,D);var V=function(n){function o(){return S(this,o),B(this,P(o).apply(this,arguments))}return C(o,e.PolymerElement),A(o,[{key:"_schemaChanged",value:function(){var e=this.schema,n=this.shadowRoot.querySelector("#checkbox");e.component&&e.component.properties&&Object.keys(e.component.properties).forEach(function(o){n[o]=e.component.properties[o]}),e.title&&(this._label=e.title)}},{key:"_isSchemaValue",value:function(e){return this._isSchemaBoolean(e)||this._isSchemaNumber(e)||this._isSchemaString(e)}},{key:"_isSchemaBoolean",value:function(e){return Array.isArray(e)?-1!==e.indexOf("boolean"):"boolean"===e}},{key:"_isSchemaNumber",value:function(e){return Array.isArray(e)?-1!==e.indexOf("number")||-1!==e.indexOf("integer"):"number"===e||"integer"===e}},{key:"_isSchemaString",value:function(e){return Array.isArray(e)?-1!==e.indexOf("string"):"string"===e}},{key:"_isSchemaObject",value:function(e){return"object"===e}},{key:"_isSchemaArray",value:function(e){return"array"===e}}],[{key:"tag",get:function(){return"eco-json-schema-boolean"}},{key:"template",get:function(){return e.html(U())}},{key:"properties",get:function(){return{schema:{type:Object,observer:"_schemaChanged"},value:{type:Boolean,notify:!0,value:!1},error:{type:Boolean,value:!1},_label:{type:String,notify:!0,value:""}}}}]),o}();function I(){var e=N(['\n      <style is="custom-style" include="iron-flex iron-flex-alignment">\n        :host ([hidden]) {\n          display: none;\n        }\n        paper-input {\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #212121;\n          }\n        }\n\n        paper-dropdown-menu {\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #212121;\n          }\n          --paper-dropdown-menu-button: {\n            padding: 2px;\n          }\n        }\n      </style>\n\n      <paper-dropdown-menu\n        id="dropdown"\n        class="layout horizontal vertical"\n        value="{{value}}"\n        required=""\n      >\n        <paper-dropdown-menu class="dropdown-content">\n          <paper-listbox slot="dropdown-content" selected="0">\n            <template is="dom-repeat" items="[[_items]]">\n              <paper-item class="flex" label="[[item]]">[[item]]</paper-item>\n            </template>\n          </paper-listbox>\n        </paper-dropdown-menu>\n      </paper-dropdown-menu>\n    ']);return I=function(){return e},e}window.customElements.define(V.tag,V);var J=function(n){function o(){return S(this,o),B(this,P(o).apply(this,arguments))}return C(o,d.mixinBehaviors([k.IronValidatableBehavior],e.PolymerElement)),A(o,[{key:"_schemaChanged",value:function(){var e=this.schema,n=this.shadowRoot.querySelector("#dropdown");e.component&&e.component.properties&&Object.keys(e.component.properties).forEach(function(o){n[o]=e.component.properties[o]}),this._items=e.enum.filter(function(e){return null!==e}),e.title&&(n.label=e.title)}},{key:"_errorChanged",value:function(){this.error?this.shadowRoot.querySelector("#dropdown").invalid=!0:this.shadowRoot.querySelector("#dropdown").invalid=!1}},{key:"_isSchemaValue",value:function(e){return this._isSchemaBoolean(e)||this._isSchemaNumber(e)||this._isSchemaString(e)}},{key:"_isSchemaBoolean",value:function(e){return Array.isArray(e)?-1!==e.indexOf("boolean"):"boolean"===e}},{key:"_isSchemaNumber",value:function(e){return Array.isArray(e)?-1!==e.indexOf("number")||-1!==e.indexOf("integer"):"number"===e||"integer"===e}},{key:"_isSchemaString",value:function(e){return Array.isArray(e)?-1!==e.indexOf("string"):"string"===e}},{key:"_isSchemaObject",value:function(e){return"object"===e}},{key:"_isSchemaArray",value:function(e){return"array"===e}}],[{key:"template",get:function(){return e.html(I())}},{key:"tag",get:function(){return"eco-json-schema-enum"}},{key:"properties",get:function(){return{schema:{type:Object,observer:"_schemaChanged"},value:{type:String,notify:!0,value:null},error:{type:String,observer:"_errorChanged",value:null},_items:{type:Object,value:function(){return{}}}}}}]),o}();function H(){var e=N(['\n      <style is="custom-style" include="iron-flex iron-flex-alignment">\n        :host ([hidden]) {\n          display: none;\n        }\n        paper-input {\n          padding: 2px;\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #212121;\n          }\n        }\n\n        :host {\n          display: inline-block;\n        }\n\n        .enabled {\n          border: 1px dashed #555;\n          @apply --file-upload-upload-border-enabled;\n        }\n\n        .hover {\n          opacity: 0.7;\n          border: 1px dashed #111;\n          @apply --file-upload-upload-border-hover;\n        }\n\n        #UploadBorder {\n          vertical-align: middle;\n          color: #555;\n          padding: 20px;\n          max-height: 300px;\n          overflow-y: auto;\n          display: inline-block;\n          @apply --file-upload-upload-border;\n        }\n\n        #dropArea {\n          text-align: center;\n          @apply --file-upload-drop-area;\n        }\n\n        paper-button#button {\n          margin-bottom: 20px;\n          @apply --file-upload-button;\n        }\n\n        .file {\n          padding: 10px 0px;\n          @apply --file-upload-file;\n        }\n\n        .commands {\n          float: right;\n          @apply --file-upload-commands;\n        }\n\n        .commands iron-icon:not([icon="check-circle"]) {\n          cursor: pointer;\n          opacity: 0.9;\n          @apply --file-upload-commands-faded;\n        }\n\n        .commands iron-icon:hover {\n          opacity: 1;\n          @apply --file-upload-commands-hovered;\n        }\n\n        [hidden] {\n          display: none;\n        }\n\n        .error {\n          color: #f40303;\n          font-size: 11px;\n          margin-top: 2px;\n          @apply --file-upload-error;\n        }\n\n        .progress-bar {\n          margin-top: 2px;\n        }\n\n        paper-progress {\n          --paper-progress-active-color: #03a9f4;\n        }\n\n        paper-progress[error] {\n          --paper-progress-active-color: #f40303;\n        }\n      </style>\n\n      <div class="layout horizontal nowrap">\n        <div>\n          <paper-button\n            id="button"\n            on-click="_fileClick"\n            alt="{{paperButtonAlt}}"\n            raised=""\n          >\n            <iron-icon icon="editor:attach-file"></iron-icon\n            >{{paperButtonTitle}}</paper-button\n          >\n          <div id="UploadBorder">\n            <div id="dropArea" hidden$="{{!_shownDropText}}">{{dropText}}</div>\n            <template is="dom-repeat" items="{{files}}">\n              <div class="file">\n                <div class="name">\n                  <span>{{item.name}}</span>\n                  <div class="commands">\n                    <iron-icon\n                      icon="autorenew"\n                      title="{{retryText}}"\n                      on-click="_retryUpload"\n                      hidden$="{{!item.error}}"\n                    ></iron-icon>\n                    <iron-icon\n                      icon="cancel"\n                      title="{{removeText}}"\n                      on-click="_cancelUpload"\n                      hidden$="{{item.complete}}"\n                    ></iron-icon>\n                    <iron-icon\n                      icon="check-circle"\n                      title="{{successText}}"\n                      hidden$="{{!item.complete}}"\n                    ></iron-icon>\n                  </div>\n                </div>\n                <div class="error" hidden$="{{!item.error}}">\n                  {{errorText}}\n                </div>\n              </div>\n            </template>\n          </div>\n        </div>\n        <input\n          type="file"\n          id="fileInput"\n          on-change="_fileChange"\n          hidden=""\n          multiple="{{multi}}"\n          accept="{{accept}}"\n        />\n      </div>\n    '],['\n      <style is="custom-style" include="iron-flex iron-flex-alignment">\n        :host ([hidden]) {\n          display: none;\n        }\n        paper-input {\n          padding: 2px;\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #212121;\n          }\n        }\n\n        :host {\n          display: inline-block;\n        }\n\n        .enabled {\n          border: 1px dashed #555;\n          @apply --file-upload-upload-border-enabled;\n        }\n\n        .hover {\n          opacity: 0.7;\n          border: 1px dashed #111;\n          @apply --file-upload-upload-border-hover;\n        }\n\n        #UploadBorder {\n          vertical-align: middle;\n          color: #555;\n          padding: 20px;\n          max-height: 300px;\n          overflow-y: auto;\n          display: inline-block;\n          @apply --file-upload-upload-border;\n        }\n\n        #dropArea {\n          text-align: center;\n          @apply --file-upload-drop-area;\n        }\n\n        paper-button#button {\n          margin-bottom: 20px;\n          @apply --file-upload-button;\n        }\n\n        .file {\n          padding: 10px 0px;\n          @apply --file-upload-file;\n        }\n\n        .commands {\n          float: right;\n          @apply --file-upload-commands;\n        }\n\n        .commands iron-icon:not([icon="check-circle"]) {\n          cursor: pointer;\n          opacity: 0.9;\n          @apply --file-upload-commands-faded;\n        }\n\n        .commands iron-icon:hover {\n          opacity: 1;\n          @apply --file-upload-commands-hovered;\n        }\n\n        [hidden] {\n          display: none;\n        }\n\n        .error {\n          color: #f40303;\n          font-size: 11px;\n          margin-top: 2px;\n          @apply --file-upload-error;\n        }\n\n        .progress-bar {\n          margin-top: 2px;\n        }\n\n        paper-progress {\n          --paper-progress-active-color: #03a9f4;\n        }\n\n        paper-progress[error] {\n          --paper-progress-active-color: #f40303;\n        }\n      </style>\n\n      <div class="layout horizontal nowrap">\n        <div>\n          <paper-button\n            id="button"\n            on-click="_fileClick"\n            alt="{{paperButtonAlt}}"\n            raised=""\n          >\n            <iron-icon icon="editor:attach-file"></iron-icon\n            >{{paperButtonTitle}}</paper-button\n          >\n          <div id="UploadBorder">\n            <div id="dropArea" hidden\\$="{{!_shownDropText}}">{{dropText}}</div>\n            <template is="dom-repeat" items="{{files}}">\n              <div class="file">\n                <div class="name">\n                  <span>{{item.name}}</span>\n                  <div class="commands">\n                    <iron-icon\n                      icon="autorenew"\n                      title="{{retryText}}"\n                      on-click="_retryUpload"\n                      hidden\\$="{{!item.error}}"\n                    ></iron-icon>\n                    <iron-icon\n                      icon="cancel"\n                      title="{{removeText}}"\n                      on-click="_cancelUpload"\n                      hidden\\$="{{item.complete}}"\n                    ></iron-icon>\n                    <iron-icon\n                      icon="check-circle"\n                      title="{{successText}}"\n                      hidden\\$="{{!item.complete}}"\n                    ></iron-icon>\n                  </div>\n                </div>\n                <div class="error" hidden\\$="{{!item.error}}">\n                  {{errorText}}\n                </div>\n              </div>\n            </template>\n          </div>\n        </div>\n        <input\n          type="file"\n          id="fileInput"\n          on-change="_fileChange"\n          hidden=""\n          multiple="{{multi}}"\n          accept="{{accept}}"\n        />\n      </div>\n    ']);return H=function(){return e},e}window.customElements.define(J.tag,J);var K=function(n){function o(){return S(this,o),B(this,P(o).apply(this,arguments))}return C(o,d.mixinBehaviors([p.AppLocalizeBehavior],e.PolymerElement)),A(o,[{key:"clear",value:function(){this.set("files",[]),this.shadowRoot.querySelector("#fileInput").value="",this._showDropText()}},{key:"ready",value:function(){z(P(o.prototype),"ready",this).call(this),this.raised&&this.toggleAttribute("raised",!0,this.shadowRoot.querySelector("#button")),this.noink&&this.toggleAttribute("noink",!0,this.shadowRoot.querySelector("#button")),this.droppable&&(this._showDropText(),this.setupDrop())}},{key:"setupDrop",value:function(){var e=this.shadowRoot.querySelector("#UploadBorder");this.toggleClass("enabled",!0,e),this.ondragover=function(n){n.stopPropagation(),this.toggleClass("hover",!0,e);var o=n.dataTransfer&&n.dataTransfer.dropEffect,t=n.dataTransfer&&n.dataTransfer.effectAllowed;return"none"===o&&"none"!==t&&(n.dataTransfer.dropEffect="move"===t?"move":"copy"),!1},this.ondragleave=function(){return this.toggleClass("hover",!1,e),!1},this.ondrop=function(n){if(this.toggleClass("hover",!1,e),n.preventDefault(),this.multi||0===this.files.length)for(var o=n.dataTransfer.files.length,t=0;t<o;t++){var r=n.dataTransfer.files[t],a=""!==r.type?r.type.match(/^[^\/]*\//)[0]:null,i=r.name.match(/\.[^\.]*$/)[0];(""===this.accept||this.accept.indexOf(a)>-1||this.accept.indexOf(i)>-1)&&(r.progress=0,r.error=!1,r.complete=!1,this.push("files",r),this.uploadFile(r))}}}},{key:"_fileClick",value:function(){var e=this.shadowRoot.querySelector("#fileInput");if(e&&document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!1),e.dispatchEvent(n)}}},{key:"_fileChange",value:function(e){for(var n=e.target.files.length,o=0;o<n;o++){var t=e.target.files[o];t.progress=0,t.error=!1,t.complete=!1,this.push("files",t),this.multi||0===this.files.length||(this.set("files",[]),this.set("value",{})),this.uploadFile(t)}}},{key:"cancel",value:function(e){e&&(e.xhr&&e.xhr.abort(),this.splice("files",this.files.indexOf(e),1),this._showDropText())}},{key:"_cancelUpload",value:function(e){this.cancel(e.model.__data__.item)}},{key:"_retryUpload",value:function(e){e.model.set("item.error",!1),e.model.set("item.progress",0);var n=this;_.microTask.run(function(){n.uploadFile(e.model.__data__.item)})}},{key:"_showDropText",value:function(){this.set("_shownDropText",!this.files.length&&this.droppable)}},{key:"uploadFile",value:function(e){if(e){this.dispatchEvent(new CustomEvent("before-upload",{bubbles:!0,cancelable:!0,composed:!0,detail:!0})),this._showDropText();this.files.indexOf(e);var n=this,o=new FileReader;o.addEventListener("load",function(){var t=o.result;n.set("value."+n.attributes.name.value+"."+n.files.indexOf(e),t)},!1),n.value.hasOwnProperty(n.attributes.name.value)||this.set("value."+n.attributes.name.value,{}),o.readAsDataURL(e)}}},{key:"_valueChanged",value:function(){console.log("this.value: "+JSON.stringify(this.value))}},{key:"_schemaChanged",value:function(){this.schema}},{key:"_isSchemaValue",value:function(e){return this._isSchemaFile(e)}},{key:"_isSchemaFile",value:function(e){return Array.isArray(e)?-1!==e.indexOf("file"):"file"===e}},{key:"_isSchemaBoolean",value:function(e){return Array.isArray(e)?-1!==e.indexOf("boolean"):"boolean"===e}},{key:"_isSchemaNumber",value:function(e){return Array.isArray(e)?-1!==e.indexOf("number")||-1!==e.indexOf("integer"):"number"===e||"integer"===e}},{key:"_isSchemaString",value:function(e){return Array.isArray(e)?-1!==e.indexOf("string"):"string"===e}},{key:"_isSchemaObject",value:function(e){return"object"===e}},{key:"_isSchemaArray",value:function(e){return"array"===e}},{key:"stringify",value:function(e){return JSON.stringify(e)}}],[{key:"tag",get:function(){return"eco-json-schema-file"}},{key:"template",get:function(){return e.html(H())}},{key:"properties",get:function(){return{language:{value:"en",notify:!0},resources:{value:function(){return{}},notify:!0},schema:{type:Object,observer:"_schemaChanged"},value:{type:Object,notify:!0,value:function(){return{}},observer:"_valueChanged"},target:{type:String,value:""},accept:{type:String,value:""},droppable:{type:Boolean,value:!1},dropText:{type:String,value:"Drop Files Here"},multi:{type:Boolean,value:!0},files:{type:Array,notify:!0,value:function(){return[]}},raised:{type:Boolean,value:!0},noink:{type:Boolean,value:!1},headers:{type:Object,value:{}},retryText:{type:String,value:"Retry Upload"},removeText:{type:String,value:"Remove"},successText:{type:String,value:"Success"},errorText:{type:String,value:"Error uploading file..."},_shownDropText:{type:Boolean,value:!1},additional:{type:Object,value:{}},fileDataName:{type:String,value:"file"},paperButtonAlt:{type:String,value:""},paperButtonTitle:{type:String,value:""}}}}]),o}();function Z(){var e=N(['\n      <custom-style>\n        <style is="custom-style" include="iron-flex iron-flex-alignment">\n          :host ([hidden]) {\n            display: none;\n          }\n        </style>\n      </custom-style>\n      <paper-input\n        id="input"\n        class="flex"\n        value="{{value}}"\n        auto-validate\n      ></paper-input>\n    ']);return Z=function(){return e},e}window.customElements.define(K.tag,K);var G=function(n){function o(){return S(this,o),B(this,P(o).apply(this,arguments))}return C(o,d.mixinBehaviors([p.AppLocalizeBehavior],e.PolymerElement)),A(o,[{key:"_schemaChanged",value:function(){var e=this.schema,n=this.shadowRoot.querySelector("#input");e.required&&(n.required=!0),this._isSchemaNumber(e.type)&&(n.type="number",e.multipleOf&&(n.step=e.multipleOf),isNaN(e.maximum)||(e.exclusiveMaximum?n.max=e.maximum-(e.multipleOf||1):n.max=e.maximum),isNaN(e.minimum)||(e.exclusiveMinimum?n.min=e.minimum+(e.multipleOf||1):n.min=e.minimum)),this._isSchemaString(e.type)&&("date-time"===e.format?(n.type="datetime-local",n.alwaysFloatLabel=!0):"date"===e.format?n.type="date":"email"===e.format?n.type="email":"hostname"===e.format?n.type="text":"ipv4"===e.format?n.type="text":"ipv6"===e.format?n.type="text":"uri"===e.format?n.type="url":n.type="text",e.maxLength&&(n.maxlength=e.maxLength),e.minLength&&(n.minlength=e.minLength),e.pattern&&(n.pattern=e.pattern)),e.component&&e.component.properties&&Object.keys(e.component.properties).forEach(function(o){n[o]=e.component.properties[o]}),n.alwaysFloatLabel=!0,e.title&&(n.label=e.title)}},{key:"_errorChanged",value:function(){this.error?(this.shadowRoot.querySelector("#input").errorMessage=this.error,this.shadowRoot.querySelector("#input").invalid=!0):(this.shadowRoot.querySelector("#input").invalid=!1,this.shadowRoot.querySelector("#input").errorMessage=null)}},{key:"_isSchemaValue",value:function(e){return this._isSchemaBoolean(e)||this._isSchemaNumber(e)||this._isSchemaString(e)}},{key:"_isSchemaBoolean",value:function(e){return Array.isArray(e)?-1!==e.indexOf("boolean"):"boolean"===e}},{key:"_isSchemaNumber",value:function(e){return Array.isArray(e)?-1!==e.indexOf("number")||-1!==e.indexOf("integer"):"number"===e||"integer"===e}},{key:"_isSchemaString",value:function(e){return Array.isArray(e)?-1!==e.indexOf("string"):"string"===e}},{key:"_isSchemaObject",value:function(e){return"object"===e}},{key:"_isSchemaArray",value:function(e){return"array"===e}}],[{key:"tag",get:function(){return"eco-json-schema-input"}},{key:"template",get:function(){return e.html(Z())}},{key:"properties",get:function(){return{language:{value:"en"},resources:{value:function(){return{}}},schema:{type:Object,observer:"_schemaChanged"},value:{type:String,notify:!0,value:function(){return""}},error:{type:String,observer:"_errorChanged",value:null}}}}]),o}();function Q(){var e=N(['\n      <custom-style>\n        <style is="custom-style" include="iron-flex iron-flex-alignment">\n          :host {\n            --eco-json-field-margin: 0 0 15px;\n            --eco-json-form-border-radius: 2px;\n            --eco-json-form-font-family: var(\n              --paper-font-caption_-_font-family,\n              unset\n            );\n            --eco-json-form-bg: var(--primary-background-color, #fff);\n            --eco-json-form-color: var(--primary-text-color, #222);\n            --eco-json-form-faded-color: #888;\n            --eco-json-form-active-color: var(--primary-color, #000);\n            --eco-json-form-faded-bg: #f0f0f0;\n            --eco-json-form-add-color: #008811;\n            --eco-json-form-add-focus: #007700;\n            --eco-json-form-remove-focus: #cc0000;\n            --eco-json-form-remove-color: #dd0000;\n            --simple-picker-float-label-color: var(--eco-json-form-faded-color);\n            --simple-picker-float-label-active-color: var(\n              --eco-json-form-active-color\n            );\n            --simple-picker-background-color: var(--eco-json-form-bg);\n            --simple-picker-border-color: var(--eco-json-form-faded-color);\n            --simple-picker-focus-border-color: var(\n              --eco-json-form-active-color\n            );\n            --simple-picker-focus-border-width: 2px;\n            --paper-input-container: {\n              padding-top: 0;\n            }\n          }\n          div.layout {\n            height: auto;\n          }\n          #form {\n            display: block;\n            font-family: var(--eco-json-form-font-family);\n            background-color: var(--eco-json-form-bg);\n            color: var(--eco-json-form-color);\n            --paper-tooltip-background: var(--eco-json-form-active-color);\n            --paper-tooltip-text-color: var(--eco-json-form-bg);\n            @apply --eco-json-schema-object-form;\n            @apply --layout-vertical;\n            @apply --layout-wrap;\n          }\n          #form ::slotted(paper-input) {\n            margin-bottom: 15px;\n          }\n          #form ::slotted(*.has-tooltip-desc) {\n            margin-bottom: 0;\n            padding-bottom: 0;\n            --paper-input-container: {\n              margin-bottom: 0;\n              padding-bottom: 0;\n            }\n          }\n          #form ::slotted(div.tooltip-desc) {\n            font-size: 12px;\n            margin: var(--eco-json-field-margin);\n            color: var(--eco-json-form-faded-color);\n          }\n          #form ::slotted(paper-input),\n          #form ::slotted(div.tooltip-desc) {\n            font-family: var(--eco-json-form-font-family);\n          }\n          #form ::slotted(div.desc-for-paper-textarea) {\n            margin-top: -18px;\n            margin-right: 35px;\n          }\n          #form ::slotted(code-editor) {\n            margin: 8px 0;\n            padding: 0;\n            --code-editor-float-label-color: var(--eco-json-form-faded-color);\n            --code-editor-float-label-active-color: var(\n              --eco-json-form-active-color\n            );\n            --code-pen-button-color: var(--eco-json-form-faded-color);\n            --code-editor-code-border: 1px solid\n              var(--eco-json-form-faded-color);\n            --code-editor-code-border-radius: 2px;\n            --code-editor-focus-code-border: 2px solid\n              var(--eco-json-form-active-color);\n          }\n        </style>\n      </custom-style>\n\n      <template is="dom-if" if="{{!wizard}}">\n        <div class="header" hidden$="[[!label]]">[[label]]</div>\n      </template>\n      <div class="layout vertical flex start-justified">\n        <div\n          id="form"\n          class="layout horizontal flex start-justified"\n          aria-live="polite"\n        >\n          <slot></slot>\n        </div>\n      </div>\n    '],['\n      <custom-style>\n        <style is="custom-style" include="iron-flex iron-flex-alignment">\n          :host {\n            --eco-json-field-margin: 0 0 15px;\n            --eco-json-form-border-radius: 2px;\n            --eco-json-form-font-family: var(\n              --paper-font-caption_-_font-family,\n              unset\n            );\n            --eco-json-form-bg: var(--primary-background-color, #fff);\n            --eco-json-form-color: var(--primary-text-color, #222);\n            --eco-json-form-faded-color: #888;\n            --eco-json-form-active-color: var(--primary-color, #000);\n            --eco-json-form-faded-bg: #f0f0f0;\n            --eco-json-form-add-color: #008811;\n            --eco-json-form-add-focus: #007700;\n            --eco-json-form-remove-focus: #cc0000;\n            --eco-json-form-remove-color: #dd0000;\n            --simple-picker-float-label-color: var(--eco-json-form-faded-color);\n            --simple-picker-float-label-active-color: var(\n              --eco-json-form-active-color\n            );\n            --simple-picker-background-color: var(--eco-json-form-bg);\n            --simple-picker-border-color: var(--eco-json-form-faded-color);\n            --simple-picker-focus-border-color: var(\n              --eco-json-form-active-color\n            );\n            --simple-picker-focus-border-width: 2px;\n            --paper-input-container: {\n              padding-top: 0;\n            }\n          }\n          div.layout {\n            height: auto;\n          }\n          #form {\n            display: block;\n            font-family: var(--eco-json-form-font-family);\n            background-color: var(--eco-json-form-bg);\n            color: var(--eco-json-form-color);\n            --paper-tooltip-background: var(--eco-json-form-active-color);\n            --paper-tooltip-text-color: var(--eco-json-form-bg);\n            @apply --eco-json-schema-object-form;\n            @apply --layout-vertical;\n            @apply --layout-wrap;\n          }\n          #form ::slotted(paper-input) {\n            margin-bottom: 15px;\n          }\n          #form ::slotted(*.has-tooltip-desc) {\n            margin-bottom: 0;\n            padding-bottom: 0;\n            --paper-input-container: {\n              margin-bottom: 0;\n              padding-bottom: 0;\n            }\n          }\n          #form ::slotted(div.tooltip-desc) {\n            font-size: 12px;\n            margin: var(--eco-json-field-margin);\n            color: var(--eco-json-form-faded-color);\n          }\n          #form ::slotted(paper-input),\n          #form ::slotted(div.tooltip-desc) {\n            font-family: var(--eco-json-form-font-family);\n          }\n          #form ::slotted(div.desc-for-paper-textarea) {\n            margin-top: -18px;\n            margin-right: 35px;\n          }\n          #form ::slotted(code-editor) {\n            margin: 8px 0;\n            padding: 0;\n            --code-editor-float-label-color: var(--eco-json-form-faded-color);\n            --code-editor-float-label-active-color: var(\n              --eco-json-form-active-color\n            );\n            --code-pen-button-color: var(--eco-json-form-faded-color);\n            --code-editor-code-border: 1px solid\n              var(--eco-json-form-faded-color);\n            --code-editor-code-border-radius: 2px;\n            --code-editor-focus-code-border: 2px solid\n              var(--eco-json-form-active-color);\n          }\n        </style>\n      </custom-style>\n\n      <template is="dom-if" if="{{!wizard}}">\n        <div class="header" hidden\\$="[[!label]]">[[label]]</div>\n      </template>\n      <div class="layout vertical flex start-justified">\n        <div\n          id="form"\n          class="layout horizontal flex start-justified"\n          aria-live="polite"\n        >\n          <slot></slot>\n        </div>\n      </div>\n    ']);return Q=function(){return e},e}window.customElements.define(G.tag,G);var W=function(n){function o(){return S(this,o),B(this,P(o).apply(this,arguments))}return C(o,d.mixinBehaviors([p.AppLocalizeBehavior],e.PolymerElement)),A(o,[{key:"disconnectedCallback",value:function(){this._clearForm(),z(P(o.prototype),"disconnectedCallback",this).call(this)}},{key:"_buildSchemaProperties",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.schema,o=this;return Object.keys(n.properties||[]).map(function(t){var r=n.properties[t],a={name:t,schema:r,label:r.title||t,description:r.description,component:r.component||{}};if(a.component.valueProperty||(a.component.valueProperty="value"),a.component.slot||(a.component.slot=""),o._isSchemaEnum(r))a.component.name=a.component.name||"eco-json-schema-enum","undefined"===w(r.value)&&(r.value=""),a.value=r.value;else if(o._isSchemaBoolean(r.type))a.component.name=a.component.name||"eco-json-schema-boolean","undefined"===w(r.value)&&(r.value=!1),a.value=r.value;else if(o._isSchemaFile(r.type))a.component.name=a.component.name||"eco-json-schema-file","undefined"===w(r.value)&&(r.value={}),a.value=r.value;else if(o._isSchemaValue(r.type))a.component.name=a.component.name||"eco-json-schema-input","undefined"===w(r.value)&&(r.value=""),a.value=r.value;else if(o._isSchemaObject(r.type))a.component.name=a.component.name||"eco-json-schema-object","undefined"===w(r.value)&&(r.value={}),a.value=r.value;else if(o._isSchemaArray(r.type))a.component.name=a.component.name||"eco-json-schema-array",e._buildNestedSchemaProperties(a,r);else if(o._isSchemaFieldset(r.type))a.component.name=a.component.name||"eco-json-schema-fieldset",e._buildNestedSchemaProperties(a,r);else if(o._isSchemaTabs(r.type))a.component.name=a.component.name||"eco-json-schema-tabs",e._buildNestedSchemaProperties(a,r);else{if(!o._isSchemaMarkup(r.type))return console.error("Unknown property type %s",r.type);a.component.name=a.component.name||"eco-json-schema-markup","undefined"===w(r.value)&&(r.value=""),a.value=r.value}return a})}},{key:"_buildNestedSchemaProperties",value:function(e,n){for(var o in"undefined"===w(n.value)&&(n.value="array"!==n.type?{}:[]),e.value=n.value,n.items.properties)n.items.properties[o].value=n.value[o];e.schema.properties=this._buildSchemaProperties(n.items,e.property+".")}},{key:"_schemaPropertyChanged",value:function(e,n){if(n){if(n.path&&/\.length$/.test(n.path))return;var o=this,t=e.target.schemaProperty,r=["value"].concat("".concat(e.target.propertyPrefix).concat(e.target.propertyName).split("."));t.property||e.target.propertyName,n&&n.value&&this._deepClone(n.value);if(n.path&&/\.splices$/.test(n.path)){for(var a=n.path.split(".").slice(1,-1);a.length;)r.push(a.shift()),t.keyMap&&t.keyMap[r.join(".")]&&(r=t.keyMap[r.join(".")].split("."));n.value.keySplices&&t.keyMap&&n.value.keySplices.forEach(function(e){e.removed.forEach(function(e){delete t.keyMap[r.concat([e]).join(".")]})}),n.value&&n.value.indexSplices.forEach(function(e){var n=[r.join("."),e.index,e.removed.length];if(e.addedCount)for(var a=0,i=e.addedCount;a<i;a++)e.addedKeys&&e.addedKeys[a]&&(t.keyMap=t.keyMap||{},t.keyMap[r.concat([e.addedKeys[a]]).join(".")]=r.concat([a+e.index]).join(".")),n.push(o._deepClone(e.object[a+e.index]));o.splice.apply(o,n)})}else if(n.path){a=n.path.split(".").slice(1);for(this.value.hasOwnProperty(t.property)||(this.set("value."+t.property,{}),this.notifyPath("value."+t.property));a.length;){var i=a.shift();r.push(i),t.keyMap&&t.keyMap[r.join(".")]&&(r=t.keyMap[r.join(".")].split("."))}this.set(r.join("."),this._deepClone(n.value)),this.notifyPath(r.join("."))}else this.set(r.join("."),this._deepClone(n.value)),this.notifyPath("value");e.target.dispatchEvent(new CustomEvent("form-field-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:e.target})),this.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}}},{key:"_setValue",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._schemaProperties,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").replace(/\[(\d+)\]/g,".$1");""!=o&&(o=".".concat(o)),n.length>0&&(n.forEach(function(n){"undefined"!==w(n.value)&&e.set("value".concat(o,".").concat(n.property),e._deepClone(n.value),JSON.stringify(n.value))}),this.notifyPath("value.*"))}},{key:"_buildForm",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._schemaProperties,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.autofocus;n.forEach(function(n){"code-editor"===n.component.name&&(n.schema.component.properties.editorValue=n.schema.value,n.schema.component.properties.theme=e.codeTheme);var a=""!==t?"".concat(t,"."):"",i=n.property||n.name,l=e.create(n.component.name,{label:n.label,schema:n.schema,schemaProperty:n,propertyPrefix:a,propertyName:i,language:e.language,resources:e.resources});for(var s in"paper-input"===n.component.name&&(l.style["background-color"]="transparent",l.style.width="100%"),l.setAttribute("name","".concat(a).concat(i)),n.schema.hidden&&void 0!==n.schema.hidden&&l.setAttribute("hidden",n.schema.hidden),r&&l.setAttribute("autofocus",r),r=!1,l.className="flex start-justified",l[n.component.valueProperty]=n.value,n.component.attributes)l.setAttribute(s,n.component.attributes[s]);for(var c in n.component.properties)l[c]=n.component.properties[c];if(e.listen(l,n.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),e.listen(l,"build-fieldset","_onBuildFieldset"),"undefined"!==w(e.$)&&(o.appendChild(l),n.description)){var p="tip-"+n.property,d=document.createElement("div");l.setAttribute("aria-describedby",p),l.setAttribute("class","has-tooltip-desc"),d.setAttribute("id",p),d.setAttribute("class","tooltip-desc desc-for-"+n.component.name),!0===n.schema.hidden&&d.setAttribute("hidden","hidden"),d.setAttribute("role","tooltip"),d.innerHTML=n.description,o.appendChild(d)}if(""!=n.component.slot){var u=document.createElement("div");u.innerHTML=n.component.slot;for(var m=u.cloneNode(!0);null!==m.firstChild;)l.appendChild(m.firstChild)}e.dispatchEvent(new CustomEvent("form-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:e}))})}},{key:"_onBuildFieldset",value:function(e,n){"undefined"===w(this.get("value.".concat(n.prefix)))&&this.set("value.".concat(n.path),this._deepClone(n.value)),this._clearForm(n.container),this._buildForm(n.properties,n.container,n.prefix)}},{key:"_removePropertyEl",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;"undefined"!==w(e.schemaProperty)&&this.unlisten(e,e.schemaProperty.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),e.schemaProperty=null,n.removeChild(e)}},{key:"_clearForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if("undefined"!==w(this.$))for(var n=e;n.firstChild;)this._removePropertyEl(n.firstChild,e)}},{key:"_schemaChanged",value:function(e,n){e&&e!==n&&(this._clearForm(),this._schemaProperties=this._buildSchemaProperties(),this._buildForm(),this._setValue())}},{key:"_errorChanged",value:function(){var e=this;this.childNodes.forEach(function(n){var o=n.getAttribute("name");e.error&&e.error[o]?n.error=e.error[o]:n.error=null})}},{key:"_deepClone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"_isSchemaValue",value:function(e){return this._isSchemaBoolean(e)||this._isSchemaNumber(e)||this._isSchemaString(e)||this._isSchemaFile(e)}},{key:"_isSchemaFile",value:function(e){return Array.isArray(e)?-1!==e.indexOf("file"):"file"===e}},{key:"_isSchemaBoolean",value:function(e){return Array.isArray(e)?-1!==e.indexOf("boolean"):"boolean"===e}},{key:"_isSchemaEnum",value:function(e){return!!e.enum}},{key:"_isSchemaNumber",value:function(e){return Array.isArray(e)?-1!==e.indexOf("number")||-1!==e.indexOf("integer"):"number"===e||"integer"===e}},{key:"_isSchemaString",value:function(e){return Array.isArray(e)?-1!==e.indexOf("string"):"string"===e}},{key:"_isSchemaObject",value:function(e){return"object"===e}},{key:"_isSchemaArray",value:function(e){return"array"===e}},{key:"_isSchemaFieldset",value:function(e){return"fieldset"===e}},{key:"_isSchemaTabs",value:function(e){return"tabs"===e}},{key:"_isSchemaMarkup",value:function(e){return"markup"===e}},{key:"focus",value:function(){}}],[{key:"tag",get:function(){return"eco-json-schema-object"}},{key:"template",get:function(){return e.html(Q())}},{key:"properties",get:function(){return{language:{value:"en"},resources:{value:function(){return{}}},schema:{type:Object,notify:!0,observer:"_schemaChanged"},label:{type:String},value:{type:Object,notify:!0,value:function(){return{}}},error:{type:Object,observer:"_errorChanged"},wizard:{type:Boolean,notify:!0},codeTheme:{type:String,value:"vs-light-2"},autofocus:{type:Boolean,value:!1}}}}]),o}();function X(){var e=N(['\n      <style is="custom-style" include="iron-flex iron-flex-alignment">\n        :host {\n          display: block;\n          @apply --layout-vertical;\n        }\n\n        paper-input {\n          padding: 2px;\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #fff;\n          }\n        }\n\n        .box,\n        #form {\n          display: -webkit-box;\n          display: -webkit-flex;\n          display: -moz-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-flex-align: center;\n          -ms-flex-align: center;\n          -webkit-align-items: center;\n          align-items: center;\n        }\n\n        .fullbleed {\n          z-index: 1;\n        }\n\n        app-toolbar.bottom {\n          --app-toolbar-color: var(--app-primary-color);\n          --app-toolbar-background: var(--dark-theme-text-color);\n        }\n\n        app-toolbar.bottom paper-icon-button {\n          --app-toolbar-color: var(--dark-theme-text-color);\n          --app-toolbar-background: var(--app-primary-color);\n        }\n      </style>\n      <div class="vertical flex layout fullbleed">\n        \x3c!--\n        paper-icon-button id="camButton" icon="editor:insert-photo" raised>add photo</paper-icon-button\n      --\x3e\n        <app-toolbar>\n          <paper-icon-button\n            id="prevButton"\n            icon="arrow-back"\n            hidden$="{{!hasPrev}}"\n            on-click="prev"\n            raised=""\n            >{{localize(\'prev\')}}</paper-icon-button\n          ><span\n            class="title layout horizontal flex"\n            style="white-space: normal"\n            >[[title]]</span\n          >\n          <paper-icon-button\n            id="nextButton"\n            icon="arrow-forward"\n            hidden$="{{!hasNext}}"\n            on-click="next"\n            raised=""\n            >{{localize(\'next\')}}</paper-icon-button\n          >\n          <paper-icon-button\n            id="submitButton"\n            icon="cloud-upload"\n            on-click="submit"\n            raised=""\n            >{{localize(\'submit\')}}</paper-icon-button\n          >\n        </app-toolbar>\n        <iron-pages\n          id="form"\n          class="layout horizontal flex start-justified"\n          role="main"\n          selected="[[page]]"\n          attr-for-selected="name"\n        ></iron-pages>\n        <app-toolbar class="bottom">\n          <div hidden$="{{!hasPrev}}" on-click="prev">\n            <paper-icon-button id="prevButton" icon="arrow-back" raised=""\n              >{{localize(\'prev\')}}</paper-icon-button\n            >\n            <span class="title layout" style="white-space: normal"\n              >{{localize(\'prev\')}}</span\n            >\n          </div>\n          <span\n            class="title layout horizontal flex"\n            style="white-space: normal"\n          ></span>\n          <div hidden$="{{!hasNext}}" on-click="next">\n            <span class="title layout" style="white-space: normal"\n              >{{localize(\'next\')}}</span\n            >\n            <paper-icon-button id="nextButton" icon="arrow-forward" raised=""\n              >{{localize(\'next\')}}</paper-icon-button\n            >\n          </div>\n        </app-toolbar>\n      </div>\n    '],['\n      <style is="custom-style" include="iron-flex iron-flex-alignment">\n        :host {\n          display: block;\n          @apply --layout-vertical;\n        }\n\n        paper-input {\n          padding: 2px;\n          --paper-input-container-label: {\n            white-space: normal;\n            position: static;\n            font-size: 22px;\n            color: #fff;\n          }\n        }\n\n        .box,\n        #form {\n          display: -webkit-box;\n          display: -webkit-flex;\n          display: -moz-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-flex-align: center;\n          -ms-flex-align: center;\n          -webkit-align-items: center;\n          align-items: center;\n        }\n\n        .fullbleed {\n          z-index: 1;\n        }\n\n        app-toolbar.bottom {\n          --app-toolbar-color: var(--app-primary-color);\n          --app-toolbar-background: var(--dark-theme-text-color);\n        }\n\n        app-toolbar.bottom paper-icon-button {\n          --app-toolbar-color: var(--dark-theme-text-color);\n          --app-toolbar-background: var(--app-primary-color);\n        }\n      </style>\n      <div class="vertical flex layout fullbleed">\n        \x3c!--\n        paper-icon-button id="camButton" icon="editor:insert-photo" raised>add photo</paper-icon-button\n      --\x3e\n        <app-toolbar>\n          <paper-icon-button\n            id="prevButton"\n            icon="arrow-back"\n            hidden\\$="{{!hasPrev}}"\n            on-click="prev"\n            raised=""\n            >{{localize(\'prev\')}}</paper-icon-button\n          ><span\n            class="title layout horizontal flex"\n            style="white-space: normal"\n            >[[title]]</span\n          >\n          <paper-icon-button\n            id="nextButton"\n            icon="arrow-forward"\n            hidden\\$="{{!hasNext}}"\n            on-click="next"\n            raised=""\n            >{{localize(\'next\')}}</paper-icon-button\n          >\n          <paper-icon-button\n            id="submitButton"\n            icon="cloud-upload"\n            on-click="submit"\n            raised=""\n            >{{localize(\'submit\')}}</paper-icon-button\n          >\n        </app-toolbar>\n        <iron-pages\n          id="form"\n          class="layout horizontal flex start-justified"\n          role="main"\n          selected="[[page]]"\n          attr-for-selected="name"\n        ></iron-pages>\n        <app-toolbar class="bottom">\n          <div hidden\\$="{{!hasPrev}}" on-click="prev">\n            <paper-icon-button id="prevButton" icon="arrow-back" raised=""\n              >{{localize(\'prev\')}}</paper-icon-button\n            >\n            <span class="title layout" style="white-space: normal"\n              >{{localize(\'prev\')}}</span\n            >\n          </div>\n          <span\n            class="title layout horizontal flex"\n            style="white-space: normal"\n          ></span>\n          <div hidden\\$="{{!hasNext}}" on-click="next">\n            <span class="title layout" style="white-space: normal"\n              >{{localize(\'next\')}}</span\n            >\n            <paper-icon-button id="nextButton" icon="arrow-forward" raised=""\n              >{{localize(\'next\')}}</paper-icon-button\n            >\n          </div>\n        </app-toolbar>\n      </div>\n    ']);return X=function(){return e},e}window.customElements.define(W.tag,W);var Y=function(n){function o(){return S(this,o),B(this,P(o).apply(this,arguments))}return C(o,d.mixinBehaviors([p.AppLocalizeBehavior],e.PolymerElement)),A(o,[{key:"disconnectedCallback",value:function(){this._clearForm(),z(P(o.prototype),"disconnectedCallback",this).call(this)}},{key:"_buildSchemaProperties",value:function(){var e=this;this._schemaProperties=Object.keys(this.schema.properties||[]).map(function(n){var o=e.schema.properties[n],t={property:n,label:o.title||n,schema:o,component:o.component||{}};if(t.component.valueProperty||(t.component.valueProperty="value"),e._isSchemaEnum(o))t.component.name=t.component.name||"eco-json-schema-enum",t.value="";else if(e._isSchemaBoolean(o.type))t.component.name=t.component.name||"eco-json-schema-boolean",t.value=!1;else if(e._isSchemaFile(o.type))t.component.name=t.component.name||"eco-json-schema-file",t.value="";else if(e._isSchemaValue(o.type))t.component.name=t.component.name||"eco-json-schema-input",t.value="";else if(e._isSchemaObject(o.type))t.component.name=t.component.name||"eco-json-schema-object",t.component.wizard=!0,t.value={};else{if(!e._isSchemaArray(o.type))return console.error("Unknown property type %s",o.type);t.component.name=t.component.name||"eco-json-schema-array",t.value=[]}return e.push("pages",n),e.push("titles",o.title),t})}},{key:"_schemaPropertyChanged",value:function(e,n){if(!n.path||!/\.length$/.test(n.path)){var o=this,t=e.target.schemaProperty,r=["value",t.property];if(n.path&&/\.splices$/.test(n.path)){for(var a=n.path.split(".").slice(1,-1);a.length;)r.push(a.shift()),t.keyMap&&t.keyMap[r.join(".")]&&(r=t.keyMap[r.join(".")].split("."));n.value.keySplices&&t.keyMap&&n.value.keySplices.forEach(function(e){e.removed.forEach(function(e){delete t.keyMap[r.concat([e]).join(".")]})}),n.value.indexSplices.forEach(function(e){var n=[r.join("."),e.index,e.removed.length];if(e.addedCount)for(var a=0,i=e.addedCount;a<i;a++)e.addedKeys&&e.addedKeys[a]&&(t.keyMap=t.keyMap||{},t.keyMap[r.concat([e.addedKeys[a]]).join(".")]=r.concat([a+e.index]).join(".")),n.push(o._deepClone(e.object[a+e.index]));o.splice.apply(o,n)})}else if(n.path){a=n.path.split(".").slice(1);for(this.value.hasOwnProperty(t.property)||this.set("value."+t.property,{});a.length;){var i=a.shift();r.push(i),t.keyMap&&t.keyMap[r.join(".")]&&(r=t.keyMap[r.join(".")].split("."))}this.set(r.join("."),this._deepClone(n.value)),console.log("value: "+JSON.stringify(this.value))}}}},{key:"_setValue",value:function(){var e=this,n={};this._schemaProperties.forEach(function(o){n[o.property]=e._deepClone(o.value)}),this.value=n}},{key:"_buildForm",value:function(){var e=this,n=this;this._schemaProperties.forEach(function(o){var t=n.create(o.component.name,{label:o.label,schema:o.schema,schemaProperty:o,language:e.language,resources:e.resources});t.setAttribute("name",o.property),t.className="flex start-justified",o.value=t[o.component.valueProperty],n.listen(t,o.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),n.shadowRoot.querySelector("#form").appendChild(t)})}},{key:"_removePropertyEl",value:function(e){"undefined"!==w(e.schemaProperty)&&this.unlisten(e,e.schemaProperty.component.valueProperty.replace(/([A-Z])/g,"-$1").toLowerCase()+"-changed","_schemaPropertyChanged"),e.schemaProperty=null,this.shadowRoot.querySelector("#form").removeChild(e)}},{key:"_clearForm",value:function(){for(var e=this.shadowRoot.querySelector("#form");e.firstChild;)this._removePropertyEl(e.firstChild)}},{key:"_schemaChanged",value:function(){this._clearForm(),this._buildSchemaProperties(),this._buildForm(),this._setValue(),this.pages.length>0&&this.set("page",this.pages[0]),this.set("title",this.titles[0])}},{key:"next",value:function(){var e=this.pages.indexOf(this.page),n=e;-1!==e?(e<this.pages.length-1&&(n=e+1),this.set("page",this.pages[n]),this.set("title",this.titles[n])):console.log("Invalid current page in wizard")}},{key:"prev",value:function(){var e=this.pages.indexOf(this.page),n=e;-1!==e?(e>0&&(n=e-1),this.set("page",this.pages[n]),this.set("title",this.titles[n])):console.log("Invalid current page in wizard")}},{key:"submit",value:function(){this.dispatchEvent(new CustomEvent("submit",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}))}},{key:"_pageChanged",value:function(){var e=this.pages.indexOf(this.page);0===e?this.set("hasPrev",!1):this.set("hasPrev",!0),e===this.pages.length-1?this.set("hasNext",!1):this.set("hasNext",!0)}},{key:"_errorChanged",value:function(){var e=this;this.shadowRoot.querySelector("#form").childNodes.forEach(function(n){var o=n.getAttribute("name");e.error&&e.error[o]?n.error=e.error[o]:n.error=null})}},{key:"_deepClone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"_isSchemaValue",value:function(e){return this._isSchemaBoolean(e)||this._isSchemaNumber(e)||this._isSchemaString(e)||this._isSchemaFile(e)}},{key:"_isSchemaFile",value:function(e){return Array.isArray(e)?-1!==e.indexOf("file"):"file"===e}},{key:"_isSchemaBoolean",value:function(e){return Array.isArray(e)?-1!==e.indexOf("boolean"):"boolean"===e}},{key:"_isSchemaEnum",value:function(e){return!!e.enum}},{key:"_isSchemaNumber",value:function(e){return Array.isArray(e)?-1!==e.indexOf("number")||-1!==e.indexOf("integer"):"number"===e||"integer"===e}},{key:"_isSchemaString",value:function(e){return Array.isArray(e)?-1!==e.indexOf("string"):"string"===e}},{key:"_isSchemaObject",value:function(e){return"object"===e}},{key:"_isSchemaArray",value:function(e){return"array"===e}}],[{key:"tag",get:function(){return"eco-json-schema-wizard"}},{key:"template",get:function(){return e.html(X())}},{key:"properties",get:function(){return{language:{type:String,notify:!0},resources:{type:Object,notify:!0},schema:{type:Object,notify:!0,observer:"_schemaChanged"},label:{type:String},value:{type:Object,notify:!0,value:function(){return{}}},page:{type:String,notify:!0,observer:"_pageChanged"},pages:{type:Array,notify:!0,value:[]},error:{type:Object,observer:"_errorChanged"},isReview:{type:Boolean,value:!1,notify:!0},canSubmit:{type:Boolean,notify:!0},hasNext:{type:Boolean,notify:!0},hasPrev:{type:Boolean,notify:!0},titles:{type:Array,notify:!0,value:[]},title:{type:String,value:"",notify:!0}}}}]),o}();window.customElements.define(Y.tag,Y)});
//# sourceMappingURL=eco-json-schema-form.umd.js.map
