{"version":3,"file":"simple-datetime.umd.js","sources":["lib/date.format.js","simple-datetime.umd.js"],"sourcesContent":["/* eslint no-extend-native: 0 */\n\n(function() {\n  // Defining locale\n  Date.shortMonths = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\"\n  ];\n  Date.longMonths = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n  ];\n  Date.shortDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n  Date.longDays = [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\"\n  ];\n  // Defining patterns\n  var replaceChars = {\n    // Day\n    d: function() {\n      var d = this.getDate();\n      return (d < 10 ? \"0\" : \"\") + d;\n    },\n    D: function() {\n      return Date.shortDays[this.getDay()];\n    },\n    j: function() {\n      return this.getDate();\n    },\n    l: function() {\n      return Date.longDays[this.getDay()];\n    },\n    N: function() {\n      var N = this.getDay();\n      return N === 0 ? 7 : N;\n    },\n    S: function() {\n      var S = this.getDate();\n      return S % 10 === 1 && S !== 11\n        ? \"st\"\n        : S % 10 === 2 && S !== 12\n        ? \"nd\"\n        : S % 10 === 3 && S !== 13\n        ? \"rd\"\n        : \"th\";\n    },\n    w: function() {\n      return this.getDay();\n    },\n    z: function() {\n      var d = new Date(this.getFullYear(), 0, 1);\n      return Math.ceil((this - d) / 86400000);\n    },\n    // Week\n    W: function() {\n      var target = new Date(this.valueOf());\n      var dayNr = (this.getDay() + 6) % 7;\n      target.setDate(target.getDate() - dayNr + 3);\n      var firstThursday = target.valueOf();\n      target.setMonth(0, 1);\n      if (target.getDay() !== 4) {\n        target.setMonth(0, 1 + ((4 - target.getDay() + 7) % 7));\n      }\n      var retVal = 1 + Math.ceil((firstThursday - target) / 604800000);\n\n      return retVal < 10 ? \"0\" + retVal : retVal;\n    },\n    // Month\n    F: function() {\n      return Date.longMonths[this.getMonth()];\n    },\n    m: function() {\n      var m = this.getMonth();\n      return (m < 9 ? \"0\" : \"\") + (m + 1);\n    },\n    M: function() {\n      return Date.shortMonths[this.getMonth()];\n    },\n    n: function() {\n      return this.getMonth() + 1;\n    },\n    t: function() {\n      var year = this.getFullYear();\n      var nextMonth = this.getMonth() + 1;\n      if (nextMonth === 12) {\n        year = year++;\n        nextMonth = 0;\n      }\n      return new Date(year, nextMonth, 0).getDate();\n    },\n    // Year\n    L: function() {\n      var L = this.getFullYear();\n      return L % 400 === 0 || (L % 100 !== 0 && L % 4 === 0);\n    },\n    o: function() {\n      var d = new Date(this.valueOf());\n      d.setDate(d.getDate() - ((this.getDay() + 6) % 7) + 3);\n      return d.getFullYear();\n    },\n    Y: function() {\n      return this.getFullYear();\n    },\n    y: function() {\n      return (\"\" + this.getFullYear()).substr(2);\n    },\n    // Time\n    a: function() {\n      return this.getHours() < 12 ? \"am\" : \"pm\";\n    },\n    A: function() {\n      return this.getHours() < 12 ? \"AM\" : \"PM\";\n    },\n    B: function() {\n      return Math.floor(\n        ((((this.getUTCHours() + 1) % 24) +\n          this.getUTCMinutes() / 60 +\n          this.getUTCSeconds() / 3600) *\n          1000) /\n          24\n      );\n    },\n    g: function() {\n      return this.getHours() % 12 || 12;\n    },\n    G: function() {\n      return this.getHours();\n    },\n    h: function() {\n      var h = this.getHours();\n      return ((h % 12 || 12) < 10 ? \"0\" : \"\") + (h % 12 || 12);\n    },\n    H: function() {\n      var H = this.getHours();\n      return (H < 10 ? \"0\" : \"\") + H;\n    },\n    i: function() {\n      var i = this.getMinutes();\n      return (i < 10 ? \"0\" : \"\") + i;\n    },\n    s: function() {\n      var s = this.getSeconds();\n      return (s < 10 ? \"0\" : \"\") + s;\n    },\n    v: function() {\n      var v = this.getMilliseconds();\n      return (v < 10 ? \"00\" : v < 100 ? \"0\" : \"\") + v;\n    },\n    // Timezone\n    e: function() {\n      return Intl.DateTimeFormat().resolvedOptions().timeZone;\n    },\n    I: function() {\n      var DST = null;\n      for (var i = 0; i < 12; ++i) {\n        var d = new Date(this.getFullYear(), i, 1);\n        var offset = d.getTimezoneOffset();\n\n        if (DST === null) DST = offset;\n        else if (offset < DST) {\n          DST = offset;\n          break;\n        } else if (offset > DST) break;\n      }\n      return (this.getTimezoneOffset() === DST) | 0;\n    },\n    O: function() {\n      var O = this.getTimezoneOffset();\n      return (\n        (-O < 0 ? \"-\" : \"+\") +\n        (Math.abs(O / 60) < 10 ? \"0\" : \"\") +\n        Math.floor(Math.abs(O / 60)) +\n        (Math.abs(O % 60) === 0\n          ? \"00\"\n          : (Math.abs(O % 60) < 10 ? \"0\" : \"\") + Math.abs(O % 60))\n      );\n    },\n    P: function() {\n      var P = this.getTimezoneOffset();\n      return (\n        (-P < 0 ? \"-\" : \"+\") +\n        (Math.abs(P / 60) < 10 ? \"0\" : \"\") +\n        Math.floor(Math.abs(P / 60)) +\n        \":\" +\n        (Math.abs(P % 60) === 0\n          ? \"00\"\n          : (Math.abs(P % 60) < 10 ? \"0\" : \"\") + Math.abs(P % 60))\n      );\n    },\n    T: function() {\n      var tz = this.toLocaleTimeString(navigator.language, {\n        timeZoneName: \"short\"\n      }).split(\" \");\n      return tz[tz.length - 1];\n    },\n    Z: function() {\n      return -this.getTimezoneOffset() * 60;\n    },\n    // Full Date/Time\n    c: function() {\n      return this.format(\"Y-m-d\\\\TH:i:sP\");\n    },\n    r: function() {\n      return this.toString();\n    },\n    U: function() {\n      return Math.floor(this.getTime() / 1000);\n    }\n  };\n\n  // Simulates PHP's date function\n  Date.prototype.format = function(format) {\n    var date = this;\n    return format.replace(/(\\\\?)(.)/g, function(_, esc, chr) {\n      return esc === \"\" && replaceChars[chr]\n        ? replaceChars[chr].call(date)\n        : chr;\n    });\n  };\n}.call(this));\n","import { LitElement, html, css } from \"lit-element/lit-element.js\";\nimport \"./lib/date.format.js\";\n/**\n * `simple-datetime`\n * @element simple-datetime\n * A simple datetime element that takes in unix timestamp and outputs a date.\n * @demo demo/index.html\n * @microcopy - the mental model for this element\n * - passing in a timestamp from unix and having it be php based date formatting to render is super helpful\n */\nclass SimpleDatetime extends LitElement {\n  /**\n   * HTMLElement life cycle\n   */\n  constructor() {\n    super();\n    this.format = \"M jS, Y\";\n    this.unix = false;\n  }\n  /**\n   * LitElement constructable styles enhancement\n   */\n  static get styles() {\n    return [\n      css`\n        :host {\n          display: block;\n          font-size: 14px;\n          color: #b3b3b1;\n          line-height: 30px;\n        }\n      `\n    ];\n  }\n  /**\n   * LitElement life cycle - render callback\n   */\n  render() {\n    return html`\n      <time datetime=\"${this.date}\">${this.date}</time>\n    `;\n  }\n  static get tag() {\n    return \"simple-datetime\";\n  }\n  /**\n   * LitElement life cycle -  properties definitions\n   */\n  static get properties() {\n    return {\n      /**\n       * Javascript timestamp\n       */\n      timestamp: {\n        type: Number\n      },\n      /**\n       * Format to output, see https://github.com/jacwright/date.format#supported-identifiers\n       */\n      format: {\n        type: String\n      },\n      /**\n       * Date, generated from timestamp + format\n       */\n      date: {\n        type: String\n      },\n      /**\n       * Support for UNIX timestamp conversion on the fly\n       */\n      unix: {\n        type: Boolean\n      }\n    };\n  }\n  /**\n   * LitElement life cycle - property changed callback\n   */\n  updated(changedProperties) {\n    changedProperties.forEach((oldValue, propName) => {\n      if ([\"timestamp\", \"format\", \"unix\"].includes(propName)) {\n        this.date = this.formatDate(this.timestamp, this.format, this.unix);\n      }\n    });\n  }\n  /**\n   * Figure out the date\n   */\n  formatDate(timestamp, format, unix) {\n    // unix timestamp is seconds, JS is milliseconds\n    if (unix) {\n      timestamp = timestamp * 1000;\n    }\n    return new Date(timestamp).format(format);\n  }\n}\nwindow.customElements.define(SimpleDatetime.tag, SimpleDatetime);\nexport { SimpleDatetime };\n"],"names":["Date","shortMonths","longMonths","shortDays","longDays","replaceChars","d","this","getDate","D","getDay","j","l","N","S","w","z","getFullYear","Math","ceil","W","target","valueOf","dayNr","setDate","firstThursday","setMonth","retVal","F","getMonth","m","M","n","t","year","nextMonth","L","o","Y","y","substr","a","getHours","A","B","floor","getUTCHours","getUTCMinutes","getUTCSeconds","g","G","h","H","i","getMinutes","s","getSeconds","v","getMilliseconds","e","Intl","DateTimeFormat","resolvedOptions","timeZone","I","DST","offset","getTimezoneOffset","O","abs","P","T","tz","toLocaleTimeString","navigator","language","timeZoneName","split","length","Z","c","format","r","toString","U","getTime","prototype","date","replace","_","esc","chr","call","SimpleDatetime","unix","LitElement","css","timestamp","type","Number","String","Boolean","html","changedProperties","forEach","oldValue","propName","includes","_this2","formatDate","window","customElements","define","tag"],"mappings":"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"}