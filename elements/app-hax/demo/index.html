<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <base href="/elements/app-hax/demo/" />
    <link rel="icon" href="../lib/assets/images/HAXLogo.svg" type="image/png">
    <meta name="Description" content="Put your description here." />
    <script>
      window.process = window.process || {
        env: {
          NODE_ENV: "production"
        }
      };
      window.WCGlobalBasePath = "/node_modules/";
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <script src="../../../node_modules/@haxtheweb/deduping-fix/deduping-fix.js"></script>

    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: 'Press Start 2P', sans-serif;
        overflow-x: hidden;
        background-image: url('../lib/assets/images/LMGridBox.svg');
        background-repeat: repeat;
        background-position: center center;
        background-size: auto, 20% auto, 20% auto;
        --app-hax-accent-color: black;
        --app-hax-background-color: white;
        --simple-tooltip-background: #000000;
        --simple-tooltip-opacity: 1;
        --simple-tooltip-text-color: #ffffff;
        --simple-tooltip-delay-in: 0;
        --simple-tooltip-duration-in: 200ms;
        --simple-tooltip-duration-out: 0;
        --simple-tooltip-border-radius: 0;
        --simple-tooltip-font-size: 14px;
      }
      body.app-hax-create {
        overflow: hidden;
      }
      body.dark-mode {
        background-color: black;
        background-image: url('../lib/assets/images/DMGridBox.svg');
        --app-hax-accent-color: white;
        --app-hax-background-color: black;
      }
      body.app-loaded:not(.bad-device) {
        background-image: url('../lib/assets/images/LMGridBox.svg'), url('../lib/assets/images/DesignLightModeLeft.svg'), url('../lib/assets/images/DesignLightModeRight.svg');
        background-repeat: repeat, repeat-y, repeat-y;
        background-position: center center, top left, top right;
        background-size: auto, 20% auto, 20% auto;
        background-attachment: fixed, fixed, fixed;
      }
      div[slot="externalproviders"] {
        display: none;
      }
      body.app-loaded div[slot="externalproviders"] {
        display: unset;
      }
      body.app-loaded.dark-mode {
        background-image: url('../lib/assets/images/DMGridBox.svg'), url('../lib/assets/images/DesignDarkModeLeft.svg'), url('../lib/assets/images/DesignDarkModeRight.svg');
      }

      #loading {
        font-family: 'Press Start 2P', sans-serif;
        text-align: center;
        margin-top: 100px;
      }

      #loading .title {
        -webkit-text-stroke: 1px
          var(--app-hax-accent-color, var(--accent-color));
        -webkit-text-fill-color: var(
          --app-hax-background-color,
          var(--background-color)
        );
        font-weight: normal;
        font-size: 4vw;
        display: inline-flex;
        align-items: center;
      }

      #loading .subtitle {
        color: var(--app-hax-accent-color, var(--accent-color));
        font-weight: normal;
        margin-top: 2.5px;
        font-size: 2vw;
      }

      #loading .bracket {
        font-size: 10vw;
        font-weight: normal;
        vertical-align: middle;
        -webkit-text-stroke: 0px;
        -webkit-text-fill-color: var(
          --app-hax-accent-color,
          var(--accent-color)
        );
      }

      @media (min-width: 721px) {
        :root {
          background-size: auto, 23% auto, 23% auto;
        }
      }

      @media (min-width: 601px) and (max-width: 720px) {
        :root {
          background-size: auto, 26% auto, 26% auto;
        }
      }

      @media (min-width: 481px) and (max-width: 600px) {
        :root {
          background-size: auto, 30% auto, 30% auto;
        }
      }

      @media (min-width: 371px) and (max-width: 480px) {
        :root {
          background-size: auto, 35% auto, 35% auto;
        }
      }

      @media (max-width: 370px) {
        :root {
          background-size: auto, 37% auto, 37% auto;
        }
      }
      .version {
        position: fixed;
        left: 0;
        bottom: 0;
        background-color:  var(--simple-colors-default-theme-yellow-6);
        display: inline-block;
        padding: 8px;
        color: var(--simple-colors-default-theme-grey-12);
        border-right: 3px solid var(--simple-colors-default-theme-grey-12);
        border-top: 3px solid  var(--simple-colors-default-theme-grey-12);
      }
      body.dark-mode .version {
        background-color:  var(--simple-colors-default-theme-yellow-8);
        color: var(--simple-colors-default-theme-grey-1);
        border-right: 3px solid var(--simple-colors-default-theme-grey-1);
        border-top: 3px solid  var(--simple-colors-default-theme-grey-1);
      }
      simple-modal::part(title) {
        background-color: transparent;
        margin: 0;
        padding: 0;
        text-align: center;
        font-size: 20px;
        line-height: 20px;
        color: black;
      }
      simple-modal button.hax-modal-btn {
        font-size: 30px;
        padding: 8px;
        margin: 4px;
        color: white;
        background-color: green;
        border: 4px solid black;
        border-radius: 8px;
        font-family: 'Press Start 2P', sans-serif;
      }
      simple-modal button.hax-modal-btn.cancel {
        background-color: red;
      }
      simple-modal button.hax-modal-btn:hover,
      simple-modal button.hax-modal-btn:focus {
        outline: 2px solid black;
        cursor: pointer;
        background-color: darkgreen;
      }
      simple-modal button.hax-modal-btn.cancel:hover,
      simple-modal button.hax-modal-btn.cancel:focus {
        background-color: darkred;
      }
    </style>
    <title>Let's HAX your web</title>
  </head>

  <body>
    <div id="loading">
      <div class="title">
        <span class="bracket">&#60;</span>Loading..<span class="bracket">&#62;</span>
      </div>
      <div class="subtitle">HAX is loading</div>
    </div>
      <app-hax base-path="/elements/app-hax/demo/">
        <a href="https://www.psu.edu" slot="app-header-pre"><img src="https://iam.hax.psu.edu/assets/psu.png" style="height:48px;display:inline-flex;vertical-align:top;" alt="Pennsylvania State University" /></a>
      </app-hax>
      <div id="demo">
        <style>
          #demobtns {
            bottom: 0;
            left: 0;
            position: fixed;
          }
          #demobtns button {
            font-size: 30px;
            border: 2px solid black;
            margin: 2px;
            background-color: orange;
            cursor: pointer;
            color: black;
            display: block;
          }
          #demobtns button:hover {
            background-color: red;
          }
        </style>
        <div id="demobtns">
          <button id="nosites">Test new user</button>
          <button id="test404">Test 404</button>
          <button id="resetbtn">reset app</button>
        </div>
        <script>
          window.HAXCMSContext="nodejs";
          // reduce FOUC for dark mode so it starts in dark rapidly if selected
          if (window.localStorage && window.localStorage.getItem('app-hax-darkMode')) {
            if (window.localStorage.getItem('app-hax-darkMode') == 'true') {
              document.body.classList.add('dark-mode');
            }
            else {
              document.body.classList.remove('dark-mode');
            }
          }
          // remove loading text
        window.addEventListener('app-hax-loaded',(e) => {
          dqs("#loading").remove();
        });
          function dqs(sel) { return document.querySelector(sel)}
          dqs("#nosites").addEventListener("click", (e) => {
            // reset to clear internal state
            dqs("app-hax").reset(false);
            // fake injection of a new site listing location
            window.AppHax.requestAvailability().store.appSettings.getSitesList = 'sitesEmpty.json';
          });
          dqs("#test404").addEventListener("click", (e) => {
            window.location = "nothin9383832";
          });
          dqs("#resetbtn").addEventListener("click", (e) => {
            dqs("app-hax").reset();
          });
        </script>
      </div>
      <script type="module">
        import '../app-hax.js';
      </script>
      <script>
        // this is how haxcms / haxiam operates w/ injecting the base settings
        // think of it like localStorage but the backend is injecting at run time
        // so that we can deploy this at different domains more headlessly
        const blueStyle = '../lib/assets/images/BlueStyle.svg';
        const greyStyle = '../lib/assets/images/GreyStyle.svg';
        const partyStyle = '../lib/assets/images/PartyStyle.svg';
        window.appSettings = {
          "token": "thingsandstuff",
          "demo": true,
          "getSitesList": 'sites.json',
          "createSite": 'createSite.json',
          "getUserDataPath": "getUserData.json",
          "login": '/elements/app-hax/demo/login.json',
          "refreshUrl": "/elements/app-hax/demo/refreshAccessToken",
          "logout": "/elements/app-hax/demo/logout.json",
          "connectionSettings": "/bto108/system/api/connectionSettings",
          "redirectUrl": "/",
          "themes": {
              "clean-one": {
                  "element": "clean-one",
                  "path": "@haxtheweb/clean-one/clean-one.js",
                  "name": "Course theme",
                  "thumbnail": partyStyle, 
              },
              "clean-two": {
                  "element": "clean-two",
                  "path": "@haxtheweb/clean-two/clean-two.js",
                  "name": "Course theme 2",
                  "thumbnail": greyStyle, 
              },
              "learn-two-theme": {
                  "element": "learn-two-theme",
                  "path": "@haxtheweb/learn-two-theme/learn-two-theme.js",
                  "name": "Course theme 3",
                  "thumbnail": blueStyle, 
              },
              "bootstrap-theme": {
                  "element": "bootstrap-theme",
                  "path": "@haxtheweb/bootstrap-theme/bootstrap-theme.js",
                  "name": "Bootstrap theme",
                  "thumbnail": partyStyle, 
              },
              "haxor-slevin": {
                  "element": "haxor-slevin",
                  "path": "@haxtheweb/haxor-slevin/haxor-slevin.js",
                  "name": "Blog theme",
                  "thumbnail": blueStyle, 
              },
              "outline-player": {
                  "element": "outline-player",
                  "path": "@haxtheweb/outline-player/outline-player.js",
                  "name": "Documentation theme",
                  "thumbnail": blueStyle, 
              },
              "terrible-themes": {
                  "element": "terrible-themes",
                  "path": "@haxtheweb/terrible-themes/terrible-themes.js",
                  "name": "Terrible apartment site",
                  "thumbnail": partyStyle, 
              },
              "terrible-productionz-themes": {
                  "element": "terrible-productionz-themes",
                  "path": "@haxtheweb/terrible-themes/lib/terrible-productionz-themes.js",
                  "name": "Terrible productionz site",
                  "thumbnail": blueStyle, 
              },
              "terrible-resume-themes": {
                  "element": "terrible-resume-themes",
                  "path": "@haxtheweb/terrible-themes/lib/terrible-resume-themes.js",
                  "name": "Terrible resume",
                  "thumbnail": partyStyle, 
              },
              "terrible-best-themes": {
                  "element": "terrible-best-themes",
                  "path": "@haxtheweb/terrible-themes/lib/terrible-best-themes.js",
                  "name": "Terrible best hockey",
                  "thumbnail": blueStyle, 
              },
              "terrible-outlet-themes": {
                  "element": "terrible-outlet-themes",
                  "path": "@haxtheweb/terrible-themes/lib/terrible-outlet-themes.js",
                  "name": "Terrible blog",
                  "thumbnail": partyStyle, 
              },
              "polaris-theme": {
                  "element": "polaris-theme",
                  "path": "@haxtheweb/polaris-theme/polaris-theme.js",
                  "name": "Polaris",
                  "thumbnail": partyStyle, 
              }
          },
          "saveNodePath": "/bto108/system/api/saveNode",
          "saveManifestPath": "/bto108/system/api/saveManifest",
          "saveOutlinePath": "/bto108/system/api/saveOutline",
          "publishSitePath": "/bto108/system/api/publishSite",
          "syncSitePath": "/bto108/system/api/syncSite",
          "setConfigPath": "/bto108/system/api/setConfig",
          "getConfigPath": "/bto108/system/api/getConfig",
          "getSiteFieldsPath": "/bto108/system/api/formLoad?haxcms_form_id=siteSettings",
          "revertSitePath": "/bto108/system/api/revertCommit",
          "getFormToken": "gdgdgdfgd4444",
          "createNodePath": "/bto108/system/api/createNode",
          "setUserPhotoPath": "/bto108/system/api/setUserPhoto",
          "deleteNodePath": "/bto108/system/api/deleteNode",
          "gitImportSitePath": "/bto108/system/api/gitImportSite",
          "downloadSitePath": "/bto108/system/api/downloadSite",
          "archiveSitePath": "/bto108/system/api/archiveSite",
          "cloneSitePath": "/bto108/system/api/cloneSite",
          "deleteSitePath": "/bto108/system/api/deleteSite",
          "appStore": {
              "url": "/bto108/system/api/generateAppStore?app-store-token=fghjhgjjghjgg5555"
          },
          "reloadOnError": true
      };
        </script>
          </body>
</html>
