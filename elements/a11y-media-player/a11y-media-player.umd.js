!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@polymer/polymer/polymer-element.js"),require("@polymer/polymer/lib/utils/render-status.js"),require("@lrnwebcomponents/simple-colors/simple-colors.js"),require("@lrnwebcomponents/responsive-utility/responsive-utility.js"),require("@polymer/polymer/lib/utils/resolve-url.js"),require("@lrnwebcomponents/es-global-bridge/es-global-bridge.js"),require("@polymer/iron-resizable-behavior/iron-resizable-behavior.js"),require("@polymer/paper-menu-button/paper-menu-button.js"),require("@polymer/paper-listbox/paper-listbox.js"),require("@polymer/paper-item/paper-item.js"),require("@polymer/paper-icon-button/paper-icon-button.js"),require("@polymer/paper-toggle-button/paper-toggle-button.js"),require("@lrnwebcomponents/dropdown-select/dropdown-select.js"),require("@polymer/paper-slider/paper-slider.js"),require("@polymer/paper-tooltip/paper-tooltip.js"),require("@polymer/iron-icons/iron-icons.js"),require("@polymer/iron-a11y-keys/iron-a11y-keys.js"),require("@polymer/iron-icons/av-icons.js"),require("@lrnwebcomponents/simple-search/lib/simple-search-content.js"),require("@lrnwebcomponents/simple-search/simple-search.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-element.js","@polymer/polymer/lib/utils/render-status.js","@lrnwebcomponents/simple-colors/simple-colors.js","@lrnwebcomponents/responsive-utility/responsive-utility.js","@polymer/polymer/lib/utils/resolve-url.js","@lrnwebcomponents/es-global-bridge/es-global-bridge.js","@polymer/iron-resizable-behavior/iron-resizable-behavior.js","@polymer/paper-menu-button/paper-menu-button.js","@polymer/paper-listbox/paper-listbox.js","@polymer/paper-item/paper-item.js","@polymer/paper-icon-button/paper-icon-button.js","@polymer/paper-toggle-button/paper-toggle-button.js","@lrnwebcomponents/dropdown-select/dropdown-select.js","@polymer/paper-slider/paper-slider.js","@polymer/paper-tooltip/paper-tooltip.js","@polymer/iron-icons/iron-icons.js","@polymer/iron-a11y-keys/iron-a11y-keys.js","@polymer/iron-icons/av-icons.js","@lrnwebcomponents/simple-search/lib/simple-search-content.js","@lrnwebcomponents/simple-search/simple-search.js"],t):t((e=e||self).A11yMediaPlayer={},e.polymerElement_js,null,e.simpleColors_js,null,e.resolveUrl_js)}(this,function(e,t,n,a,i,o){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}function y(e,t,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=function(e){function t(){return l(this,t),m(this,u(t).apply(this,arguments))}return d(t,a.SimpleColors),c(t,[{key:"connectedCallback",value:function(){y(u(t.prototype),"connectedCallback",this).call(this)}},{key:"_hasAttribute",value:function(e){return null!=e}},{key:"_testAttribute",value:function(e,t){return e===t}},{key:"_addResponsiveUtility",value:function(e){window.ResponsiveUtility.requestAvailability(),window.dispatchEvent(new CustomEvent("responsive-element",{detail:void 0!==e?e:{element:this,attribute:"responsive-size",relativeToParent:!0}}))}},{key:"_getHHMMSS",value:function(e,t){t=void 0===t?e:t;var n=function(e){return e<10?"0"+e:e},a=function(e,a,i){return t>=a?n(Math.floor(e/a))+":":i};return a(e,3600,"")+a(e%3600,60,"00:")+n(Math.round(e%60))}},{key:"_getLocal",value:function(e,t){var n="",a=this.localization;return void 0!==a&&void 0!==a[e]&&void 0!==a[e][t]?n=a[e][t]:void 0!==this.localizationDefaults&&void 0!==this.localizationDefaults[e]&&void 0!==this.localizationDefaults[e][t]&&(n=this.localizationDefaults[e][t]),n}},{key:"_handlePrintClick",value:function(e){this.dispatchEvent(new CustomEvent("print-transcript",{detail:this}))}},{key:"_handleDownloadClick",value:function(e){this.dispatchEvent(new CustomEvent("download-transcript",{detail:this}))}},{key:"_handleDownload",value:function(e){this.dispatchEvent(new CustomEvent("downloading-transcript",{detail:this})),this.$.transcript.download(this.mediaTitle)}},{key:"_handlePrinting",value:function(e){this.dispatchEvent(new CustomEvent("printing-transcript",{detail:this})),this.$.transcript.print(this.mediaTitle)}}],[{key:"tag",get:function(){return"a11y-media-behaviors"}},{key:"properties",get:function(){return{audioOnly:{name:"audioOnly",type:Boolean,value:!1,reflectToAttribute:!0},autoplay:{name:"autoplay",type:Boolean,value:!1},cc:{name:"cc",type:Boolean,value:!1},disablePrintButton:{name:"disablePrintButton",type:Boolean,value:!1},disableSearch:{name:"disableSearch",type:Boolean,value:!1},disableScroll:{name:"disableScroll",type:Boolean,value:!1},disableSeek:{name:"disableSeek",type:Boolean,value:!1},hasTranscript:{name:"hasTranscript",type:Boolean,value:!1},height:{name:"height",type:String,value:null},isYoutube:{name:"isYoutube",type:Boolean,computed:"_hasAttribute(youtubeId)"},lang:{name:"lang",type:String,value:"en"},localization:{name:"localization",type:Object,value:{}},localizationDefaults:{name:"localizationDefaults",type:Object,value:{audio:{label:"Audio"},autoScroll:{label:"Scroll transcript with video.",icon:"swap-vert"},captions:{label:"Closed Captions",icon:"av:closed-caption",off:"Off"},download:{label:"Download the transcript.",icon:"file-download"},forward:{label:"Forward",icon:"av:fast-forward"},fullscreen:{label:"Fullscreen",icon:"fullscreen"},loading:{label:"Loading..."},loop:{label:"Loop Playback"},mute:{label:"Mute",icon:"av:volume-up"},nextResult:{label:"Next",icon:"arrow-forward"},pause:{label:"Pause",icon:"av:pause"},play:{label:"Play",icon:"av:play-arrow"},prevResult:{label:"Previous",icon:"arrow-back"},print:{label:"Print the transcript.",icon:"print"},restart:{label:"Restart",icon:"av:replay"},rewind:{label:"Backward",icon:"av:fast-rewind"},search:{label:"Search the transcript.",icon:"search"},seekSlider:{label:"Seek Slider"},settings:{label:"Settings",icon:"settings"},speed:{label:"Speed %"},transcript:{label:"Transcript",icon:"description",loading:"Loading the transcript(s)...",skip:"Skip to the transcript."},unmute:{label:"Unmute",icon:"av:volume-off"},video:{label:"Video"},volume:{label:"Volume"},youTubeLoading:{label:"Ready."},youTubeTranscript:{label:"Transcript will load once media plays."}},readOnly:!0},loop:{name:"loop",type:Boolean,value:!1},manifest:{name:"manifest",type:String,value:null},media:{name:"media",type:Object,value:null},mediaTitle:{name:"mediaTitle",type:String,value:""},muted:{name:"muted",type:Boolean,value:!1},playbackRate:{name:"playbackRate",type:Number,value:1},playing:{name:"playing",type:Boolean,value:!1},playPause:{name:"playPause",type:Object},preload:{name:"preload",type:String,value:"metadata"},search:{name:"search",type:Object,value:null},standAlone:{name:"standAlone",type:Boolean,value:!1,reflectToAttribute:!0},status:{name:"status",type:String,value:"loading..."},selectedTrack:{name:"selectedTrack",type:Object,value:null},selectedTrackID:{name:"selectedTrackID",type:Number,value:null},target:{name:"target",type:Object,value:null},tracks:{name:"tracks",type:Array,value:null},volume:{name:"volume",type:Number,value:70},width:{name:"width",type:String,value:null},youtubeId:{name:"youtubeId",type:String,value:null},youTube:{name:"youTube",type:Object,value:{}}}}},{key:"behaviors",get:function(){return[a.SimpleColors,ResponsiveUtility]}}]),t}();window.customElements.define(b.tag,b),window.A11yMediaStateManager=window.A11yMediaStateManager||{},window.A11yMediaStateManager.requestAvailability=function(){return window.A11yMediaStateManager.instance||(window.A11yMediaStateManager.instance=document.createElement("a11y-media-state-manager"),document.body.appendChild(window.A11yMediaStateManager.instance)),window.A11yMediaStateManager.instance};var g=function(e){function n(){var e;l(this,n);var t=h(e=m(this,u(n).call(this)));return t.__playerLoader=function(e){t.players.push(e.detail)},window.A11yMediaStateManager.instance||(window.A11yMediaStateManager.instance=h(e),window.addEventListener("a11y-player",t.__playerLoader)),e}return d(n,t.PolymerElement),c(n,null,[{key:"tag",get:function(){return"a11y-media-state-manager"}},{key:"properties",get:function(){return{players:{type:Array,value:[]},screenfullLoaded:{type:Boolean,value:!1},stickyPlayer:{type:Object,value:null}}}}]),c(n,[{key:"connectedCallback",value:function(){y(u(n.prototype),"connectedCallback",this).call(this);var e=this;this.__stickyManager=function(t){e.setStickyPlayer(t.detail)},this.__scrollChecker=function(t){e._checkScroll()},window.addEventListener("a11y-player-playing",e.__stickyManager),window.addEventListener("scroll",e.__scrollChecker)}},{key:"checkConcurrentPlayers",value:function(){for(var e=this.stickyPlayer,t=0;t<this.players.length;t++){var n=this.players[t];n===e||e.allowConcurrent&&n.allowConcurrent||n.pause()}}},{key:"setStickyPlayer",value:function(e){var t=this._getParentNode(e);this.__playerTop=t.offsetTop,this.__playerUpperMiddle=this.__playerTop+.9*t.offsetHeight,this.__playerLowerMiddle=this.__playerTop+.1*t.offsetHeight,e!==this.stickyPlayer&&void 0!==this.stickyPlayer&&null!==this.stickyPlayer&&(this.stickyPlayer.toggleSticky(!1),this.__parent.style.height="unset"),t.style.height=t.offsetHeight+"px",this.__parent=t,this.stickyPlayer=e,e.allowConcurrent||this.checkConcurrentPlayers(),this._checkScroll()}},{key:"_checkScroll",value:function(){var e=window.pageYOffset,t=e+window.innerHeight;void 0!==this.stickyPlayer&&null!==this.stickyPlayer&&(this.stickyPlayer.__playing&&(this.__playerLowerMiddle>t||this.__playerUpperMiddle<e)?this.stickyPlayer.toggleSticky(!0):this.stickyPlayer.toggleSticky(!1))}},{key:"_getParentNode",value:function(e){var t=e.parentNode;return null!=t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(t=t.host),t}},{key:"disconnectedCallback",value:function(){y(u(n.prototype),"disconnectedCallback",this).call(this);window.removeEventListener("a11y-player",this.__playerLoader),window.removeEventListener("a11y-player-playing",this.__stickyManager),window.removeEventListener("scroll",this.__scrollChecker)}}]),n}();function f(){var e=v(['\n      <style>\n        :host {\n          margin: 0;\n          padding: 0;\n        }\n        :host #button {\n          margin: 0;\n          padding: 8px;\n          line-height: 1;\n          border: none;\n          transition: color 0.25s;\n          color: var(--a11y-media-button-color);\n          background-color: var(--a11y-media-button-bg-color);\n        }\n        :host([toggle]) #button {\n          color: var(--a11y-media-button-toggle-color);\n          background-color: var(--a11y-media-button-toggle-bg-color);\n        }\n        :host([toggle]:active) #button,\n        :host([toggle]:focus) #button,\n        :host([toggle]:hover) #button,\n        :host(:active) #button,\n        :host(:focus) #button,\n        :host(:hover) #button {\n          cursor: pointer;\n          color: var(--a11y-media-button-hover-color);\n          background-color: var(--a11y-media-button-hover-bg-color);\n        }\n        :host .sr-only {\n          position: absolute;\n          left: -99999;\n          top: 0;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n        :host paper-tooltip {\n          z-index: 100;\n        }\n        iron-icon {\n          display: inline-block;\n        }\n      </style>\n      <button\n        id="button"\n        aria-label$="[[label]]"\n        aria-pressed$="[[toggle]]"\n        controls="[[controls]]"\n        disabled$="[[disabled]]"\n        on-click="_buttonTap"\n        role="button"\n        tabindex="0"\n        toggle$="[[toggle]]"\n      >\n        <iron-icon icon="[[icon]]"></iron-icon>\n      </button>\n      <paper-tooltip for="button">[[label]]</paper-tooltip>\n      <iron-a11y-keys\n        id="a11y"\n        keys="enter space"\n        target$="[[__target]]"\n        on-keys-pressed="_buttonTap"\n      ></iron-a11y-keys>\n    ']);return f=function(){return e},e}window.customElements.define(g.tag,g);var k=function(e){function n(){return l(this,n),m(this,u(n).apply(this,arguments))}return d(n,b),c(n,[{key:"connectedCallback",value:function(){y(u(n.prototype),"connectedCallback",this).call(this)}},{key:"ready",value:function(){y(u(n.prototype),"ready",this).call(this),this.__target=this.$.button}},{key:"_buttonTap",value:function(){this.dispatchEvent(new CustomEvent("click",{detail:this}))}}],[{key:"properties",get:function(){return{action:{type:String,value:null},controls:{type:String,value:"video"},icon:{type:String,value:null},label:{type:String,value:null},toggle:{type:Boolean,value:!1,reflectToAttribute:!0},disabled:{type:Boolean,value:null}}}},{key:"tag",get:function(){return"a11y-media-button"}},{key:"behaviors",get:function(){return[b]}},{key:"template",get:function(){return t.html(f())}}]),n}();function _(){var e=v(['\n      <style is="custom-style">\n        :host {\n          display: block;\n          width: 100%;\n          max-width: 100%;\n          height: 44px;\n          max-height: 44px;\n          position: relative;\n          color: var(--a11y-media-color);\n          --primary-text-color: var(--a11y-media-settings-menu-color);\n          --paper-menu-button-dropdown-background: var(--a11y-media-settings-menu-bg-color);\n          --paper-listbox-background-color: var(--a11y-media-settings-menu-bg-color);\n          --paper-listbox-color: var(--a11y-media-settings-menu-color);\n          --paper-listbox: {\n            padding: 0;\n          };\n          --paper-menu-button: {\n            background-color: var(--a11y-media-settings-menu-bg-color);\n            color: var(--a11y-media-settings-menu-color);\n          };\n          --paper-menu-button-dropdown: {\n            background-color: var(--a11y-media-settings-menu-bg-color);\n            color: var(--a11y-media-settings-menu-color);\n            margin-top: 0 !important;\n            margin-bottom: 0 !important;\n          };\n          --paper-item-selected: {\n            color: var(--a11y-media-settings-menu-hover-color);\n          };\n          --paper-item-focused: {\n            color: var(--a11y-media-settings-menu-hover-color);\n          };\n        }\n        :host > #controls-left {\n          position: absolute;\n          left: 0;\n          min-width: 200px;\n        }\n        :host > #controls-right {\n          position: absolute;\n          right: 0;\n          top: -2px;\n        }\n        :host paper-menu-button,\n        :host dropdown-select {\n          padding: 0;\n        }\n        :host paper-icon-button {\n          background-color: var(--a11y-media-settings-menu-bg-color);\n          color: var(--a11y-media-settings-menu-color);\n        }\n        :host paper-icon-button:active,\n        :host paper-icon-button:focus,\n        :host paper-icon-button:hover {\n          background-color: var(--a11y-media-settings-menu-bg-color);\n          color: var(--a11y-media-settings-menu-color);\n        }\n        :host paper-item {\n          min-height: 40;\n        }\n        :host paper-slider {\n          @apply --a11y-media-slider;\n        }\n        :host .play-status,\n        :host paper-icon-button {\n          border: none;\n          position: relative;\n        }\n        :host .play-status {\n          font-size: 85%;\n        }\n        :host .play-status.control-bar {\n          padding: 8px 13px 8px;\n        }\n        :host([hide-play-status]) .play-status {\n          display: none;\n        }\n        :host .setting {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          width: 100%;\n        }\n        :host .setting-text {\n          min-width: 125px;\n        }\n        :host .setting-control {\n          max-width: 100px;\n        }\n        :host .setting-slider {\n          width: 130px;\n          margin-left: -15px;\n          margin-right: -15px;\n          @apply --a11y-media-slider;\n        }\n        :host #speed {\n          --paper-slider-knob-start-color: var(--a11y-media-accent-color);\n          --paper-slider-knob-start-border-color: var(--a11y-media-accent-color);\n          --paper-slider-knob-end-color: var(--a11y-media-accent-color);\n          --paper-slider-knob-end-border-color: var(--a11y-media-accent-color);\n        }\n        :host #showvolume {\n          display: inline;\n          position: relative;\n        }\n        :host #volume {\n          z-index: 1;\n          position: absolute;\n          left: 30px;\n          top: -5px;\n          width: 0;\n          overflow: hidden;\n          transition: width 0.5s;\n          z-index: 3;\n          background-color: var(--a11y-media-bg-color);\n          --paper-slider-knob-end-color: var(--a11y-media-accent-color);\n          --paper-slider-knob-end-border-color: var(--a11y-media-accent-color);\n\n        }\n        :host #volume:active,\n        :host #volume:focus,\n        :host #volume:hover,\n        :host #volume.focus,\n        :host #showvolume:active #volume,\n        :host #showvolume:focus #volume,\n        :host #showvolume:hover #volume {\n          overflow: visible;\n          width: 100px;\n        }\n        :host([responsive-size="xs"]) #volume:active,\n        :host([responsive-size="xs"]) #volume:focus,\n        :host([responsive-size="xs"]) #volume:hover,\n        :host([responsive-size="xs"]) #volume.focus,\n        :host([responsive-size="xs"]) #showvolume:active #volume,\n        :host([responsive-size="xs"]) #showvolume:focus #volume,\n        :host([responsive-size="xs"]) #showvolume:hover #volume {\n          top: -35px\n          border-radius: 4px;\n        }\n        :host .sr-only {\n          position: absolute;\n          left: -99999;\n          top: 0;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n      </style>\n      <div id="controls-left">\n        <a11y-media-button\n          action$="[[playPause.action]]"\n          icon$="[[playPause.icon]]"\n          label$="[[playPause.label]]"\n          on-click="_onButtonTap"\n        ></a11y-media-button>\n        <a11y-media-button\n          action="rewind"\n          disabled$="[[disableSeek]]"\n          hidden$="[[compactControls]]"\n          icon$="[[_getLocal(\'rewind\',\'icon\')]]"\n          label$="[[_getLocal(\'rewind\',\'label\')]]"\n          on-click="_onButtonTap"\n        ></a11y-media-button>\n        <a11y-media-button\n          action="forward"\n          disabled$="[[disableSeek]]"\n          hidden$="[[compactControls]]"\n          icon$="[[_getLocal(\'forward\',\'icon\')]]"\n          label$="[[_getLocal(\'forward\',\'label\')]]"\n          on-click="_onButtonTap"\n        ></a11y-media-button>\n        <a11y-media-button\n          action="restart"\n          disabled$="[[disableSeek]]"\n          hidden$="[[compactControls]]"\n          icon$="[[_getLocal(\'restart\',\'icon\')]]"\n          label$="[[_getLocal(\'restart\',\'label\')]]"\n          on-click="_onButtonTap"\n        ></a11y-media-button>\n        <div id="showvolume">\n          <a11y-media-button\n            id="mute"\n            action$="[[muteUnmute.action]]"\n            icon$="[[muteUnmute.icon]]"\n            label$="[[muteUnmute.label]]"\n            on-click="_onButtonTap"\n          ></a11y-media-button>\n          <paper-slider\n            id="volume"\n            aria-labelledby="volume-slider-label"\n            label$="[[volumeLabel]]"\n            min="0"\n            max="100"\n            on-change="_onSettingsChanged"\n            pin\n            step="10"\n            value$="[[volume]]"\n          ></paper-slider>\n        </div>\n        <span aria-live="polite" class="play-status control-bar">\n          <span id="statbar"></span>\n        </span>\n      </div>\n      <div id="controls-right">\n        <a11y-media-button\n          action="captions"\n          disabled$="[[!hasCaptions]]"\n          hidden$="[[!hasCaptions]]"\n          icon$="[[_getLocal(\'captions\',\'icon\')]]"\n          label$="[[_getLocal(\'captions\',\'label\')]]"\n          on-click="_onButtonTap"\n          toggle$="[[cc]]"\n        >\n        </a11y-media-button>\n        <a11y-media-button\n          action="transcript"\n          controls="transcript"\n          disabled$="[[hideTranscriptButton]]"\n          hidden$="[[hideTranscriptButton]]"\n          icon$="[[_getLocal(\'transcript\',\'icon\')]]"\n          label$="[[_getLocal(\'transcript\',\'label\')]]"\n          on-click="_onButtonTap"\n          toggle$="[[hideTranscript]]"\n        >\n        </a11y-media-button>\n        <a11y-media-button\n          action="print"\n          disabled$="[[noPrinting]]"\n          hidden$="[[noPrinting]]"\n          icon$="[[_getLocal(\'print\',\'icon\')]]"\n          label="[[_getLocal(\'print\',\'label\')]]"\n          on-click="_handlePrintClick"\n        >\n        </a11y-media-button>\n        <a11y-media-button\n          action="download"\n          disabled$="[[noPrinting]]"\n          hidden$="[[noPrinting]]"\n          icon$="[[_getLocal(\'download\',\'icon\')]]"\n          label="[[_getLocal(\'download\',\'label\')]]"\n          on-click="_handleDownloadClick"\n        >\n        </a11y-media-button>\n        <template is="dom-if" if="[[fullscreenButton]]">\n          <a11y-media-button\n            action="fullscreen"\n            hidden$="[[audioNoThumb]]"\n            icon$="[[_getLocal(\'fullscreen\',\'icon\')]]"\n            label$="[[_getLocal(\'fullscreen\',\'label\')]]"\n            on-click="_onButtonTap"\n            toggle$="[[fullscreen]]"\n            step="1"\n          >\n          </a11y-media-button>\n        </template>\n        <paper-menu-button\n          id="settings"\n          allow-outside-scroll\n          horizontal-align="right"\n          ignore-select\n          on-change="_onSettingsChanged"\n          on-iron-activate="_handleSettingsActivate"\n          on-iron-select="_handleSettingsSelect"\n          vertical-align="bottom"\n        >\n          <paper-icon-button\n            action="settings"\n            alt$="[[_getLocal(\'settings\',\'label\')]]"\n            icon$="[[_getLocal(\'settings\',\'icon\')]]"\n            slot="dropdown-trigger"\n          >\n          </paper-icon-button>\n          <paper-listbox id="settingslist" slot="dropdown-content">\n            <paper-item hidden$="[[!hasCaptions]]">\n              <div class="setting">\n                <div class="setting-text">\n                  [[_getLocal(\'captions\',\'label\')]]\n                </div>\n                <div class="setting-control">\n                  <dropdown-select\n                    id="tracks"\n                    disabled$="[[!hasCaptions]]"\n                    no-label-float\n                    on-change="_handleTrackChange"\n                    value\n                  >\n                    <paper-item value=""\n                      >[[_getLocal(\'captions\',\'off\')]]</paper-item\n                    >\n                    <template is="dom-repeat" items="{{tracks}}" as="option">\n                      <paper-item value$="{{option.value}}"\n                        >{{option.text}}</paper-item\n                      >\n                    </template>\n                  </dropdown-select>\n                </div>\n              </div>\n            </paper-item>\n            <paper-item hidden$="[[noTranscriptToggle]]">\n              <div class="setting">\n                <div id="transcript-label" class="setting-text">\n                  [[_getLocal(\'transcript\',\'label\')]]\n                </div>\n                <div class="setting-control">\n                  <paper-toggle-button\n                    id="transcript-toggle"\n                    aria-labelledby="transcript-label"\n                    checked$="[[!hideTranscript]]"\n                    controls="transcript"\n                    disabled$="[[noTranscriptToggle]]"\n                  >\n                  </paper-toggle-button>\n                </div>\n              </div>\n            </paper-item>\n            <paper-item>\n              <div class="setting">\n                <div id="loop-label" class="setting-text">\n                  [[_getLocal(\'loop\',\'label\')]]\n                </div>\n                <div class="setting-control">\n                  <paper-toggle-button\n                    id="loop"\n                    aria-labelledby="loop-label"\n                    checked$="[[loop]]"\n                  ></paper-toggle-button>\n                </div>\n              </div>\n            </paper-item>\n            <paper-item>\n              <div class="setting">\n                <div id="speed-label" class="setting-text">\n                  [[_getLocal(\'speed\',\'label\')]]\n                </div>\n                <div class="setting-control">\n                  <paper-slider\n                    id="speed"\n                    aria-labelledby="speed-label"\n                    class="setting-slider"\n                    min="0.5"\n                    max="4"\n                    pin\n                    step="0.5"\n                    tab-index="-1"\n                    value$="[[playbackRate]]"\n                  ></paper-slider>\n                </div>\n              </div>\n            </paper-item>\n          </paper-listbox>\n        </paper-menu-button>\n        <paper-tooltip for="settings">\n          [[_getLocal(\'settings\',\'label\')]]\n        </paper-tooltip>\n      </div>\n    ']);return _=function(){return e},e}window.customElements.define(k.tag,k);var w=function(e){function n(){return l(this,n),m(this,u(n).apply(this,arguments))}return d(n,b),c(n,[{key:"connectedCallback",value:function(){y(u(n.prototype),"connectedCallback",this).call(this);this._addResponsiveUtility({element:this,attribute:"responsive-size",relativeToParent:!0,sm:300,md:600,lg:900,xl:1200})}},{key:"ready",value:function(){y(u(n.prototype),"ready",this).call(this);var e=this;e.$.mute.$.button.onfocus=function(){e.$.volume.classList.add("focus")},e.$.mute.$.button.onblur=function(){e.$.volume.classList.remove("focus")}}},{key:"setStatus",value:function(e){this.$.statbar.innerText=e}},{key:"setTracks",value:function(e){this.set("tracks",[]),this.set("tracks",e.slice(0))}},{key:"_getCompactControls",value:function(e){return this._testAttribute(e,"xs")||this._testAttribute(e,"sm")}},{key:"_handleTrackChange",value:function(e){null!==this.__selectedTrack&&(""!==e.detail.value?(this.dispatchEvent(new CustomEvent("select-track",{detail:{control:this,value:e.detail.value}})),this.dispatchEvent(new CustomEvent("toggle-cc",{detail:{control:this,value:!0}}))):this.dispatchEvent(new CustomEvent("toggle-cc",{detail:{control:this,value:!1}})))}},{key:"_handleSettingsSelect",value:function(e){}},{key:"_handleSettingsActivate",value:function(e){}},{key:"_onButtonTap",value:function(e){this.dispatchEvent(new CustomEvent("controls-change",{detail:e.detail})),this.$.settings.close()}},{key:"_onSettingsChanged",value:function(e){this.dispatchEvent(new CustomEvent("controls-change",{detail:e.target})),this.$.settings.close()}},{key:"_hideTranscriptButton",value:function(e,t){return e||t}},{key:"_noPrinting",value:function(e,t){return e||!t}},{key:"_noTranscriptToggle",value:function(e,t,n){return e||t||!n}}],[{key:"properties",get:function(){return{compactControls:{name:"compactControls",type:Boolean,computed:"_getCompactControls(responsiveSize)"},fixedHeight:{type:Boolean,value:!1},fullscreen:{name:"fullscreen",type:Boolean,value:!1},fullscreenButton:{name:"fullscreenButton",type:Boolean,value:!1,nofity:!0},hasCaptions:{name:"hasCaptions",type:Boolean,value:!1,notify:!0},hideTranscript:{name:"hideTranscript",type:Boolean,value:!1},hideTranscriptButton:{type:Boolean,computed:"_hideTranscriptButton(noTranscriptToggle,compactControls)"},muteUnmute:{name:"muteUnmute",type:Object},noPrinting:{type:Boolean,computed:"_noPrinting(standAlone,fixedHeight)"},noTranscriptToggle:{type:Boolean,computed:"_noTranscriptToggle(standAlone,fixedHeight,hasTranscript)"},responsiveSize:{name:"responsiveSize",type:String,notify:!0,value:"xs",reflectToAttribute:!0}}}},{key:"tag",get:function(){return"a11y-media-controls"}},{key:"behaviors",get:function(){return[b]}},{key:"template",get:function(){return t.html(_())}}]),n}();function x(){var e=v(['\n      <style>\n        :host {\n          height: 100%;\n          display: flex;\n          align-items: stretch;\n          position: relative;\n        }\n        :host([hidden]) {\n          display: none;\n        }\n        #video {\n          width: 100%;\n          max-width: 100%;\n        }\n      </style>\n      <video\n        id="video"\n        aria-hidden$="[[isYoutube]]"\n        autoplay$="[[autoplay]]"\n        crossorigin$="[[crossorigin]]"\n        hidden$="[[audioOnly]]"\n        lang$="[[mediaLang]]"\n        on-loadedmetadata="_handleMetadata"\n        poster$="[[thumbnailSrc]]"\n        src$="[[manifest]]"\n        preload="metadata"\n      >\n        HTML5 video not supported\n      </video>\n      <audio\n        id="audio"\n        autoplay$="[[autoplay]]"\n        crossorigin$="[[crossorigin]]"\n        hidden$="[[!audioOnly]]"\n        lang$="[[mediaLang]]"\n        on-loadedmetadata="_handleMetadata"\n        poster$="[[thumbnailSrc]]"\n        preload="metadata"\n      >\n        HTML5 audio not supported\n      </audio>\n    ']);return x=function(){return e},e}window.customElements.define(w.tag,w);var T=function(e){function n(){return l(this,n),m(this,u(n).apply(this,arguments))}return d(n,b),c(n,[{key:"connectedCallback",value:function(){y(u(n.prototype),"connectedCallback",this).call(this)}},{key:"ready",value:function(){y(u(n.prototype),"ready",this).call(this);this.media=void 0===this.$.video||this.audioOnly?this.$.audio:this.$.video}},{key:"_handleMetadata",value:function(){this.duration=this.media.duration>0?this.media.duration:0,this.tracks=[],this.volume=this.muted?0:Math.max(this.volume,10),this.seekable=this.media.seekable,this.setVolume(this.volume),this.setMute(this.muted),this.setCC(this.cc),this.setLoop(this.loop),this.setPlaybackRate(this.playbackRate),this.aspectRatio=this.media.videoWidth/this.media.videoHeight,this.dispatchEvent(new CustomEvent("media-loaded",{detail:this}))}},{key:"getBufferedTime",value:function(){return this.media.buffered.length>0?this.media.buffered.end(0):this.getCurrentTime()}},{key:"getCurrentTime",value:function(){return this.media.currentTime}},{key:"play",value:function(){this.paused=!1,this.media.play()}},{key:"pause",value:function(){this.paused=!0,this.media.pause()}},{key:"selectTrack",value:function(e){this.selectedTrack=this.media.textTracks[e];for(var t=0;t<this.media.textTracks.length;t++)parseInt(e)===t?this.media.textTracks[t].mode="showing":null!==this.media.textTracks[t]&&(this.media.textTracks[t].mode="hidden")}},{key:"stop",value:function(){this.pause(),this.seek(0)}},{key:"restart",value:function(){this.seek(0),this.play()}},{key:"seek",value:function(e){this.media.currentTime=e}},{key:"setCC",value:function(e){this.media.cc=!0===e,void 0!==this.selectedTrack&&1==e?(this.selectedTrack.mode="showing",this.$.video.textTracks.value=this.selectedTrackId):void 0!==this.selectedTrack&&null!==this.selectedTrack&&(this.selectedTrack.mode="hidden",this.$.video.textTracks.value="")}},{key:"setVolume",value:function(e){this.media.volume=e/100}},{key:"setPlaybackRate",value:function(e){this.media.playbackRate=null!==e?e:1}},{key:"setLoop",value:function(e){this.media.loop=!0===e}},{key:"setMute",value:function(e){this.media.muted=e}}],[{key:"properties",get:function(){return{controls:{type:String,value:"video"},crossorigin:{type:String,value:null},disabled:{type:Boolean,value:null},icon:{type:String,value:null},label:{type:String,value:null},mediaLang:{name:"mediaLang",type:String,value:"en"},paused:{type:Boolean,value:!0},seekable:{type:Object,value:{length:0,start:null,stop:null}},thumbnailSrc:{name:"thumbnailSrc",type:String,value:null,reflectToAttribute:!0}}}},{key:"tag",get:function(){return"a11y-media-html5"}},{key:"behaviors",get:function(){return[b]}},{key:"template",get:function(){return t.html(x())}}]),n}();function $(){var e=v(['\n      <style is="custom-style">\n        :host {\n          cursor: default;\n          display: table-row;\n          width: 100%;\n          color: var(--a11y-media-transcript-cue-color);\n          background-color: var(--a11y-media-transcript-cue-bg-color);\n          transition: color 0.25s, background-color 0.25s;\n        }\n        :host([hide-timestamps]) {\n          display: inline;\n        }\n        :host(:not([active]):not([disabled]):active),\n        :host(:not([active]):not([disabled]):focus),\n        :host(:not([active]):not([disabled]):hover) {\n          cursor: pointer;\n          color: var(--a11y-media-transcript-focused-cue-color);\n          background-color: var(--a11y-media-transcript-focused-cue-bg-color);\n          outline: 1px dotted var(--a11y-media-transcript-focused-cue-color);\n          @apply --a11y-media-transcript-focused-cue;\n        }\n        :host([active]) {\n          color: var(--a11y-media-transcript-active-cue-color);\n          background-color: var(--a11y-media-transcript-active-cue-bg-color);\n          @apply --a11y-media-transcript-active-cue;\n        }\n        :host #text {\n          display: table-cell;\n          width: 100%;\n          line-height: 200%;\n        }\n        :host([hide-timestamps]) #text {\n          display: inline;\n        }\n        :host #time {\n          display: table-cell;\n          font-size: 80%;\n          padding: 0 16px 0 0;\n          white-space: nowrap;\n          font-family: monospace;\n        }\n        :host([hide-timestamps]) #time {\n          display: none;\n        }\n        :host simple-search-content {\n          --simple-search-match-text-color: var(\n            --a11y-media-transcript-match-color\n          );\n          --simple-search-match-bg-color: var(\n            --a11y-media-transcript-match-bg-color\n          );\n          --simple-search-match-border-color: var(\n            --a11y-media-transcript-match-border-color\n          );\n          --simple-search-match: {\n            border: none;\n            border-radius: 4px;\n            font-weight: normal;\n          }\n        }\n        @media print {\n          :host,\n          :host([active]),\n          :host(:not([active]):not([disabled]):active),\n          :host(:not([active]):not([disabled]):focus),\n          :host(:not([active]):not([disabled]):hover) {\n            color: #000000;\n            background-color: #ffffff;\n          }\n        }\n      </style>\n      <span id="time">[[cue.start]] - [[cue.end]]</span>\n      <span id="text">\n        <simple-search-content id="content" content="[[cue.text]]">\n          [[cue.text]]\n        </simple-search-content>\n      </span>\n    ']);return $=function(){return e},e}window.customElements.define(T.tag,T);var S=function(e){function n(){return l(this,n),m(this,u(n).apply(this,arguments))}return d(n,b),c(n,[{key:"connectedCallback",value:function(){y(u(n.prototype),"connectedCallback",this).call(this)}},{key:"ready",value:function(){y(u(n.prototype),"ready",this).call(this);var e=this.search;this.disabled||(this.__target=this,this.setAttribute("aria-role","button"),this.setAttribute("controls",this.mediaId)),this.disableSearch||void 0===this.search||null===this.search||this.$.content.enableSearch(e),this.addEventListener("click",this._handleTap)}},{key:"_getActiveCue",value:function(e,t){return!(null===t||!t.includes(e.order.toString()))}},{key:"_handleTap",value:function(e){this.dispatchEvent(new CustomEvent("cue-seek",{detail:this.cue.seek}))}}],[{key:"properties",get:function(){return{active:(e={type:Boolean,reflectToAttribute:!0,computed:"_getActiveCue(cue,activeCues)",notify:!0},t="reflectToAttribute",n=!0,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),activeCues:{type:Array,value:null,notify:!0},cue:{type:Array,value:null},disabled:{type:Boolean,value:!1},text:{type:String,value:""}};var e,t,n}},{key:"tag",get:function(){return"a11y-media-transcript-cue"}},{key:"behaviors",get:function(){return[b]}},{key:"template",get:function(){return t.html($())}}]),n}();function C(){var e=v(['\n      <style>\n        :host {\n          color: var(--a11y-media-transcript-cue-color);\n          background-color: var(--a11y-media-transcript-cue-bg-color);\n          border-left: 1px solid var(--a11y-media-transcript-bg-color);\n        }\n        :host([hidden]) {\n          display: none !important;\n        }\n        :host .transcript-from-track {\n          display: none;\n          width: calc(100% - 30px);\n          padding: 0 15px 15px;\n          color: var(--a11y-media-transcript-cue-color);\n          background-color: var(--a11y-media-transcript-cue-bg-color);\n        }\n        :host .transcript-from-track[active] {\n          display: table;\n        }\n        :host .transcript-from-track[active][hideTimestamps] {\n          display: block;\n        }\n        :host .sr-only:not(:focus) {\n          position: absolute;\n          left: -99999;\n          top: 0;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n        @media print {\n          :host {\n            padding: 0 15px 5px;\n            color: #000;\n            background-color: #ffffff;\n            border-top: 1px solid #aaa;\n          }\n        }\n      </style>\n      <a id="transcript-desc" class="sr-only" href="#bottom">\n        [[_getLocal(\'transcript\',\'skip\')]]\n      </a>\n      <div\n        aria-live="polite"\n        id="loading"\n        active$="[[_isLoading(selectedTranscript, tracks)]]"\n        class="transcript-from-track"\n      >\n        [[status]]\n      </div>\n      <template id="tracks" is="dom-repeat" items="{{tracks}}" as="track">\n        <div\n          aria-live="polite"\n          id="track"\n          class="transcript-from-track"\n          lang="{{track.language}}"\n          active$="[[_isActive(selectedTranscript,index)]]"\n        >\n          <template is="dom-repeat" items="{{track.cues}}" as="cue">\n            <a11y-media-transcript-cue\n              accent-color$="[[accentColor]]"\n              active-cues$="[[activeCues]]"\n              controls$="[[mediaId]]"\n              cue$="{{cue}}"\n              disabled$="[[disableCue]]"\n              disable-search$="[[disableSearch]]"\n              hide-timestamps$="[[hideTimestamps]]"\n              on-cue-seek="_handleCueSeek"\n              order$="{{cue.order}}"\n              role="button"\n              search="[[search]]"\n              tabindex="0"\n            >\n            </a11y-media-transcript-cue>\n          </template>\n        </div>\n      </template>\n      <template is="dom-repeat" items="{{tracks}}" as="track">\n        <div\n          id="download"\n          class="downloadable-track"\n          hidden\n          active$="[[_isActive(selectedTranscript,index)]]"\n        >\n          <template is="dom-repeat" items="{{track.cues}}" as="cue">\n            [[cue.start]] - [[cue.end]]: [[cue.text]]\n          </template>\n        </div>\n      </template>\n      <div id="bottom" class="sr-only"></div>\n    ']);return C=function(){return e},e}function L(){var e=v(["\n        <h1>Transcript</h1>\n      "]);return L=function(){return e},e}function A(){var e=v(["\n        <style>\n          a11y-media-transcript-cue {\n            display: table-row;\n            background-color: #fff;\n            color: #000;\n          }\n          a11y-media-transcript-cue[hide-timestamps],\n          a11y-media-transcript-cue[hide-timestamps] #text {\n            display: inline;\n          }\n          a11y-media-transcript-cue #text {\n            display: table-cell;\n            line-height: 200%;\n          }\n          a11y-media-transcript-cue #time {\n            display: table-cell;\n            font-size: 80%;\n            padding: 0 16px;\n            white-space: nowrap;\n            font-family: monospace;\n          }\n          a11y-media-transcript-cue[hide-timestamps] #time {\n            display: none;\n          }\n          a11y-media-transcript-cue [matched] {\n            background-color: #fff;\n            color: #eee;\n            padding: 3px 4px;\n            border-radius: 3px;\n          }\n        </style>\n      "]);return A=function(){return e},e}window.customElements.define(S.tag,S);var P=function(e){function n(){return l(this,n),m(this,u(n).apply(this,arguments))}return d(n,b),c(n,[{key:"connectedCallback",value:function(){y(u(n.prototype),"connectedCallback",this).call(this),this.dispatchEvent(new CustomEvent("transcript-ready",{detail:this}))}},{key:"ready",value:function(){y(u(n.prototype),"ready",this).call(this)}},{key:"download",value:function(e){var t=document.createElement("a"),n=null!==e&&""!==e?e:this._getLocal("transcript","label"),a=null!==e&&""!==e?e.replace(/[^\w\d]/g,""):"Transcript",i=this.shadowRoot.querySelector("#download[active]"),o=null!==i?i.innerText:"";t.setAttribute("href","data:text/plain;charset=UTF-8,"+encodeURIComponent(n+"\n"+o)),t.setAttribute("download",a+".txt"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"print",value:function(e){var n=this.shadowRoot.querySelector("#track[active]").cloneNode(!0),a=t.html(A()),i=t.html(L());if(void 0!==e&&(i.innerHTML=e),null!==n&void 0!==n){var o=window.open("","","left=0,top=0,width=552,height=477,toolbar=0,scrollbars=0,status =0");o.document.body.appendChild(a),o.document.body.appendChild(i),o.document.body.appendChild(n),o.document.close(),o.focus(),o.print(),o.close()}}},{key:"setActiveCues",value:function(e){var t=null!==this.shadowRoot.querySelector("#track")&&void 0!==this.shadowRoot.querySelector("#track")?this.shadowRoot.querySelector("#track").offsetTop:0,n=this.shadowRoot.querySelector("#track a11y-media-transcript-cue[active]");if(this.set("activeCues",e.slice(0)),!this.disableScroll&&null!=n&&void 0!==this.activeCues&&n.getAttribute("order")!==this.activeCues[0]){!function e(t,n,a){if(!(a<=0)){var i=(n-t.scrollTop)/a*10;setTimeout(function(){t.scrollTop=t.scrollTop+i,t.scrollTop!==n&&e(t,n,a-10)},10)}}(this,n.offsetTop-t,250)}}},{key:"setMedia",value:function(e){this.media=e,this.dispatchEvent(new CustomEvent("transcript-ready",{detail:this}))}},{key:"setTracks",value:function(e){this.set("tracks",e.slice(0)),this.notifyPath("tracks"),void 0!==this.tracks&&this.tracks.length>0&&this.$.tracks.render()}},{key:"toggleHidden",value:function(e){var t=document.getElementById("inner");null!=t&&t.querySelector("a11y-media-transcript-cue[active]"),null!=t&&t.querySelector("a11y-media-transcript-cue");e=void 0!==e?e:this.hidden,this.hidden=e}},{key:"_getTabIndex",value:function(e){return e?-1:0}},{key:"_getRole",value:function(e){return e?null:"button"}},{key:"_handleCueSeek",value:function(e){this.disableInteractive||this.dispatchEvent(new CustomEvent("transcript-seek",{detail:e.detail}))}},{key:"_isActive",value:function(e,t){return null!=e&&parseInt(e)===parseInt(t)}},{key:"_isLoading",value:function(e,t){return null==e||null==t||0===t.length}},{key:"_stampLoadingStatus",value:function(e){return this.$.loading.innerHTML=!1===e?this._getLocal("transcript","label"):this._getLocal("youTubeTranscript","label"),this.$.loading.innerHTML}}],[{key:"properties",get:function(){return{activeCues:{type:Array,value:null,reflectToAttribute:!0,notify:!0},disableInteractive:{name:"disableInteractive",type:Boolean,value:!1},hideTimestamps:{name:"hideTimestamps",type:Boolean,value:!1},lang:{type:String,value:"en",reflectToAttribute:!0},mediaId:{type:String,value:null},tabIndex:{type:Number,computed:"_getTabIndex(disableInteractive)"},role:{type:Number,computed:"_getRole(disableInteractive)"},selectedTranscript:{type:String,value:"0"},status:{type:String,computed:"_stampLoadingStatus(disableSeek)"},tracks:{type:Array,value:null}}}},{key:"tag",get:function(){return"a11y-media-transcript"}},{key:"behaviors",get:function(){return[b]}},{key:"template",get:function(){return t.html(C())}}]),n}();function E(){var e=v(['\n      <style>\n        :host {\n          display: flex;\n          height: 44px;\n          max-height: 44px;\n          min-height: 44px;\n          color: var(--a11y-media-color);\n          background-color: var(--a11y-media-transcript-bg-color);\n          --a11y-media-button-bg-color: var(--a11y-media-transcript-bg-color);\n          --a11y-media-button-hover-bg-color: var(\n            --a11y-media-transcript-bg-color\n          );\n          --simple-search-input-text-color: var(--a11y-media-color);\n          --simple-search-input-line-color: var(--a11y-media-accent-color);\n          --simple-search-input-placeholder-color: var(\n            --a11y-media-transcript-color\n          );\n          --simple-search-button-color: var(--a11y-media-accent-color);\n          --simple-search-button-hover-color: var(\n            --a11y-media-faded-accent-color\n          );\n          --simple-search-button-bg-color: var(--a11y-media-bg-color);\n          --simple-search-button-border-color: var(--a11y-media-bg-color);\n          --simple-search-button-hover-border-color: var(--a11y-media-bg-color);\n          --simple-search-button-disabled-color: var(\n            --simple-colors-default-theme-grey-5\n          );\n          --simple-search-button-disabled-bg-color: var(\n            --simple-colors-default-theme-grey-2\n          );\n          --simple-search-button-disabled-border-color: var(\n            --simple-colors-default-theme-grey-3\n          );\n          --paper-input-container-input-color: var(--a11y-media-color);\n          --simple-search-container: {\n            padding: 0 15px;\n          }\n        }\n        :host #searchbar {\n          display: flex;\n          align-items: stretch;\n          justify-content: space-between;\n          width: 100%;\n        }\n        :host #searching {\n          flex-grow: 2;\n        }\n        :host #autoscroll {\n          padding-right: 8px;\n        }\n        :host #scrolling,\n        :host #printing {\n          display: flex;\n          align-items: center;\n        }\n        @media print {\n          :host {\n            display: none;\n          }\n        }\n      </style>\n      <div id="searchbar">\n        <div id="searching">\n          <simple-search\n            id="simplesearch"\n            controls="transcript"\n            disabled$="[[disableSearch]]"\n            hidden$="[[disableSearch]]"\n            no-label-float\n            next-button-icon$="[[_getLocal(\'nextResult\',\'icon\')]]"\n            next-button-label$="[[_getLocal(\'nextResult\',\'label\')]]"\n            prev-button-icon$="[[_getLocal(\'prevResult\',\'icon\')]]"\n            prev-button-label$="[[_getLocal(\'prevResult\',\'label\')]]"\n            search-input-icon$="[[_getLocal(\'search\',\'icon\')]]"\n            search-input-label$="[[_getLocal(\'search\',\'label\')]]"\n            target="[[target]]"\n          >\n          </simple-search>\n        </div>\n        <div id="scrolling">\n          <a11y-media-button\n            id="scroll"\n            controls="transcript"\n            icon="[[_getLocal(\'autoScroll\',\'icon\')]]"\n            label="[[_getLocal(\'autoScroll\',\'label\')]]"\n            on-tap="_handleScrollClick"\n            toggle$="[[!disableScroll]]"\n          >\n          </a11y-media-button>\n        </div>\n        <div\n          id="printing"\n          hidden$="[[disablePrintButton]]"\n          disabled$="[[disablePrintButton]]"\n        >\n          <a11y-media-button\n            id="download"\n            controls="transcript"\n            icon$="[[_getLocal(\'download\',\'icon\')]]"\n            label="[[_getLocal(\'download\',\'label\')]]"\n            on-tap="_handleDownloadClick"\n          >\n          </a11y-media-button>\n          <a11y-media-button\n            id="print"\n            controls="transcript"\n            icon$="[[_getLocal(\'print\',\'icon\')]]"\n            label="[[_getLocal(\'print\',\'label\')]]"\n            on-tap="_handlePrintClick"\n          >\n          </a11y-media-button>\n        </div>\n      </div>\n    ']);return E=function(){return e},e}window.customElements.define(P.tag,P);var B=function(e){function n(){return l(this,n),m(this,u(n).apply(this,arguments))}return d(n,b),c(n,[{key:"connectedCallback",value:function(){y(u(n.prototype),"connectedCallback",this).call(this);this.search=this.$.simplesearch,this.dispatchEvent(new CustomEvent("searchbar-added",{detail:this.search}))}},{key:"_handleScrollClick",value:function(e){this.dispatchEvent(new CustomEvent("toggle-scroll",{detail:this}))}}],[{key:"properties",get:function(){return{target:{type:Object,value:null}}}},{key:"tag",get:function(){return"a11y-media-transcript-controls"}},{key:"behaviors",get:function(){return[b]}},{key:"template",get:function(){return t.html(E())}}]),n}();window.customElements.define(B.tag,B),window.A11yMediaYoutube=window.A11yMediaYoutube||{},window.A11yMediaYoutube.requestAvailability=function(){return window.A11yMediaYoutube.instance||(window.A11yMediaYoutube.instance=document.createElement("a11y-media-youtube"),document.body.appendChild(window.A11yMediaYoutube.instance)),window.A11yMediaYoutube.instance};var M=function(e){function n(){return l(this,n),m(this,u(n).apply(this,arguments))}return d(n,t.PolymerElement),c(n,[{key:"connectedCallback",value:function(){y(u(n.prototype),"connectedCallback",this).call(this);var e=this,t=document.createElement("script");t.setAttribute("src","https://www.youtube.com/iframe_api"),t.setAttribute("type","text/javascript"),document.body.appendChild(t),window.onYouTubeIframeAPIReady=function(){var t=new CustomEvent("youtube-api-ready");e.apiReady=!0,document.dispatchEvent(t)}}},{key:"initYoutubePlayer",value:function(e){var t="a11y-media-yt-",n=document.createElement("div"),a=e.videoId.split(/[\?&]/),i=a[0],o=null,r=null,l={videoId:i};this.counter++,t+=this.counter,document.body.appendChild(n),n.setAttribute("id",t);var s=new YT.Player(t,{width:e.width,height:e.height,events:{onReady:function(e){for(var t=1;t<a.length;t++){var n=a[t].split("=");if("t"===n[0]){var i=n[1].match(/(\d)+h/),s=n[1].match(/(\d)+m/),c=n[1].replace(/\d+h/,"").replace(/\d+m/,"").replace(/s/,"").match(/(\d)+/),d=null!==i&&i.length>1?360*parseInt(i[1]):0,u=null!==s&&s.length>1?60*parseInt(s[1]):0,p=null!==c&&c.length>1?parseInt(c[1]):0;o=parseInt(d+u+p)}else"start"===n[0]?o=parseInt(n[1]):"end"===n[0]&&(r=parseInt(n[1]))}null!==o?(o=Math.max(0,o),l.startSeconds=o):o=0,null!==r&&(r=null!==o?Math.max(o,r):Math.max(0,r),l.endSeconds=r),e.target.cueVideoById(l)}},playerVars:{color:"white",controls:0,autoplay:e.autoplay,disablekb:1,enablejsapi:1,iv_load_policy:3,modestbranding:1,showinfo:0,rel:0}});return s.tracks=[],s.duration=0,s.seekable={length:1,start:function(e){s.seekable.start=function(e){return o||0}},end:function(e){s.seekable.end=function(e){return null!==r?Math.min(r,s.duration):s.duration}}},s.paused=!0,s.play=function(){void 0!==s.playVideo&&s.playVideo()},s.addEventListener("onStateChange",function(){s.paused=1!==s.getPlayerState(),s.paused?clearInterval(s.timeupdate):s.timeupdate=setInterval(function(){document.dispatchEvent(new CustomEvent("timeupdate",{detail:s}))},1)}),s.pause=function(){void 0!==s.pauseVideo&&s.pauseVideo()},s.seek=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;void 0!==s.seekTo&&(s.seekTo(e),s.paused&&(s.seekupdate=setInterval(function(){Math.abs(s.getCurrentTime()-e)<1&&(document.dispatchEvent(new CustomEvent("timeupdate",{detail:s})),clearInterval(s.seekupdate))},1)))},s.setMute=function(e){void 0!==s.mute&&(e?s.mute():s.unMute())},s}}],[{key:"tag",get:function(){return"a11y-media-youtube"}},{key:"properties",get:function(){return{apiReady:{type:Boolean,value:void 0!==window.YT},counter:{type:Number,value:0}}}}]),n}();function j(){var e=v(['\n<style>\n:host {\n  display: block;\n  width: calc(100% - 2px);\n  border: 1px solid var(--simple-colors-default-theme-grey-3);\n  --a11y-media-color: var(--simple-colors-default-theme-grey-11);\n  --a11y-media-bg-color: var(--simple-colors-default-theme-grey-2);\n  --a11y-media-hover-color: var(--simple-colors-default-theme-grey-12);\n  --a11y-media-hover-bg-color: var(--simple-colors-default-theme-grey-2);\n  --a11y-media-accent-color: var(--simple-colors-default-theme-accent-9);\n  --a11y-media-faded-accent-color: var(--simple-colors-default-theme-accent-8);\n\n  \n  --a11y-media-settings-menu-color: var(--a11y-media-color);\n  --a11y-media-settings-menu-bg-color: var(--a11y-media-bg-color);\n  --a11y-media-settings-menu-hover-color: var(--a11y-media-hover-color);\n  --a11y-media-settings-menu-hover-bg-color: var(--a11y-media-hover-bg-color);\n\n  \n  --a11y-media-button-color: var(--a11y-media-color);\n  --a11y-media-button-bg-color: var(--a11y-media-bg-color);\n  --a11y-media-button-hover-color: var(--a11y-media-accent-color);\n  --a11y-media-button-hover-bg-color: var(--a11y-media-hover-bg-color);\n  --a11y-media-button-toggle-color: var(--a11y-media-faded-accent-color);\n\n  \n  --paper-toggle-button-unchecked-bar-color: var(--a11y-media-color);\n  --paper-toggle-button-unchecked-button-color: var(--a11y-media-color);\n  --paper-toggle-button-checked-bar-color: var(--a11y-media-accent-color);\n  --paper-toggle-button-checked-button-color: var(--a11y-media-accent-color);\n\n  \n  --paper-slider-active-color: var(--a11y-media-accent-color);\n  --paper-slider-secondary-color: var(--a11y-media-faded-accent-color);\n  --paper-slider-pin-color: var(--a11y-media-faded-bg-color);\n  --paper-slider-pin-start-color: var(--a11y-media-faded-bg-color);\n  --paper-slider-pin-end-color: var(--a11y-media-faded-bg-color);\n  --paper-slider-knob-color: var(--a11y-media-accent-color);\n  --paper-slider-knob-start-color: var(--a11y-media-bg-color);\n  --paper-slider-knob-end-color: var(--a11y-media-bg-color);\n  --paper-slider-knob-border-color: var(--a11y-media-accent-color);\n  --paper-slider-knob-start-border-color: var(--a11y-media-bg-color);\n  --paper-slider-knob-end-border-color: var(--a11y-media-bg-color);\n  \n  \n  --a11y-media-transcript-color: var(--simple-colors-default-theme-grey-7);\n  --a11y-media-transcript-bg-color: var(--simple-colors-default-theme-grey-1);\n  --a11y-media-transcript-accent-color: var(--simple-colors-default-theme-accent-8);\n  --a11y-media-transcript-faded-accent-color: var(--simple-colors-default-theme-accent-10);\n  --a11y-media-transcript-cue-color: var(--simple-colors-fixed-theme-grey-12);\n  --a11y-media-transcript-cue-bg-color: var(--simple-colors-fixed-theme-grey-1);\n  --a11y-media-transcript-active-cue-color: var(--simple-colors-fixed-theme-grey-12);\n  --a11y-media-transcript-active-cue-bg-color: var(--simple-colors-fixed-theme-accent-1);\n  --a11y-media-transcript-focused-cue-color: var(--simple-colors-fixed-theme-grey-12);\n  --a11y-media-transcript-focused-cue-bg-color: var(--simple-colors-fixed-theme-grey-2);\n  --a11y-media-transcript-match-color: var(--simple-colors-fixed-theme-grey-1);\n  --a11y-media-transcript-match-bg-color: var(--simple-colors-fixed-theme-accent-10);\n  --a11y-media-transcript-match-border-color: var(--simple-colors-fixed-theme-accent-12);\n}\n:host([dark]) {\n  border: 1px solid var(--simple-colors-default-theme-grey-1);\n}\n:host([dark-transcript]) {\n  --a11y-media-transcript-bg-color: var(--simple-colors-dark-theme-grey-1);\n  --a11y-media-transcript-cue-color: var(--simple-colors-dark-theme-grey-12);\n  --a11y-media-transcript-cue-bg-color: var(--simple-colors-dark-theme-grey-1);\n  --a11y-media-transcript-active-cue-color: var(--simple-colors-dark-theme-accent-10);\n  --a11y-media-transcript-active-cue-bg-color: var(--simple-colors-dark-theme-grey-1);\n  --a11y-media-transcript-match-color: var(--simple-colors-dark-theme-grey-1);\n  --a11y-media-transcript-match-bg-color: var(--simple-colors-dark-theme-accent-10);\n  --a11y-media-transcript-match-border-color: var(--simple-colors-dark-theme-accent-12);\n  --a11y-media-transcript-focused-cue-color: var(--simple-colors-dark-theme-grey-12);\n  --a11y-media-transcript-focused-cue-bg-color: var(--simple-colors-dark-theme-grey-2);\n}\n:host,\n:host #outerplayer {\n  color: var(--simple-colors-default-theme-grey-12);\n  background-color: var(--simple-colors-default-theme-grey-2);\n}\n:host > * {\n  transition: all 0.5s;\n}\n:host,\n:host #outerplayer,\n:host #player,\n:host #outertranscript,\n:host #innertranscript {\n  display: flex;\n  flex-flow: column;\n  align-items: stretch;\n  align-content: stretch;\n} \n:host #innerplayer {\n  display: flex;\n}\n:host([hidden]),\n:host *[hidden] {\n  display: none !important;\n}\n:host #innerplayer,\n:host #player, \n:host #player > *,\n:host #customcc,\n:host #customcctxt,\n:host #slider,\n:host #controls,\n:host #outertranscript,\n:host #innertranscript {\n  width: 100%;\n}\n:host #innertranscript > * {\n  width: calc(100% - 1px);\n}\n:host > *,\n:host #innerplayer,\n:host #player,\n:host #player > *,\n:host #customcctxt {\n  flex: 1 1 auto;\n}\n:host #controls,\n:host #tcontrols {\n  flex: 0 0 44px;\n}\n:host #innerplayer {\n  margin: 0 auto;\n}\n:host #player {\n  position: relative;\n}\n:host #player > * {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n}\n:host #playbutton,\n:host #slider,\n:host #controls {\n  z-index: 2;\n}\n:host([audio-only]) #playbutton {\n  opacity: 0;\n}\n:host #slider {\n  flex: 0 0 32px;\n  height: 32px;\n}\n:host([thumbnail-src]) #youtube {\n  opacity: 0;\n}\n:host #youtube[elapsed] {\n  opacity: 1;\n  transition: opacity 0.5s;\n}\n:host #customcc:not([hidden]) {\n  font-size: 20px;\n  transition: font-size 0.25s;\n  display: flex;\n}\n:host #customcctxt:not(:empty) {\n  align-self: flex-end;\n  font-family: sans-serif;\n  color: white;\n  margin: 4px 10px;\n  padding: 0.15em 4px;\n  background-color: black;\n  background-color: rgba(0, 0, 0, 0.8);\n  transition: all 0.5s;\n}\n:host([audio-only]:not([thumbnail-src])) #customcctxt {\n  align-self: center;\n  color: var(--a11y-media-color);\n  background-color: transparent;\n}\n:host #printthumb {\n  width: 100%;\n  margin: 0;\n  display: block;\n  border-top: 1px solid #aaaaaa;\n}\n:host .media-caption:not(:empty) {\n  width: calc(100% - 30px);\n  padding: 5px 15px;\n}\n:host .media-type {\n  font-style: italic;\n}\n:host #outertranscript {\n  padding: 0 1px 0 0;\n}\n:host #innertranscript {\n  flex: 1 0 194px;\n}\n:host #transcript {\n  flex: 1 0 150px;\n  overflow-y: scroll;\n}\n:host .sr-only {\n  position: absolute;\n  left: -9999px;\n  font-size: 0;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n}\n@media screen {\n  :host([flex-layout]:not([responsive-size="xs"])) {\n    flex-flow: row;\n    padding: 0;\n  }\n  :host([flex-layout]:not([responsive-size="xs"])) #outerplayer {\n    flex: 1 0 auto;\n  }\n  :host #printthumb,\n  :host([height]) #outertranscript,\n  :host([stand-alone]) #outertranscript,\n  :host([hide-transcript]) #outertranscript {\n    display: none;\n  }\n  :host([sticky]:not([sticky-corner="none"])) #outerplayer {\n    position: fixed;\n    top: 5px;\n    right: 5px;\n    width: 200px;\n    max-width: 200px;\n    z-index: 999999;\n    border: 1px solid var(--a11y-media-bg-color);\n    box-shadow: 1px 1px 20px 1px rgba(125, 125, 125);\n    border-radius: 3.2px;\n  }\n  :host([dark][sticky]:not([sticky-corner="none"])) #outerplayer {\n    border: 1px solid var(--a11y-media-bg-color);\n  }\n  :host([sticky][sticky-corner="top-left"]) #outerplayer {\n    right: unset;\n    left: 5px;\n  }\n  :host([flex-layout]:not([responsive-size="xs"])) > div {\n    width: 50%;\n    flex: 1 1 auto;\n  }\n  :host #innertranscript {\n    position: relative;\n  }\n  :host([hide-transcript]) #outerplayer {\n    min-width: 50%;\n    max-width: 100%;\n  }\n  :host([hide-transcript]) #outertranscript {\n    display: none;\n  }\n  :host(:not([no-height]):not([stacked-layout]):not([responsive-size="xs"]))\n    #transcript {\n    position: absolute;\n    top: 44px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow-y: scroll;\n  }\n  :host(:not([no-height]):not([stacked-layout]):not([responsive-size="xs"]))\n    #innerplayer.totop {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 200px !important;\n    z-index: 9999;\n  }\n  :host([sticky][sticky-corner="bottom-left"]) #innerplayer {\n    top: unset;\n    right: unset;\n    bottom: 5px;\n  }\n  :host([sticky][sticky-corner="bottom-right"]) #innerplayer {\n    top: unset;\n    bottom: 5px;\n  }\n  :host([sticky]:not([sticky-corner="none"]):not([no-height]):not([stacked-layout]):not([responsive-size="xs"]))\n    #controls {\n    display: none;\n  }\n  :host([responsive-size="lg"]) #customcc {\n    font-size: 16px;\n  }\n  :host([responsive-size="md"]) #customcc,\n  :host([flex-layout][responsive-size="xl"]) #customcc {\n    font-size: 14px;\n  }\n  :host([responsive-size="sm"]) #customcc,\n  :host([flex-layout][responsive-size="lg"]) #customcc {\n    font-size: 12px;\n  }\n  :host([responsive-size="xs"]) #customcc,\n  :host([flex-layout][responsive-size="md"]) #customcc,\n  :host([flex-layout][responsive-size="sm"]) #customcc {\n    font-size: 10px;\n  }\n  :host([sticky]:not([sticky-corner="none"])) #customcc {\n    display: none;\n  }\n  :host .media-caption {\n    color: var(--a11y-media-bg-color);\n    background-color: var(--a11y-media-accent-color);\n  }\n  :host #audio-only {\n    text-align: center;\n    font-style: italic;\n    width: 100%;\n    line-height: 160%;\n  }\n  :host .print-only {\n    display: none;\n  }\n}\n\n@media print {\n  :host,\n  :host([dark]) {\n    outline: 1px solid #aaaaaa;\n    background-color: #ffffff;\n  }\n  :host .screen-only,\n  :host #printthumb:not([src]),\n  :host(:not([thumbnail-src])) #player {\n    display: none;\n  }\n  :host #searchbar {\n    display: none;\n  }\n  :host .media-caption {\n    background-color: #cccccc;\n    color: #000000;\n    font-size: 120%;\n  }\n}</style>\n<div class="sr-only">[[mediaCaption]]</div>\n  <div id="outerplayer">\n    <div id="innerplayer">\n      <div id="player"\n        style$="[[_getThumbnailCSS(thumbnailSrc,isYoutube,audioOnly)]]">\n        <a11y-media-play-button\n          id="playbutton"\n          action$="[[playPause.action]]"\n          audio-only$="[[audioOnly]]"\n          disabled="true"\n          elapsed$="[[_hidePlayButton(thumbnailSrc, isYoutube, __elapsed)]]"\n          hidden$="[[audioNoThumb]]"\n          disabled$="[[audioNoThumb]]"\n          on-controls-change="_onControlsChanged"\n          localization$="[[localization]]">\n        </a11y-media-play-button>\n        <a11y-media-html5\n          id="html5"\n          audio-only$="[[audioOnly]]"\n          autoplay$="[[autoplay]]"\n          cc$="[[cc]]"\n          crossorigin$="[[crossorigin]]"\n          hidden$="[[isYoutube]]"\n          media-lang$="[[mediaLang]]"\n          loop$="[[loop]]"\n          muted$="[[muted]]"\n          manifest$="[[manifest]]"\n          on-media-loaded="_handleMediaLoaded"\n          ontimeupdate="_handleTimeUpdate"\n          playing$="[[__playing]]"\n          playback-rate$="[[playbackRate]]"\n          thumbnail-src$="[[thumbnailSrc]]"\n          preload$="[[preload]]"\n          volume$="[[volume]]"\n        >\n          <slot></slot>\n        </a11y-media-html5>\n        <div id="youtube" \n          elapsed$="[[__elapsed]]" \n          lang$="[[mediaLang]]"\n          video-id$="[[videoId]]">\n        </div>\n        <div id="customcc" \n          aria-live="polite"\n          class="screen-only" \n          hidden$="[[!showCustomCaptions]]">\n          <div id="customcctxt"></div>\n        </div>\n      </div>\n    </div>\n    <paper-slider id="slider"\n      class="screen-only"\n      disabled$="[[disableSeek]]"\n      label$="[[seekSlider.label]]"\n      min="0"\n      max="[[__duration]]"\n      on-mousedown="_handleSliderStart"\n      on-mouseup="_handleSliderStop"\n      on-keyup="_handleSliderStop"\n      on-keydown="_handleSliderStart"\n      on-blur="_handleSliderStop"\n      secondary-progress="[[__buffered]]"\n      value="[[__elapsed]]"\n    >\n    </paper-slider>\n    <a11y-media-controls id="controls"\n      cc$="[[cc]]"\n      disable-seek$="[[disableSeek]]"\n      fixed-height$="[[height]]"\n      fullscreen$="[[fullscreen]]"\n      fullscreen-button$="[[fullscreenButton]]"\n      has-captions$="[[hasCaptions]]"\n      has-transcript$="[[hasTranscript]]"\n      hide-transcript$="[[hideTranscript]]"\n      mute-unmute="[[muteUnmute]]"\n      on-controls-change="_onControlsChanged"\n      on-print-transcript="_handlePrinting"\n      on-download-transcript="_handleDownload"\n      responsive-size$="[[responsiveSize]]"\n      play-pause="[[playPause]]"\n      stand-alone$="[[standAlone]]"\n      volume="[[__volume]]">\n    </a11y-media-controls>\n    <div\n      aria-hidden="true"\n      class="screen-only media-caption"\n      hidden$="[[!_hasAttribute(mediaCaption)]]">\n      [[mediaCaption]]\n    </div>\n    <div class="print-only media-caption">[[printCaption]]</div>\n  </div>\n  <img id="printthumb" aria-hidden="true" src$="[[thumbnailSrc]]" />\n  <div id="outertranscript" hidden$="[[standAlone]]">\n    <div id="innertranscript" hidden$="[[hideTranscript]]">\n      <a11y-media-transcript-controls id="tcontrols"\n        accent-color$="[[accentColor]]"\n        localization$="[[localization]]"\n        dark$="[[darkTranscript]]"\n        disable-print-button$="[[disablePrintButton]]"\n        disable-scroll$="[[disableScroll]]"\n        disable-search$="[[disableSearch]]"\n        has-transcript$="[[hasTranscript]]"\n        localization$="[[localization]]"\n        on-searchbar-added="_handleSearchAdded"\n        on-toggle-scroll="_handleTranscriptScrollToggle"\n        on-print-transcript="_handlePrinting"\n        on-download-transcript="_handleDownload"\n        stand-alone$="[[standAlone]]">\n      </a11y-media-transcript-controls>\n      <a11y-media-transcript id="transcript" \n        accent-color$="[[accentColor]]"\n        dark$="[[darkTranscript]]"\n        disable-scroll$="[[disableScroll]]"\n        disable-search$="[[disableSearch]]"\n        disable-seek$="[[disableSeek]]"\n        disable-interactive$="[[disableInteractive]]"\n        hide-timestamps$="[[hideTimestamps]]"\n        media-id$="[[id]]"\n        on-transcript-seek="_handleTranscriptSeek"\n        localization$="[[localization]]"\n        search="[[search]]"\n        selected-transcript$="[[__selectedTrack]]">\n      </a11y-media-transcript>\n    </div>\n  </div>']);return j=function(){return e},e}window.customElements.define(M.tag,M);var z=function(e){function n(){var e;l(this,n),e=m(this,u(n).call(this)),import("@polymer/paper-slider/paper-slider.js"),import("@polymer/iron-icons/iron-icons.js"),import("@polymer/iron-icons/av-icons.js"),import("@lrnwebcomponents/a11y-media-player/lib/a11y-media-play-button.js");var t=o.pathFromUrl(decodeURIComponent("undefined"!=typeof document?document.currentScript&&document.currentScript.src||document.baseURI:new("undefined"!=typeof URL?URL:require("url").URL)("file:"+__filename).href)),a="".concat(t,"lib/screenfull/dist/screenfull.js");return window.ESGlobalBridge.requestAvailability(),window.ESGlobalBridge.instance.load("screenfullLib",a),window.addEventListener("es-bridge-screenfullLib-loaded",e._onScreenfullLoaded.bind(h(e))),e.__playerAttached=!0,window.A11yMediaStateManager.requestAvailability(),e}return d(n,b),c(n,null,[{key:"template",get:function(){return t.html(j())}},{key:"properties",get:function(){return{allowConcurrent:{name:"allowConcurrent",type:Boolean,value:!1},audioNoThumb:{name:"audioNoThumb",type:Boolean,computed:"_getAudioNoThumb(audioOnly,thumbnailSrc)"},darkTranscript:{name:"darkTranscript",type:Boolean,value:!1},disableFullscreen:{name:"disableFullscreen",type:Boolean,value:!1},disableInteractive:{name:"disableInteractive",type:Boolean,value:!1},flexLayout:{name:"flexLayout",type:Boolean,computed:"_isFlexLayout(standAlone,hideTranscript,audioNoThumb,stackedLayout)",reflectToAttribute:!0},fullscreen:{name:"fullscreen",type:Boolean,value:!1},fullscreenButton:{name:"fullscreenButton",type:Boolean,computed:"_getFullscreenButton(disableFullscreen,audioNoThumb,screenfullLoaded)",notify:!0},hasCaptions:{name:"hasCaptions",type:Boolean,value:!1},hideElapsedTime:{name:"hideElapsedTime",type:Boolean,value:!1},hideTimestamps:{name:"hideTimestamps",type:Boolean,value:!1},hideTranscript:{name:"hideTranscript",type:Boolean,value:!1,reflectToAttribute:!0},id:{name:"id",type:String,value:null,reflectToAttribute:!0},mediaCaption:{name:"mediaCaption",type:String,computed:"_getMediaCaption(audioOnly,localization,mediaTitle)"},mediaLang:{name:"mediaLang",type:String,value:"en"},muteUnmute:{name:"muteUnmute",type:Object,computed:"_getMuteUnmute(muted)"},printCaption:{name:"printCaption",type:String,computed:"_getPrintCaption(audioOnly,audioLabel,videoLabel,mediaTitle)"},responsiveSize:{name:"responsiveSize",type:String,notify:!0,value:"xs",reflectToAttribute:!0},screenfullLoaded:{name:"screenfullLoaded",type:Boolean,value:!1,notify:!0},showCustomCaptions:{name:"showCustomCaptions",type:Boolean,computed:"_showCustomCaptions(isYoutube, audioOnly, hasCaptions, cc)"},sources:{name:"sources",type:Array,value:[]},stackedLayout:{name:"stackedLayout",type:Boolean,value:!1},sticky:{name:"sticky",type:Boolean,value:!1,reflectToAttribute:!0},stickyCorner:{name:"stickyCorner",type:String,value:"top-right",reflectToAttribute:!0},thumbnailSrc:{name:"thumbnailSrc",type:String,value:null,reflectToAttribute:!0},tracks:{name:"tracks",type:Array,value:[]},playPause:{name:"playPause",type:Object,computed:"_getPlayPause(__playing)"},__playing:{name:"__playing",type:Boolean,value:!1,notify:!0,reflectToAttribute:!0}}}}]),c(n,[{key:"connectedCallback",value:function(){y(u(n.prototype),"connectedCallback",this).call(this),this._addResponsiveUtility(),window.dispatchEvent(new CustomEvent("a11y-player",{detail:this})),this.isYoutube&&this._youTubeRequest()}},{key:"ready",value:function(){y(u(n.prototype),"ready",this).call(this);var e=this;"object"===("undefined"==typeof screenfull?"undefined":r(screenfull))&&e._onScreenfullLoaded.bind(e),null===e.id&&(e.id="a11y-media-player"+Date.now()),e.__playerReady=!0,e.target=e.shadowRoot.querySelector("#transcript"),e.__status=e._getLocal("loading","label"),e.__slider=e.$.slider,e.__slider.min=0,e.__volume=e.muted?0:Math.max(this.volume,10),e.__resumePlaying=!1,e.__duration=0,e.$.controls.setStatus(e.__status),e.width=null!==e.width?e.width:"100%",e.style.maxWidth=null!==e.width?e.width:"100%",e._setPlayerHeight(16/9),e.isYoutube?(e._youTubeRequest(),document.addEventListener("timeupdate",function(t){t.detail===e.media&&e._handleTimeUpdate(t)})):(e.media=e.$.html5,e.media.media.addEventListener("timeupdate",function(t){e._handleTimeUpdate(t)}),e._addSourcesAndTracks()),e.$.transcript.setMedia(e.$.innerplayer)}},{key:"play",value:function(){this.__playing;this.__playing=!0,this.media.play(),window.dispatchEvent(new CustomEvent("a11y-player-playing",{detail:this}))}},{key:"pause",value:function(){this.__playing=!1,this.media.pause()}},{key:"stop",value:function(){this.pause(),this.seek(0)}},{key:"restart",value:function(){this.seek(0),this.play()}},{key:"rewind",value:function(e){e=void 0!==e?e:this.media.duration/20,this.__resumePlaying=this.__playing,this.seek(this.media.getCurrentTime()-e,0),this.__resumePlaying&&this.play(),this.__resumePlaying=!1}},{key:"forward",value:function(e){e=void 0!==e?e:this.media.duration/20,this.__resumePlaying=this.__playing,this.seek(this.media.getCurrentTime()+e),this.__resumePlaying&&this.play(),this.__resumePlaying=!1}},{key:"seek",value:function(e){var t=void 0!==this.media&&null!==this.media?this.media.seekable:[];t.length>0&&e>=t.start(0)&&e<=t.end(0)&&this.media.seek(e)}},{key:"selectTrack",value:function(e){this.__selectedTrack=e,this.$.html5.selectTrack(e)}},{key:"setVolume",value:function(e){this.volume=null!==e?e:70,this.media.setVolume(this.volume),this.muted=0===this.volume}},{key:"setPlaybackRate",value:function(e){e=null!==e?e:1,this.media.setPlaybackRate(e)}},{key:"toggleCC",value:function(e){this.cc=void 0===e?!this.cc:e,this.$.html5.setCC(this.cc)}},{key:"toggleLoop",value:function(e){this.isYoutube||(this.loop=void 0===e?!this.loop:e,this.media.setLoop(this.loop))}},{key:"toggleMute",value:function(e){this.muted=void 0===e?!this.muted:e,this.__volume=this.muted?0:Math.max(this.volume,10),this.media.setMute(this.muted)}},{key:"toggleSticky",value:function(e){e=void 0===e?!this.sticky:e,this.sticky=e,this.dispatchEvent(new CustomEvent("player-sticky",{detail:this}))}},{key:"toggleTranscript",value:function(e){e=void 0===e?this.hideTranscript:e,this.hideTranscript=!e,void 0!==this.$.transcript&&null!==this.$.transcript&&this.dispatchEvent(new CustomEvent("transcript-toggle",{detail:this}))}},{key:"_appendToPlayer",value:function(e,t){if(null!=e&&e!==[])for(var n=Array.isArray(e)?e:JSON.parse(e),a=0;a<n.length;a++){var i=document.createElement(t);for(var o in n[a])i.setAttribute(o,n[a][o]);this.$.html5.media.appendChild(i)}}},{key:"_setPlayerHeight",value:function(e){this.audioOnly&&null===this.thumbnailSrc&&null===this.height?this.$.player.style.height="60px":null===this.height?(this.$.player.style.paddingTop=100/e+"%",this.$.innerplayer.style.maxWidth="calc("+100*e+"vh - "+80*e+"px)"):this.$.outerplayer.style.height=this.height}},{key:"_getMediaCaption",value:function(e,t,n){var a=this._getLocal("audio","label"),i=null!=n&&""!==n;return e&&i?n+" ("+a+")":e?a:i?n:null}},{key:"_getMuteUnmute",value:function(e){return e?{label:this._getLocal("unmute","label"),icon:this._getLocal("unmute","icon"),action:"unmute"}:{label:this._getLocal("mute","label"),icon:this._getLocal("mute","icon"),action:"mute"}}},{key:"_getPrintCaption",value:function(e,t,n){var a=this._getLocal("audio","label"),i=this._getLocal("video","label"),o=null!=n&&""!==n;return e&&o?n+" ("+a+")":e?a:o?n+" ("+i+")":i}},{key:"_getThumbnailCSS",value:function(e,t,n){return null!=e&&(t||n)?"background-image: url("+e+"); background-size: cover;":null}},{key:"_addSourcesAndTracks",value:function(){var e=this,t=0;e.querySelectorAll("source,track").forEach(function(t){e.$.html5.media.appendChild(t)}),e._appendToPlayer(e.tracks,"track"),e._appendToPlayer(e.sources,"source"),e.$.html5.media.textTracks.onaddtrack=function(n){e.hasCaptions=!0,e.hasTranscript=!e.standAlone,e._getTrackData(n.track,t++)}}},{key:"_getAudioNoThumb",value:function(e,t){return e&&null==t}},{key:"_getFullscreenButton",value:function(e,t,n){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||e||t||!n)}},{key:"_getPlayPause",value:function(e){return!1!==e?{label:this._getLocal("pause","label"),icon:this._getLocal("pause","icon"),action:"pause"}:{label:this._getLocal("play","label"),icon:this._getLocal("play","icon"),action:"play"}}},{key:"_getTrackData",value:function(e,t){var n,a=this,i=!0===e.default||void 0===a.__selectedTrack;i&&a.selectTrack(t),e.mode=i&&!0===this.cc?"showing":"hidden",n=setInterval(function(){if(void 0!==e.cues&&null!==e.cues&&e.cues.length>0){clearInterval(n);var i=Object.keys(e.cues).map(function(t){return{order:""!==e.cues[t].id?e.cues[t].id:t,seek:e.cues[t].startTime,seekEnd:e.cues[t].endTime,start:a._getHHMMSS(e.cues[t].startTime,a.media.duration),end:a._getHHMMSS(e.cues[t].endTime,a.media.duration),text:e.cues[t].text}});void 0===a.__tracks&&(a.__tracks=[]),a.push("__tracks",{value:t,language:e.language,text:void 0!==e.label?e.label:void 0!==e.language?e.language:"Track "+t,cues:i}),a.$.controls.setTracks(a.__tracks),a.$.transcript.setTracks(a.__tracks),a.push("__tracks"),e.oncuechange=function(e){a.$.transcript.setActiveCues(Object.keys(e.currentTarget.activeCues).map(function(t){return e.currentTarget.activeCues[t].id}))}}},1)}},{key:"_handleTranscriptSeek",value:function(e){this.standAlone||void 0===this.$.transcript||null===this.$.transcript||(this.__resumePlaying=this.__playing,this.seek(e.detail))}},{key:"_handleMediaLoaded",value:function(e){var t=this.media.aspectRatio;this._setPlayerHeight(t),this.$.playbutton.removeAttribute("disabled"),this._setElapsedTime(),this._getTrackData(this.$.html5.media)}},{key:"_hidePlayButton",value:function(e,t,n){return t&&null===e||!(void 0===n||0===n)}},{key:"_handlePrinting",value:function(e){this.dispatchEvent(new CustomEvent("printing-transcript",{detail:this})),this.$.transcript.print(this.mediaTitle)}},{key:"_handleSearchAdded",value:function(e){this.search=e.detail}},{key:"_handleSliderStart",value:function(e){this.__resumePlaying=!this.paused,this.pause(),this.__seeking=!0}},{key:"_handleSliderStop",value:function(e){this.seek(this.$.slider.immediateValue),this.__seeking=!1,this.__resumePlaying&&(this.play(),this.__resumePlaying=null)}},{key:"_handleTimeUpdate",value:function(e){this.isYoutube&&this.media.duration!==this.media.getDuration()&&(this.__duration=this.media.duration=this.media.getDuration(),this.disableSeek=!1,this._addSourcesAndTracks(),this.media.seekable&&this.media.seekable.length>0&&0!==this.media.seekable.start(0)&&(this.$.slider.min=this.media.seekable.start(0))),void 0!==this.media.seekable&&this.media.seekable.length>0&&this.media.seekable.end(0)<=this.media.getCurrentTime()&&(this.stop(),this.__playing=!1),this._updateCustomTracks(),this._setElapsedTime()}},{key:"_handleTranscriptScrollToggle",value:function(e){this.disableScroll=!this.disableScroll}},{key:"_isFlexLayout",value:function(e,t,n,a){return!(e||t||n||a)}},{key:"_onControlsChanged",value:function(e){var t=void 0!==e.detail.action?e.detail.action:e.detail.id;"backward"===t||"rewind"===t?this.rewind():"captions"===t?this.toggleCC():"transcript"===t||"transcript-toggle"===t?this.toggleTranscript():"tracks"===e.detail.id?""===e.detail.value?this.toggleCC(!1):(this.toggleCC(!0),this.selectTrack(e.detail.value)):"forward"===t?this.forward():"fullscreen"===t&&this.fullscreenButton?(this.toggleTranscript(this.fullscreen),screenfull.toggle(this.$.outerplayer)):"loop"===t?this.toggleLoop():"mute"===t||"unmute"===t?this.toggleMute():"pause"===t?this.pause():"play"===t?this.play():"restart"===t?(this.seek(0),this.play()):"speed"===t?this.setPlaybackRate(e.detail.value):"volume"===t&&this.setVolume(e.detail.value)}},{key:"_onScreenfullLoaded",value:function(){var e=this;e.screenfullLoaded=!0,screenfull&&screenfull.on("change",function(){screenfull.enabled&&(e.fullscreen=screenfull.isFullscreen)})}},{key:"_setElapsedTime",value:function(){var e=!0===this.__seeking?this.$.slider.immediateValue:this.media.getCurrentTime()>0?this.media.getCurrentTime():0,t=this.media.duration>0?this.media.duration:0;this.__elapsed=e,this.__duration=t,void 0!==this.media.seekable&&this.media.seekable.length>0&&(void 0!==this.media.seekable.start(0)&&(e-=this.media.seekable.start(0)),void 0!==this.media.seekable.end(0)&&(t=this.media.seekable.end(0)-(void 0!==this.media.seekable.start(0)?this.media.seekable.start(0):0))),this.__status=this._getHHMMSS(e,t)+"/"+this._getHHMMSS(t),this.$.controls.setStatus(this.__status)}},{key:"_showCustomCaptions",value:function(e,t,n,a){return(e||t)&&n&&a}},{key:"_useYoutubeIframe",value:function(e,t,n){return t&&(null===e||void 0===n||0===n)}},{key:"_youTubeRequest",value:function(){window.A11yMediaYoutube.requestAvailability();var e=this,t=window.A11yMediaYoutube.instance;if(e.disableSeek=!0,e.__playerAttached&&e.__playerReady){var n=function(){e.media=t.initYoutubePlayer({width:"100%",height:"100%",videoId:e.youtubeId}),e.__status=e._getLocal("youTubeLoading","label"),e.$.controls.setStatus(e.__status),e.$.youtube.appendChild(e.media.a),e.__ytAppended=!0,e._updateCustomTracks()};t.apiReady?e.__ytAppended||n():document.addEventListener("youtube-api-ready",function a(i){t.apiReady&&(document.removeEventListener("youtube-api-ready",a),e.__ytAppended||n())})}}},{key:"_updateCustomTracks",value:function(){if((this.isYoutube||this.audioOnly)&&this.__tracks){var e=this.__tracks[this.$.transcript.selectedTranscript],t=[],n="";if(null!=e&&void 0!==e.cues&&null!==e.cues){for(var a=0;a<e.cues.length;a++)e.cues[a].seek<this.__elapsed&&e.cues[a].seekEnd>this.__elapsed&&(t.push(e.cues[a].order),n=""===n?e.cues[a].text:n);this.$.customcctxt.innerText=n,this.$.transcript.setActiveCues(t)}}}},{key:"disconnectedCallback",value:function(){window.removeEventListener("es-bridge-screenfullLib-loaded",this._onScreenfullLoaded.bind(this)),y(u(n.prototype),"disconnectedCallback",this).call(this)}}],[{key:"tag",get:function(){return"a11y-media-player"}},{key:"behaviors",get:function(){return[b]}}]),n}();window.customElements.define(z.tag,z),e.A11yMediaPlayer=z,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=a11y-media-player.umd.js.map
