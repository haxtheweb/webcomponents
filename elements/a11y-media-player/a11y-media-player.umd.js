!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@lrnwebcomponents/simple-tooltip/simple-tooltip.js"),require("@lrnwebcomponents/simple-fields/lib/simple-fields-field.js"),require("@lrnwebcomponents/simple-range-input/simple-range-input.js"),require("@lrnwebcomponents/simple-search/simple-search.js"),require("lit-element/lit-element.js"),require("@lrnwebcomponents/simple-colors/simple-colors.js"),require("@lrnwebcomponents/simple-toast/simple-toast.js"),require("@lrnwebcomponents/fullscreen-behaviors/fullscreen-behaviors.js"),require("@lrnwebcomponents/anchor-behaviors/anchor-behaviors.js"),require("@lrnwebcomponents/responsive-utility/responsive-utility.js"),require("@lrnwebcomponents/utils/utils.js"),require("@lrnwebcomponents/absolute-position-behavior/absolute-position-behavior.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icons.js"),require("@lrnwebcomponents/simple-search/lib/simple-search-content.js")):"function"==typeof define&&define.amd?define(["exports","@lrnwebcomponents/simple-tooltip/simple-tooltip.js","@lrnwebcomponents/simple-fields/lib/simple-fields-field.js","@lrnwebcomponents/simple-range-input/simple-range-input.js","@lrnwebcomponents/simple-search/simple-search.js","lit-element/lit-element.js","@lrnwebcomponents/simple-colors/simple-colors.js","@lrnwebcomponents/simple-toast/simple-toast.js","@lrnwebcomponents/fullscreen-behaviors/fullscreen-behaviors.js","@lrnwebcomponents/anchor-behaviors/anchor-behaviors.js","@lrnwebcomponents/responsive-utility/responsive-utility.js","@lrnwebcomponents/utils/utils.js","@lrnwebcomponents/absolute-position-behavior/absolute-position-behavior.js","@lrnwebcomponents/simple-icon/lib/simple-icon-lite.js","@lrnwebcomponents/simple-icon/lib/simple-icons.js","@lrnwebcomponents/simple-search/lib/simple-search-content.js"],e):e((t=t||self).A11yMediaPlayer={},null,null,null,null,t.litElement_js,t.simpleColors_js,t.simpleToast_js,t.fullscreenBehaviors_js,null,null,t.utils_js)}(this,function(t,e,n,i,a,o,r,s,l,c,d,u){"use strict";function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){b(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i,a,o=k(t);if(e){var r=k(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return i=this,!(a=n)||"object"!=typeof a&&"function"!=typeof a?w(i):a}}function T(t,e,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function S(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function C(t){return function(t){if(Array.isArray(t))return z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function L(){var t=S(["\n        #button {\n          margin: 0;\n          border: none;\n        }\n        .sr-only {\n          position: absolute;\n          left: -99999;\n          top: 0;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n        simple-tooltip {\n          z-index: 100;\n        }\n        simple-tooltip:not(:defined) {\n          display: none;\n        }\n      "]);return L=function(){return t},t}function E(){var t=S(["\n        :host {\n          margin: 0;\n          padding: 0;\n        }\n        #button {\n          margin: 0;\n          padding: 8px;\n          line-height: 1;\n          border: none;\n          transition: color 0.25s;\n          color: var(--a11y-media-button-color);\n          background-color: var(--a11y-media-button-bg-color);\n        }\n        :host([toggle]) #button {\n          color: var(--a11y-media-button-toggle-color);\n          background-color: var(--a11y-media-button-toggle-bg-color);\n        }\n        :host([toggle]:active) #button,\n        :host([toggle]:focus) #button,\n        :host([toggle]:hover) #button,\n        :host(:active) #button,\n        :host(:focus) #button,\n        :host(:hover) #button {\n          color: var(--a11y-media-button-hover-color);\n          background-color: var(--a11y-media-button-hover-bg-color);\n        }\n        :host([disabled]) #button {\n          color: var(--a11y-media-button-disabled-color);\n          cursor: not-allowed;\n        }\n        .sr-only {\n          position: absolute;\n          left: -99999;\n          top: 0;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n        simple-tooltip {\n          z-index: 100;\n        }\n        simple-tooltip:not(:defined) {\n          display: none;\n        }\n        simple-icon-lite {\n          display: inline-block;\n        }\n      "]);return E=function(){return t},t}function M(){var t=S(['\n            <simple-tooltip for="button" position="','"\n              >',"</simple-tooltip\n            >\n          "]);return M=function(){return t},t}function O(){var t=S(['\n      <button\n        id="button"\n        aria-label="','"\n        aria-pressed="','"\n        controls="','"\n        tabindex="0"\n        @click="','"\n        ?disabled="','"\n        ?toggle="','"\n      >\n        <simple-icon-lite icon="','"></simple-icon-lite>\n      </button>\n      ',"\n    "]);return O=function(){return t},t}var j=function(t){g(n,o.LitElement);var e=x(n);function n(){var t;return p(this,n),(t=e.call(this)).accentColor="red",t.dark=!1,t.controls="video",t.disabled=!1,t.toggle=!1,t.tooltipPosition="bottom",t}return y(n,null,[{key:"properties",get:function(){return{accentColor:{attribute:"accent-color",type:String},dark:{type:Boolean},action:{attribute:"action",reflect:!0,type:String},controls:{attribute:"controls",reflect:!0,type:String},icon:{attribute:"icon",type:String},label:{attribute:"label",type:String},toggle:{attribute:"toggle",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean},tooltipPosition:{attribute:"tooltip-position",type:String}}}},{key:"tag",get:function(){return"a11y-media-button"}}]),y(n,[{key:"render",value:function(){return o.html(O(),this.label,this.toggle?"true":"false",this.controls,this._buttonClick,this.disabled,this.toggle,this.icon,this.label?o.html(M(),this.tooltipPosition,this.label):"")}},{key:"_buttonClick",value:function(t){this.dispatchEvent(new CustomEvent("button-click",{detail:this}))}}],[{key:"styles",get:function(){return[this.buttonStyles,o.css(E())]}},{key:"buttonStyles",get:function(){return[o.css(L())]}}]),n}();function A(){var t=S(['\n        :host {\n          display: block;\n          opacity: 1;\n          transition: opacity 0.5s;\n        }\n        :host([action="pause"]) {\n          opacity: 0;\n        }\n        :host,\n        #button {\n          width: 100%;\n          top: 0;\n          left: 0;\n          opacity: 1;\n          transition: opacity 0.5s;\n        }\n        #button {\n          position: absolute;\n          height: 100%;\n          padding: 0;\n          background: var(--a11y-play-button-bg-color);\n        }\n        #button:focus,\n        #button:hover {\n          background: var(--a11y-play-button-focus-bg-color);\n          opacity: 0.2;\n        }\n        #arrow {\n          stroke: #ffffff;\n          fill: #000000;\n        }\n        #text {\n          fill: #ffffff;\n        }\n        @media print {\n          :host,\n          #background,\n          #svg {\n            display: none;\n          }\n        }\n      ']);return A=function(){return t},t}function P(){var t=S(['\n              <svg\n                id="svg"\n                aria-hidden="true"\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="0 0 200 200"\n                width="30%"\n                height="30%"\n                opacity="0.5"\n              >\n                <g>\n                  <polygon\n                    id="arrow"\n                    points="30,20 30,180 170,100"\n                    fill="#000000"\n                    stroke="#ffffff"\n                    stroke-width="15px"\n                  ></polygon>\n                  <text\n                    id="text"\n                    class="sr-only"\n                    x="50"\n                    y="115"\n                    fill="#ffffff"\n                    font-size="30px"\n                  >\n                    ',"\n                  </text>\n                </g>\n              </svg>\n            "]);return P=function(){return t},t}function I(){var t=S(['\n              <svg\n                id="svg"\n                aria-hidden="true"\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="0 0 70 60"\n                preserveAspectRatio="xMidYMid meet"\n                focusable="false"\n                width="30%"\n                height="30%"\n                opacity="0.5"\n              >\n                <g\n                  viewBox="0 0 70 60"\n                  preserveAspectRatio="xMidYMid meet"\n                  class="style-scope ytd-topbar-logo-renderer"\n                >\n                  <g class="style-scope ytd-topbar-logo-renderer">\n                    <path\n                      fill="#FF0000"\n                      d="M63,14.87c-0.72-2.7-2.85-4.83-5.56-5.56C52.54,8,32.88,8,32.88,8S13.23,8,8.32,9.31\n            c-2.7,0.72-4.83,2.85-5.56,5.56C1.45,19.77,1.45,30,1.45,30s0,10.23,1.31,15.13c0.72,2.7,2.85,4.83,5.56,5.56\n            C13.23,52,32.88,52,32.88,52s19.66,0,24.56-1.31c2.7-0.72,4.83-2.85,5.56-5.56C64.31,40.23,64.31,30,64.31,30\n            S64.31,19.77,63,14.87z"\n                      class="style-scope ytd-topbar-logo-renderer"\n                    ></path>\n                    <polygon\n                      fill="#FFFFFF"\n                      points="26.6,39.43 42.93,30 26.6,20.57"\n                      class="style-scope ytd-topbar-logo-renderer"\n                    ></polygon>\n                  </g>\n                </g>\n              </svg>\n            ']);return I=function(){return t},t}function R(){var t=S(['\n      <button\n        id="button"\n        aria-hidden="','"\n        controls="video"\n        aria-label="','"\n        tabindex="0"\n        @click="','"\n        ?disabled="','"\n      >\n        ',"\n      </button>\n    "]);return R=function(){return t},t}window.customElements.define(j.tag,j);var B=function(t){g(n,j);var e=x(n);function n(){return p(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(){return o.html(R(),this.disabled?"true":"false",this.label,this._buttonClick,this.disabled,"undefined"!=this.youtubeId&&null!=this.youtubeId?o.html(I()):o.html(P(),this.label))}}],[{key:"tag",get:function(){return"a11y-media-play-button"}},{key:"styles",get:function(){return[].concat(C(T(k(n),"buttonStyles",this)),[o.css(A())])}},{key:"properties",get:function(){return v(v({},T(k(n),"properties",this)),{},{youtubeId:{attribute:"youtube-id",type:String}})}}]),n}();window.customElements.define(B.tag,B),window.A11yMediaStateManager=window.A11yMediaStateManager||{},window.A11yMediaStateManager.requestAvailability=function(){return window.A11yMediaStateManager.instance||(window.A11yMediaStateManager.instance=document.createElement("a11y-media-state-manager"),document.body.appendChild(window.A11yMediaStateManager.instance)),window.A11yMediaStateManager.instance};var q=function(t){g(n,o.LitElement);var e=x(n);function n(){var t;return p(this,n),(t=e.call(this)).players=[],t.__stickyManager=function(e){return t.setStickyPlayer(e.detail)},t.__activeManager=function(e){return t.setActivePlayer(e.detail)},t.__scrollChecker=function(e){return t._checkScroll(e)},t.__playerLoader=function(e){return t.players.push(e.detail)},window.A11yMediaStateManager.instance||(window.A11yMediaStateManager.instance=w(t)),t}return y(n,null,[{key:"tag",get:function(){return"a11y-media-state-manager"}},{key:"properties",get:function(){return v(v({},T(k(n),"properties",this)),{},{players:{type:Array},activePlayer:{type:Object}})}}]),y(n,[{key:"checkConcurrentPlayers",value:function(){var t=this.activePlayer;this.players.forEach(function(e){e!==t&&(e.toggleFullscreen(!1),(!e.allowConcurrent&&!t.allowConcurrent||t.fullscreen)&&e.pause())})}},{key:"setActivePlayer",value:function(t){this.activePlayer=t,this.checkConcurrentPlayers()}},{key:"setStickyPlayer",value:function(t){var e=this._getParentNode(t);this.__playerTop=e.offsetTop,this.__playerUpperMiddle=this.__playerTop+.9*e.offsetHeight,this.__playerLowerMiddle=this.__playerTop+.1*e.offsetHeight,t!==this.activePlayer&&void 0!==this.activePlayer&&null!==this.activePlayer&&this.activePlayer.toggleSticky(!1),e.style.height=e.offsetHeight+"px",this.setActivePlayer(t),this._checkScroll()}},{key:"_checkScroll",value:function(){var t=window.pageYOffset,e=t+window.innerHeight;void 0!==this.activePlayer&&null!==this.activePlayer&&(this.activePlayer.__playing&&(this.__playerLowerMiddle>e||this.__playerUpperMiddle<t)?this.activePlayer.toggleSticky(!0):this.activePlayer.toggleSticky(!1))}},{key:"_getParentNode",value:function(t){var e=t.parentNode;return null!=e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(e=e.host),e}},{key:"connectedCallback",value:function(){T(k(n.prototype),"connectedCallback",this).call(this),window.addEventListener("a11y-player-playing",this.__stickyManager),window.addEventListener("a11y-player-fullscreen",this.__activeManager),window.addEventListener("scroll",this.__scrollChecker),window.addEventListener("a11y-player",this.__playerLoader)}},{key:"disconnectedCallback",value:function(){window.removeEventListener("a11y-player",this.__playerLoader),window.removeEventListener("a11y-player-playing",this.__stickyManager),window.removeEventListener("a11y-player-fullscreen",this.__activeManager),window.removeEventListener("scroll",this.__scrollChecker),T(k(n.prototype),"disconnectedCallback",this).call(this)}}]),n}();function N(){var t=S(["\n        :host {\n          cursor: default;\n          display: table-row;\n          width: 100%;\n          color: var(--a11y-media-transcript-cue-color);\n          background-color: var(--a11y-media-transcript-cue-bg-color);\n          transition: color 0.25s, background-color 0.25s;\n          --simple-search-match-text-color: var(\n            --a11y-media-transcript-match-color\n          );\n          --simple-search-match-bg-color: var(\n            --a11y-media-transcript-match-bg-color\n          );\n          --simple-search-match-border-color: var(\n            --a11y-media-transcript-match-border-color\n          );\n          --simple-search-match-border: none;\n          --simple-search-match-border-radius: 4px;\n          --simple-search-match-font-weight: normal;\n        }\n        :host([hide-timestamps]) {\n          display: inline;\n        }\n        :host(:not([active]):not([disabled]):active),\n        :host(:not([active]):not([disabled]):focus),\n        :host(:not([active]):not([disabled]):hover) {\n          cursor: pointer;\n          color: var(--a11y-media-transcript-focused-cue-color);\n          background-color: var(--a11y-media-transcript-focused-cue-bg-color);\n          outline: 1px dotted var(--a11y-media-transcript-focused-cue-color);\n        }\n        :host([active]) {\n          color: var(--a11y-media-transcript-active-cue-color);\n          background-color: var(--a11y-media-transcript-active-cue-bg-color);\n        }\n        #text {\n          display: table-cell;\n          width: 100%;\n          line-height: 200%;\n        }\n        :host([hide-timestamps]) #text {\n          display: inline;\n        }\n        #time {\n          display: table-cell;\n          font-size: 80%;\n          padding: 0 16px 0 0;\n          white-space: nowrap;\n          font-family: monospace;\n        }\n        :host([hide-timestamps]) #time {\n          display: none;\n        }\n        @media print {\n          :host,\n          :host([active]),\n          :host(:not([active]):not([disabled]):active),\n          :host(:not([active]):not([disabled]):focus),\n          :host(:not([active]):not([disabled]):hover) {\n            color: #000000;\n            background-color: #ffffff;\n          }\n        }\n      "]);return N=function(){return t},t}function D(){var t=S(['\n      <span id="time"> '," - ",' </span>\n      <span id="text">\n        <slot></slot>\n      </span>\n    ']);return D=function(){return t},t}window.customElements.define(q.tag,q);var Y=function(t){g(n,o.LitElement);var e=x(n);function n(){var t;return p(this,n),(t=e.call(this)).active=!1,t.disabled=!1,t.hideTimestamps=!1,t.start="",t.end="",t}return y(n,null,[{key:"properties",get:function(){return v(v({},T(k(n),"properties",this)),{},{active:{attribute:"active",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0},end:{type:String},hideTimestamps:{attribute:"hide-timestamps",type:Boolean,reflect:!0},start:{type:String}})}},{key:"tag",get:function(){return"a11y-media-transcript-cue"}}]),y(n,[{key:"render",value:function(){return o.html(D(),this.start,this.end)}},{key:"updated",value:function(t){var e=this;t.forEach(function(t,n){"active"===n&&e.active&&e.dispatchEvent(new CustomEvent("active-changed",{detail:{element:e,oldValue:t,value:e.active}}))})}}],[{key:"styles",get:function(){return[o.css(N())]}}]),n}();function F(){var t=S(["\n        iframe .ytp-pause-overlay {\n          display: none !important;\n        }\n      "]);return F=function(){return t},t}function H(){var t=S([" <slot></slot> "]);return H=function(){return t},t}window.customElements.define(Y.tag,Y);var V=function(t){g(n,o.LitElement);var e=x(n);function n(){var t;return p(this,n),(t=e.call(this)).autoplay=!1,t.height="100%",t.loop=!1,t.playbackRate=1,t.preload="metadata",t.muted=!1,t.volume=.7,t.width="100%",t.__video=null,t.__yt=null,t}return y(n,[{key:"render",value:function(){return o.html(H())}}],[{key:"tag",get:function(){return"a11y-media-youtube"}},{key:"styles",get:function(){return[o.css(F())]}},{key:"properties",get:function(){return v(v({},T(k(n),"properties",this)),{},{id:{type:String},autoplay:{type:Boolean},height:{type:String},loop:{type:Boolean},muted:{type:Boolean},preload:{type:String,attribute:"preload",reflect:!0},playbackRate:{type:Number},t:{type:Number,attribute:"t",reflect:!0},videoId:{type:String,attribute:"video-id",reflect:!0},volume:{type:Number},width:{type:String},__video:{type:Object},__yt:{type:Object}})}}]),y(n,[{key:"init",value:function(){window.A11yMediaYoutubeManager=window.A11yMediaYoutubeManager||{getIframes:function(){window.A11yMediaYoutubeManager.queue.forEach(function(t){return t.__yt=t._preloadVideo(!0)}),window.A11yMediaYoutubeManager.queue=[]},queue:[]},window.A11yMediaYoutubeManager.queue.push(this),window.A11yMediaYoutubeManager.api?window.YT&&window.A11yMediaYoutubeManager.getIframes():(window.onYouTubeIframeAPIReady=function(t){return window.A11yMediaYoutubeManager.getIframes()},window.A11yMediaYoutubeManager.api=this.api)}},{key:"updated",value:function(t){var e=this,n=!1,i=!1,a=!1;t.forEach(function(t,o){"muted"===o&&e.setMute(e.muted),"loop"===o&&e.setLoop(e.loop),"currentTime"===o&&e.seek(e.currentTime),"playbackRate"===o&&e.setPlaybackRate(e.playbackRate),"volume"===o&&e.setVolume(e.volume),"videoId"===o&&e.videoId&&!e.__yt&&e.init(),["id","height","width","preload"].includes(o)&&e.__yt&&(n=!0),["autoplay","videoId","__video"].includes(o)&&e.__video&&(i=!0),["preload","t"].includes(o)&&("auto"===e.preload||e.t)&&(a=!0)}),n?this.__yt=this._preloadVideo(!0):i&&(this._loadVideo(),a&&this._autoMetadata())}},{key:"play",value:function(){this.__yt||(this.__yt=this._preloadVideo(!1)),this.__yt&&this.__yt.playVideo&&this.__yt.playVideo()}},{key:"pause",value:function(){this.__yt&&this.__yt.pauseVideo&&this.__yt.pauseVideo()}},{key:"seek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.__yt&&this.__yt.seekTo&&this.__yt.seekTo(t,!0)}},{key:"setLoop",value:function(t){this.__yt&&this.__yt.setLoop&&this.media.setLoop(t)}},{key:"setMute",value:function(t){this.__yt&&(t&&this.__yt.mute?this.__yt.mute():this.__yt.unMute&&this.__yt.unMute())}},{key:"setPlaybackRate",value:function(t){this.__yt&&this.__yt.setPlaybackRate&&this.__yt.setPlaybackRate(t)}},{key:"setVolume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.7;this.__yt&&this.__yt.setVolume(100*t)}},{key:"_getSeconds",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).replace(/[hm]{1,2}&?/g,":0").replace(/[s]{1,2}$/g,"").split(/:/);return 3600*(t.length>2?parseInt(t[t.length-3]):0)+60*(t.length>1?parseInt(t[t.length-2]):0)+(t.length>0?parseFloat(t[t.length-1]):0)}},{key:"_handleMediaLoaded",value:function(t){this.dispatchEvent(new CustomEvent("loadedmetadata",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}},{key:"_handleTimeupdate",value:function(){this.dispatchEvent(new CustomEvent("timeupdate",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}},{key:"_autoMetadata",value:function(){var t=this,e=this.t||0,n=this.autoplay;this.setMute(!0),this.__yt.playVideo();var i=12e4,a=setInterval(function(){i--,(t.duration&&t.duration>0||i<=0)&&(t.pause(),t.setMute(t.muted),clearInterval(a),t.seek(e),n&&t.play())},1);this.seek(e)}},{key:"_loadVideo",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.preload;this.videoId&&this.__video.cueVideoById({videoId:this.videoId})}},{key:"_preloadVideo",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this,i=(!e||"none"!==this.preload)&&this.videoId&&!this.__video,a=document.createElement("div"),o="container-".concat(this.id),r=null;if(document.body.appendChild(a),a.setAttribute("id",o),i){var s=window.location.port?":".concat(window.location.port):"",l="//".concat(window.location.hostname).concat(s);(r=new YT.Player(o,{width:n.width,height:n.height,events:{onReady:function(e){return t.__video=e.target}},playerVars:{color:"white",controls:0,autoplay:n.autoplay,disablekb:1,enablejsapi:1,origin:l,iv_load_policy:3,modestbranding:1,rel:0,widget_referrer:window.location.href}})).timeupdate,r.addEventListener("onStateChange",function(){n.paused?clearInterval(r.timeupdate):r.timeupdate=setInterval(function(){return n._handleTimeupdate()},1)}),this.appendChild(r.getIframe()),a.remove()}return r}},{key:"_removeIframe",value:function(){if(this.__yt){this.__yt.remove;try{this.__yt.destroy()}catch(t){console.warn(t)}}this.innerHTML=""}},{key:"disconnectedCallback",value:function(){this._removeIframe(),T(k(n.prototype),"disconnectedCallback",this).call(this)}},{key:"api",get:function(){var t=window.document.getElementById("a11y-media-youtube-api");return t||((t=document.createElement("script")).setAttribute("id","a11y-media-youtube-api"),t.setAttribute("src","https://www.youtube.com/iframe_api"),t.setAttribute("type","text/javascript"),window.document.body.appendChild(t)),t}},{key:"buffered",get:function(){return this.__yt&&this.__yt.buffered&&this.__yt.buffered.length>0?this.__yt.buffered.end(0):-1}},{key:"currentTime",get:function(){return this.__yt&&this.__yt.getCurrentTime?this.__yt.getCurrentTime():void 0}},{key:"duration",get:function(){return this.__yt&&this.__yt.getDuration?this.__yt.getDuration():0}},{key:"paused",get:function(){return!this.__yt||!this.__yt.getPlayerState||1!==this.__yt.getPlayerState()}},{key:"seekable",get:function(){var t=this,e={length:0};return this.duration>0&&(e.length=1,e.start=function(t){return 0},e.end=function(e){return t.duration}),e}}]),n}();function U(){var t=S(["\n          ","/","\n        "]);return U=function(){return t},t}function K(){var t=S(['\n:host {\n  display: block;\n  overflow: hidden;\n  width: calc(100% - 2px);\n  font-family: var(--simple-fields-font-family,sans-serif);\n  --a11y-media-player-height: unset;\n  --a11y-media-color: var(--simple-colors-default-theme-grey-11, #111111);\n  --a11y-media-bg-color: var(--simple-colors-default-theme-grey-2, #eeeeee);\n  --a11y-media-border-color: var(--simple-colors-default-theme-grey-3, #dddddd);\n  --a11y-media-hover-color: var(--simple-colors-default-theme-grey-12, #000000);\n  --a11y-media-hover-bg-color: var(--simple-colors-default-theme-grey-2, #eeeeee);\n  --a11y-media-accent-color: var(--simple-colors-default-theme-accent-9, #333333);\n  --a11y-media-faded-accent-color: var(--simple-colors-default-theme-accent-8, #444444);\n  --a11y-media-disabled-color: var(--simple-colors-default-theme-grey-5, #bbbbbb);\n  border: 1px solid var(--a11y-media-border-color, var(--simple-colors-default-theme-grey-3));\n\n  \n  --a11y-media-settings-menu-color: var(--a11y-media-color);\n  --a11y-media-settings-menu-bg-color: var(--a11y-media-bg-color);\n  --a11y-media-settings-menu-hover-color: var(--a11y-media-hover-color);\n  --a11y-media-settings-menu-hover-bg-color: var(--a11y-media-hover-bg-color);\n  --simple-fields-accent-color: var(--a11y-media-accent-color);\n  --simple-fields-background-color: var(--a11y-media-bg-color);\n  --simple-fields-color: var(--a11y-media-color);\n  --simple-fields-border-color: var(--a11y-media-border-color);\n  --simple-fields-border-color-light: var(--a11y-media-border-color-light,var(--a11y-media-border-color));\n\n  \n  --a11y-media-button-color: var(--a11y-media-color);\n  --a11y-media-button-bg-color: var(--a11y-media-bg-color);\n  --a11y-media-button-hover-color: var(--a11y-media-accent-color);\n  --a11y-media-button-hover-bg-color: var(--a11y-media-hover-bg-color);\n  --a11y-media-button-disabled-color: var(--a11y-media-disabled-color);\n  --a11y-media-button-toggle-color: var(--a11y-media-faded-accent-color);\n\n  \n  --simple-range-input-bg: var(--a11y-media-accent-color);\n  --simple-range-input-color: var(--a11y-media-color);\n  --simple-range-input-track-height: 4px;\n  --simple-range-input-pin-height: 10px;\n\n  \n  --simple-toast-color: var(--a11y-media-color);\n  --simple-toast-background-color: var(--a11y-media-bg-color);\n  \n  \n  --a11y-media-transcript-color: var(--simple-colors-default-theme-grey-7, #666666);\n  --a11y-media-transcript-bg-color: var(--simple-colors-default-theme-grey-1, #ffffff);\n  --a11y-media-transcript-accent-color: var(--simple-colors-default-theme-accent-8, #444444);\n  --a11y-media-transcript-faded-accent-color: var(--simple-colors-default-theme-accent-10, #222222);\n  --a11y-media-transcript-cue-color: var(--simple-colors-fixed-theme-grey-12, #000000);\n  --a11y-media-transcript-cue-bg-color: var(--simple-colors-fixed-theme-grey-1, #ffffff);\n  --a11y-media-transcript-active-cue-color: var(--simple-colors-fixed-theme-grey-12, #000000);\n  --a11y-media-transcript-active-cue-bg-color: var(--simple-colors-fixed-theme-accent-1, #ffffff);\n  --a11y-media-transcript-focused-cue-color: var(--simple-colors-fixed-theme-grey-12, #000000);\n  --a11y-media-transcript-focused-cue-bg-color: var(--simple-colors-fixed-theme-grey-2, #eeeeee);\n  --a11y-media-transcript-match-color: var(--simple-colors-fixed-theme-grey-1, #ffffff);\n  --a11y-media-transcript-match-bg-color: var(--simple-colors-fixed-theme-accent-10, #222222);\n  --a11y-media-transcript-match-border-color: var(--simple-colors-fixed-theme-accent-12, #000000);\n}\n\n:host([dark]) {\n  border: 1px solid var(--simple-colors-default-theme-grey-1, #000000);\n}\n\n:host([dark-transcript]) {\n  --a11y-media-transcript-bg-color: var(--simple-colors-dark-theme-grey-1, #000000);\n  --a11y-media-transcript-cue-color: var(--simple-colors-dark-theme-grey-12, #ffffff);\n  --a11y-media-transcript-cue-bg-color: var(--simple-colors-dark-theme-grey-1, #000000);\n  --a11y-media-transcript-active-cue-color: var(--simple-colors-dark-theme-accent-10, #dddddd);\n  --a11y-media-transcript-active-cue-bg-color: var(--simple-colors-dark-theme-grey-1, #000000);\n  --a11y-media-transcript-match-color: var(--simple-colors-dark-theme-grey-1, #000000);\n  --a11y-media-transcript-match-bg-color: var(--simple-colors-dark-theme-accent-10, #dddddd);\n  --a11y-media-transcript-match-border-color: var(--simple-colors-dark-theme-accent-12, #ffffff);\n  --a11y-media-transcript-focused-cue-color: var(--simple-colors-dark-theme-grey-12, #ffffff);\n  --a11y-media-transcript-focused-cue-bg-color: var(--simple-colors-dark-theme-grey-2, #111111);\n}\n\n:host *::-webkit-scrollbar {\n  width: var(--a11y-media-scrollbar-width,5px);\n}\n\n:host([hidden]),\n*[hidden] {\n  display: none !important;\n}\n\n:host([height]) {\n  height: calc(var(--a11y-media-player-height) - 2px);\n  max-height: calc(var(--a11y-media-player-height) - 2px);\n  overflow: unset;\n}\n\n:host([height]) #player-section {\n  max-height: var(--a11y-media-player-height);\n}\n\n:host([height]) #player-and-controls {\n  max-height: calc(100% - 32px - 44px);\n}\n\n:host([height]) #player {\n  height: calc(100% - 32px - 44px);\n  padding-top: unset;\n}\n\n:host,\n#player-section {\n  color: var(--a11y-media-hover-color);\n  background-color: var(--a11y-media-bg-color);\n}\n\n:host > * {\n  transition: all 0.5s;\n}\n\n:host,\n#player-section,\n#player,\n#transcript-section,\n#transcript-and-controls {\n  display: flex;\n  flex-flow: column;\n  align-items: stretch;\n  align-content: stretch;\n} \n\n#captionlink:link {\n  text-decoration: none;\n}\n\n#player-and-controls,\n#player, \n#player > *,\n#cc-custom,\n#cc-text,\n#slider,\n#controls,\n#player-section,\n#transcript-section,\n#transcript-and-controls {\n  width: 100%;\n}\n\n#transcript-and-controls > * {\n  width: calc(100% - 1px);\n}\n\n:host > *,\n#player-and-controls,\n#player,\n#player > *,\n#cc-text {\n  flex: 1 1 auto;\n}\n\n#controls,\n#searchbar {\n  flex: 0 0 44px;\n}\n\n#player-and-controls {\n  margin: 0 auto;\n  display: flex;\n}\n\n#player {\n  height: 400px;\n  position: relative;\n  background-size: cover;\n  background-position: center;\n}\n\n#player > * {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n}\n\n#playbutton,\n#slider,\n#controls {\n  z-index: 2;\n}\n\n#html5 {\n  min-width: 100px;\n  display: flex;\n  align-items: stretch;\n}\n\n:host([audio-only]) #playbutton {\n  opacity: 0;\n}\n\n#slider {\n  flex: 0 0 32px;\n  height: 32px;\n  background-color: var(--a11y-media-bg-color);\n  --simple-range-input-pin-height: 15px;\n}\n\na11y-media-youtube {\n  opacity: 1;\n  transition: opacity 0.5s;\n}\n\na11y-media-youtube.hidden {\n  opacity: 0;\n}\n\n#cc-custom:not([hidden]) {\n  font-size: 20px;\n  transition: font-size 0.25s;\n  display: flex;\n}\n\n#cc-text {\n  align-self: flex-end;\n  font-family: sans-serif;\n  color: white;\n  margin: 4px 10px;\n  padding: 0.15em 4px;\n  background-color: black;\n  background-color: rgba(0, 0, 0, 0.8);\n  transition: all 0.5s;\n}\n\n#player-and-controls[audio-no-thumb] #cc-text {\n  align-self: center;\n  color: var(--a11y-media-color);\n  background-color: transparent;\n}\n\n#controls {\n  display: block;\n  width: 100%;\n  max-width: 100%;\n  height: 44px;\n  max-height: 44px;\n  position: relative;\n  color: var(--a11y-media-color);\n  background-color: var(--a11y-media-bg-color);\n  --primary-text-color: var(--a11y-media-settings-menu-color);\n}\n\n#controls-left {\n  position: absolute;\n  left: 0;\n  min-width: 200px;\n}\n\n#controls-right {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\nabsolute-position-behavior {\n  background-color: var(\n  --a11y-media-settings-menu-bg-color\n);\n  color: var(--a11y-media-settings-menu-color);\n  border: 1px solid var(--a11y-media-border-color, var(--simple-colors-default-theme-grey-3));\n  max-height: 200px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n\nabsolute-position-behavior::-webkit-scrollbar-track {\n  background-color: var(--a11y-media-settings-menu-bg-color);\n}\n\nabsolute-position-behavior::-webkit-scrollbar-thumb {\n  background-color: var(--a11y-media-settings-menu-color);\n}\n\nabsolute-position-behavior .setting {\n  min-height: 42px;\n  padding: 2px 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\nabsolute-position-behavior simple-field-field {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n  background-color: var(--a11y-media-settings-menu-bg-color);\n  color: var(--a11y-media-settings-menu-color);\n}\n\n.setting-text {\n  margin-right: 1em;\n  font-family: var(--a11y-media-controls-font-family);\n}\n\n.setting-control {\n  max-width: 110px;\n}\n\n.setting-slider {\n  flex: 0 0 110px;\n  margin-left: -15px;\n  margin-right: -15px;\n}\n\n#loop {\n  flex: 0 0 40px;\n}\n\n#loop-label {\n  flex: 1 1 auto;\n}\n\n.play-status {\n  border: none;\n  position: relative;\n  font-size: 85%;\n  font-family: var(--a11y-media-controls-font-family);\n}\n\n.play-status.control-bar {\n  padding: 8px 13px 8px;\n}\n\n:host([hide-play-status]) .play-status {\n  display: none;\n}\n\n#volume-and-mute {\n  display: inline-block;\n  position: relative;\n}\n\n#volume {\n  position: absolute;\n  left: 30px;\n  top: 0px;\n  width: 0;\n  height: 40px;\n  overflow: hidden;\n  transition: width 0.5s;\n  z-index: 3;\n  border-radius: 4px;\n  background-color: var(--a11y-media-bg-color);\n}\n\n#volume:active,\n#volume:focus,\n#volume:hover,\n#volume.focus,\n#volume-and-mute:active #volume,\n#volume-and-mute:focus #volume,\n#volume-and-mute:hover #volume {\n  overflow: visible;\n  width: 100px;\n}\n\n:host([responsive-size="xs"]) #volume:active,\n:host([responsive-size="xs"]) #volume:focus,\n:host([responsive-size="xs"]) #volume:hover,\n:host([responsive-size="xs"]) #volume.focus,\n:host([responsive-size="xs"]) #volume-and-mute:active #volume,\n:host([responsive-size="xs"]) #volume-and-mute:focus #volume,\n:host([responsive-size="xs"]) #volume-and-mute:hover #volume,\n:host([width]) #volume:active,\n:host([width]) #volume:focus,\n:host([width]) #volume:hover,\n:host([width]) #volume.focus,\n:host([width]) #volume-and-mute:active #volume,\n:host([width]) #volume-and-mute:focus #volume,\n:host([width]) #volume-and-mute:hover #volume {\n  top: 0px;\n}\n\n#print-thumbnail {\n  width: 100%;\n  margin: 0;\n  display: block;\n  border-top: 1px solid #aaaaaa;\n}\n\n.media-caption:not(:empty) {\n  width: calc(100% - 30px);\n  padding: 5px 15px;\n}\n\n.media-type {\n  font-style: italic;\n}\n\n#searchbar {\n  display: flex;\n  align-items: stretch;\n  justify-content: space-between;\n  height: 44px;\n  max-height: 44px;\n  min-height: 44px;\n  width: 100%;\n  color: var(--a11y-media-color);\n  background-color: var(--a11y-media-transcript-bg-color);\n  --simple-fields-color: var(--a11y-media-color);\n  --a11y-media-button-bg-color: var(--a11y-media-transcript-bg-color);\n  --a11y-media-button-hover-bg-color: var(--a11y-media-transcript-bg-color);\n  --simple-search-input-background-color: var(--a11y-media-transcript-bg-color);\n  --simple-search-input-text-color: var(--a11y-media-color);\n  --simple-search-input-line-color: var(--a11y-media-accent-color);\n  --simple-search-input-placeholder-color: var(\n  --a11y-media-color\n);\n  --simple-search-button-color: var(--a11y-media-accent-color);\n  --simple-search-button-hover-color: var(\n  --a11y-media-faded-accent-color\n);\n  --simple-search-button-bg-color: var(--a11y-media-transcript-bg-color);\n  --simple-search-button-border-color: var(--a11y-media-transcript-bg-color);\n  --simple-search-button-hover-border-color: var(--a11y-media-transcript-bg-color);\n  --simple-search-button-disabled-color: var(\n  --a11y-media-disabled-color\n);\n  --simple-search-button-disabled-bg-color: var(--a11y-media-transcript-bg-color);\n  --simple-search-button-disabled-border-color: var(\n  --a11y-media-border-color\n);\n  --simple-search-padding: 0 15px;\n}\n\n:host([dark]) #searchbar {\n  background-color: var(--a11y-media-bg-color);\n  --a11y-media-button-bg-color: var(--a11y-media-bg-color);\n  --a11y-media-button-hover-bg-color: var(--a11y-media-bg-color);\n  --simple-search-input-background-color: var(--a11y-media-bg-color);\n  --simple-search-button-bg-color: var(--a11y-media-bg-color);\n  --simple-search-button-border-color: var(--a11y-media-bg-color);\n  --simple-search-button-hover-border-color: var(--a11y-media-bg-color);\n  --simple-search-button-disabled-bg-color: var(--a11y-media-bg-color);\n}\n\n#searching {\n  flex-grow: 2;\n}\n\n#autoscroll {\n  padding-right: 8px;\n}\n\n#scrolling,\n#printing {\n  display: flex;\n  align-items: center;\n}\n\n#transcript-section {\n  padding: 0 1px 0 0;\n}\n\n#transcript-and-controls {\n  flex: 1 0 194px;\n}\n\n#transcript {\n  flex: 1 0 150px;\n  max-height: var(--a11y-media-transcript-max-height,unset);\n  overflow-y: scroll;\n  color: var(--a11y-media-transcript-cue-color);\n  background-color: var(--a11y-media-transcript-cue-bg-color);\n  border-left: 1px solid var(--a11y-media-transcript-bg-color);\n}\n\n#transcript::-webkit-scrollbar-track {\n  background-color: var(--a11y-media-transcript-cue-bg-color);\n}\n\n#transcript::-webkit-scrollbar-thumb {\n  background-color: var(--a11y-media-transcript-cue-color);\n}\n\n.transcript-from-track {\n  display: table;\n  width: calc(100% - 30px);\n  padding: 0 15px 15px;\n  color: var(--a11y-media-transcript-cue-color);\n  background-color: var(--a11y-media-transcript-cue-bg-color);\n  font-size: var(--a11y-media-transcript-cue-font-size, 14px);\n  line-height: var(--a11y-media-transcript-cue-line-height, 28px);\n}\n\n.transcript-from-track[hideTimestamps] {\n  display: block;\n}\n\n.sr-only {\n  position: absolute;\n  left: -9999px;\n  font-size: 0;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n}\n\nabsolute-position-behavior:not(:defined), \nsimple-tooltip:not(:defined) {\n  display: none;\n}\n\n::slotted(iframe) {\n  display: none; \n}\n@media screen {\n  :host([full-flex]) {\n    flex-flow: row;\n    padding: 0;\n  }\n\n  :host([full-flex]) #player-section {\n    max-width: 50%;\n    flex: 1 0 auto;\n  }\n\n  :host([full-flex]) #transcript-section {\n    min-width: 50%;\n    flex: 0 1 auto;\n  }\n\n  :host([full-flex]) #transcript {\n    position: absolute;\n    top: 44px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow-y: scroll;\n  }\n\n  #transcript-and-controls {\n    position: relative;\n  }\n\n  :host([sticky-mode]) #player-section {\n    position: fixed;\n    top: 5px;\n    right: 5px;\n    width: 200px;\n    max-width: 200px;\n    z-index: 999999;\n    border: 1px solid var(--a11y-media-bg-color);\n    box-shadow: 1px 1px 20px 1px rgba(125, 125, 125);\n    border-radius: 3.2px;\n  }\n\n  :host([fullscreen]) #player-section {\n    width: 100%;\n    height: 100vh;\n    max-width: 100vw;\n    position: absolute;\n    position: sticky;\n    left: 0;\n    top: 0;\n    z-index: 100000;\n    transition: all 0.5s;\n  }\n\n  :host([dark][sticky-mode]) #player-section {\n    border: 1px solid var(--a11y-media-bg-color);\n  }\n\n  :host([sticky][sticky-corner="top-left"]) #player-section {\n    right: unset;\n    left: 5px;\n  }\n\n  :host(:not([no-height]):not([stacked-layout]):not([responsive-size="xs"]):not([responsive-size="sm"]))\n  #player-and-controls.totop {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 200px !important;\n    z-index: 9999;\n  }\n\n  :host([sticky][sticky-corner="bottom-left"]) #player-and-controls {\n    top: unset;\n    right: unset;\n    bottom: 5px;\n  }\n\n  :host([sticky][sticky-corner="bottom-right"]) #player-and-controls {\n    top: unset;\n    bottom: 5px;\n  }\n\n  :host([sticky-mode]) .screen-only.media-caption,\n  :host([responsive-size="xs"]) .screen-only.media-caption {\n    display: none;\n  }\n\n  :host([sticky-mode]) #player-and-controls[audio-no-thumb] {\n    max-height: 0px;\n    overflow: hidden;\n  }\n\n  :host([sticky-mode]) .hide-sticky,\n  :host([sticky-mode]) .hide-full-xs,\n  :host([sticky-mode]) .hide-full-sm,\n  :host([sticky-mode]) .hide-flex,\n  :host([width]) .hide-full-xs,\n  :host([width]) .hide-full-sm,\n  :host([width]) .hide-full-flex,\n  :host([responsive-size="xs"]) .hide-full-xs,\n  :host([responsive-size="xs"]) .hide-full-sm,\n  :host([responsive-size="xs"]) .hide-full-flex,\n  :host([responsive-size="sm"]) .hide-full-sm,\n  :host([responsive-size="sm"]) .hide-full-flex,\n  :host([flex-layout]) .hide-flex {\n    display: none;\n  }\n\n  :host([responsive-size="xl"]) #cc-custom {\n    font-size: 16px;\n  }\n\n  :host([responsive-size="lg"]) #cc-custom,\n  :host([flex-layout][responsive-size="xl"]) #cc-custom {\n    font-size: 14px;\n  }\n\n  :host([responsive-size="md"]) #cc-custom,\n  :host([flex-layout][responsive-size="lg"]) #cc-custom {\n    font-size: 12px;\n  }\n\n  :host([responsive-size="xs"]) #cc-custom,\n  :host([width]) #cc-custom,\n  :host([flex-layout][responsive-size="md"]) #cc-custom,\n  :host([flex-layout][responsive-size="sm"]) #cc-custom {\n    font-size: 10px;\n  }\n\n  :host([sticky-mode]) #cc-custom,\n  :host([flex-layout][width]) #cc-custom,\n  :host([flex-layout][responsive-size="xs"]) #cc-custom {\n    display: none;\n  }\n\n  .media-caption {\n    color: var(--a11y-media-bg-color);\n    background-color: var(--a11y-media-accent-color);\n  }\n\n  #audio-only {\n    text-align: center;\n    font-style: italic;\n    width: 100%;\n    line-height: 160%;\n  }\n\n  #print-thumbnail,\n  .print-only {\n    width: 0;\n    display: none;\n  }\n}\n\n@media print {\n  :host,\n  :host([dark]) {\n    outline: 1px solid #aaaaaa;\n    background-color: #ffffff;\n  }\n\n  .screen-only,\n  #searchbar,\n  #print-thumbnail:not([src]),\n  :host(:not([thumbnail-src])) #player {\n    display: none;\n  }\n\n  .media-caption {\n    background-color: #cccccc;\n    color: #000000;\n    font-size: 120%;\n  }\n\n  #transcript {\n    padding: 0 15px 5px;\n    color: #000;\n    background-color: #ffffff;\n    border-top: 1px solid #aaa;\n  }\n}\n      ']);return K=function(){return t},t}function $(){var t=S(['\n        <div id="loading"\n          class="transcript-from-track">\n          ',"\n        </div>"]);return $=function(){return t},t}function W(){var t=S(['\n            <a11y-media-transcript-cue\n              controls="html5"\n              end="','"\n              lang="','"\n              role="button"\n              start="','"\n              tabindex="0"\n              @click="','"\n              @active-changed="','"\n              ?active="','"\n              ?disabled="','"\n              ?hide-timestamps="','">\n              <span class="searchable">',"</span>\n            </a11y-media-transcript-cue>\n          "]);return W=function(){return t},t}function Z(){var t=S(['\n        <div class="transcript-from-track">\n          ',"\n        </div>\n      "]);return Z=function(){return t},t}function G(){var t=S(['<img id="print-thumbnail" aria-hidden="true" .src="','" />']);return G=function(){return t},t}function J(){var t=S(["",""]);return J=function(){return t},t}function Q(){var t=S(['\n        <div id="cc-custom" \n          aria-live="polite"\n          class="screen-only">\n            <div id="cc-text">\n              ',"\n            </div>\n        </div>\n        "]);return Q=function(){return t},t}function X(){var t=S([""]);return X=function(){return t},t}function tt(){var t=S(['\n        <a11y-media-youtube\n          id="youtube-','"\n          class="','" \n          lang="','"\n          preload="','"\n          .t="','"\n          video-id="','"\n          @timeupdate="','"\n          ?hidden=',">\n        </a11y-media-youtube>\n        "]);return tt=function(){return t},t}function et(){var t=S([""]);return et=function(){return t},t}function nt(){var t=S(['\n\n<div class="sr-only" ?hidden="','">\n  ','\n</div>\n<div id="player-section">\n  <div id="player-and-controls" .style="','" ?audio-no-thumb="','">\n    <div id="player" .style="','">\n      <a11y-media-play-button\n        id="playbutton"\n        action="','"\n        label="','"\n        @button-click="','"\n        ?audio-only="','"\n        ?disabled="','"\n        youtube-id="','">\n      </a11y-media-play-button>\n      <div id="html5">\n        <slot></slot>\n      </div>\n      ',"\n      ",'\n    </div>\n  </div>\n  <div id="progresslabel" class="sr-only">','</div>\n  <simple-range-input id="slider"\n    class="screen-only"\n    aria-labelledby="progresslabel"\n    min="0"\n    .max="','"\n    step="1"\n    @value-changed="','"\n    @immediate-value-changed="','"\n    .value="','"\n    ?disabled="','"\n  >\n  </simple-range-input>\n  <div id="controls" controls="innerplayer">\n    <div id="controls-left">\n      <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n        icon="','"\n        label="','"\n        @click="','"\n      ></a11y-media-button>\n      <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n        class="hide-flex"\n        icon="','"\n        label="','"\n        ?disabled="','"\n        ?hidden="','"\n        @click="','"\n      ></a11y-media-button>\n      <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n        class="hide-flex"\n        icon="','"\n        label="','"\n        ?disabled="','"\n        ?hidden="','"\n        @click="','"\n      ></a11y-media-button>\n      <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n        class="hide-flex"\n        icon="','"\n        label="','"\n        ?disabled="','"\n        ?hidden="','"\n        @click="','"\n      ></a11y-media-button>\n      <div id="volume-and-mute"\n          @focus="','"\n          @blur="','">\n        <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n          id="mute"\n          icon="','"\n          label="','"\n          @click="','"\n        ></a11y-media-button>\n        <simple-range-input\n          id="volume"\n          accent-color="','"\n          ?dark="','"\n          aria-labelledby="volume-slider-label"\n          label="','"\n          min="0"\n          max="100"\n          pin\n          step="10"\n          value="','"\n          @value-changed="','" \n          ?hidden="','"\n        ></simple-range-input>\n      </div>\n      <span aria-live="polite" class="play-status control-bar hide-full-xs">\n        <span id="statbar">','</span>\n      </span>\n    </div>\n    <div id="controls-right">\n      <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n        class="hide-full-xs"\n        icon="','"\n        label="','"\n        ?disabled="','"\n        ?hidden="','"\n        ?toggle="','"\n        @click="','"\n      >\n      </a11y-media-button>\n      <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n        class="hide-full-xs"\n        controls="transcript"\n        icon="','"\n        label="','"\n        ?disabled="','"\n        ?hidden="','"\n        ?toggle="','"\n        @click="','"\n      >\n      </a11y-media-button>\n      <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n        class="hide-full-sm"\n        icon="','"\n        label="','"\n        ?disabled="','"\n        ?hidden="','"\n        @click="','"\n      ></a11y-media-button>\n      <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n        class="hide-full-xs"\n        icon="','"\n        label="','"\n        ?hidden="','"\n        ?toggle="','"\n        @click="','"\n      >\n      </a11y-media-button>\n      <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n        id="settings-button"\n        class="hide-sticky"\n        controls="settings"\n        icon="','"\n        label="','"\n        @click="','"\n      ></a11y-media-button>\n    </div>\n    <absolute-position-behavior \n      id="settings" \n      auto\n      fit-to-visible-bounds\n      for="settings-button"\n      offset="10"\n      position-align="end"\n      position="top"\n      ?hidden="','">\n      <div class="setting" ?hidden="','">                      \n        <div class="setting-text">\n          ','\n        </div>\n        <simple-fields-field\n          id="cc_tracks"\n          class="setting-control"\n          value="','"\n          .options="','"\n          ?hidden="','"\n          ?disabled="','"\n          @value-changed="','}"\n          type="select"\n        >\n        </simple-fields-field>\n      </div>\n      <div class="setting" ?hidden="','">                      \n        <div class="setting-text">\n          ','\n        </div>\n        <simple-fields-field\n          id="transcript_tracks"\n          class="setting-control"\n          .value="','"\n          .options="','"\n          ?hidden="','"\n          ?disabled="','"\n          @value-changed="','"\n          type="select"\n        >\n        </simple-fields-field>\n      </div>\n      <div class="setting" ?hidden="','">                      \n        <div id="print-label" class="setting-text">\n          ','\n        </div>\n        <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n          aria-labelledby="print-label"\n          class="setting-control"\n          icon="','"\n          ?disabled="','"\n          ?hidden="','"\n          @click="','"\n        >\n        </a11y-media-button>\n      </div>\n      <div class="setting" ?hidden="','">        \n        <div id="download-label" class="setting-text">\n          ','\n        </div>\n        <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n          aria-labelledby="download-label"\n          class="setting-control"\n          icon="','"\n          ?disabled="','"\n          ?hidden="','"\n          @click="','"\n        >\n        </a11y-media-button>\n      </div>\n      <div class="setting">                      \n        <div id="loop-label" class="setting-text">\n          ','\n        </div>\n        <simple-fields-field\n          type="checkbox"\n          id="loop"\n          class="setting-control"\n          aria-labelledby="loop-label"\n          @value-change="','"\n          ?value="','">\n        </simple-fields-field>\n      </div>\n      <div class="setting">                      \n        <div id="speed-label" class="setting-text">\n          ','\n        </div>\n        <simple-range-input\n          id="speed"\n          aria-labelledby="speed-label"\n          class="setting-slider setting-control"\n          min="0.5"\n          max="2.5"\n          pin\n          step="0.25"\n          value="','"\n          @value-changed="','">\n        </simple-range-input>\n      </div>\n    </absolute-position-behavior>\n  </div>\n  <div aria-hidden="true"\n    class="screen-only media-caption"\n    ?hidden="','">\n    ','\n  </div>\n  <div class="print-only media-caption">',"</div>\n</div>\n",'\n<div id="transcript-section" \n  ?hidden="','">\n  <div id="transcript-and-controls" ?hidden="','">\n    <div id="searchbar">\n      <div id="searching">\n        <simple-search\n          id="simplesearch"\n          controls="transcript"\n          next-button-icon="','"\n          next-button-label="','"\n          prev-button-icon="','"\n          prev-button-label="','"\n          search-input-icon="','"\n          search-input-label="','"\n          selector=".searchable"\n          ?disabled="','"\n          ?hidden="','"\n        >\n        </simple-search>\n      </div>\n      <div id="scrolling">\n        <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n          id="scroll"\n          controls="transcript"\n          icon="','"\n          label="','"\n          ?toggle="','"\n          @click="','">\n        </a11y-media-button>\n      </div>\n      <div id="printing"\n        ?hidden="','"\n        ?disabled="','">\n        <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n          id="download"\n          controls="transcript"\n          icon="','"\n          label="','"\n          @click="','">\n        </a11y-media-button>\n        <a11y-media-button\n          accent-color="','"\n          ?dark="','"\n          id="print"\n          controls="transcript"\n          icon="','"\n          label="','"\n          @click="','">\n        </a11y-media-button>\n      </div>\n    </div>\n    <div id="transcript" aria-live="polite">\n      <a id="transcript-desc" class="sr-only" href="#bottom">\n        ',"\n      </a>\n      ",'\n    </div>\n  </div>\n</div>\n<div id="bottom" class="sr-only"></div>']);return nt=function(){return t},t}window.customElements.define(V.tag,V);var it=function(t){g(n,l.FullscreenBehaviors(r.SimpleColors));var e=x(n);function n(){var t;return p(this,n),(t=e.call(this)).audioOnly=!1,t.autoplay=!1,t.allowConcurrent=!1,t.cc=!1,t.darkTranscript=!1,t.disableFullscreen=!1,t.disableInteractive=!1,t.disablePrintButton=!1,t.disableSearch=!1,t.disableScroll=!1,t.disableSeek=!1,t.hideElapsedTime=!1,t.hideTimestamps=!1,t.hideTranscript=!1,t.id=null,t.lang="en",t.linkable=!1,t.localization={},t.loop=!1,t.mediaTitle="",t.mediaLang="en",t.muted=!1,t.preload="metadata",t.playbackRate=1,t.search=null,t.standAlone=!1,t.responsiveSize="sm",t.captionsTrack=null,t.transcriptTrack=null,t.sources=[],t.stackedLayout=!1,t.sticky=!1,t.stickyCorner="top-right",t.tracks=[],t.volume=70,t.width=null,t.youtubeId=null,t.__cues=[],t.__currentTime=0,t.__captionsOption=-1,t.__loadedTracks=null,t.__playing=!1,t.__settingsOpen=!1,t.__transcriptOption=-1,t.querySelectorAll("video,audio").forEach(function(e){e.addEventListener("loadedmetadata",function(n){t.__preloadedDuration=e.duration})}),setTimeout(function(){},0),t}return y(n,[{key:"render",value:function(){var t=this;return o.html(nt(),!this.mediaCaption,this.mediaCaption,this.mediaMaxWidth,this.audioNoThumb,this.playerStyle,this.__playing?"pause":"play",this._getLocal(this.localization,this.__playing?"pause":"play","label"),function(e){return t.togglePlay()},this.audioOnly,this.audioNoThumb,this.youtubeId,this.videoId?o.html(tt(),this.id,this.__currentTime>.3||this.__seeking?"":"hidden",this.mediaLang,this.t?"auto":this.preload,this.t,this.videoId,this._handleTimeUpdate,!this.isYoutube):o.html(et()),0!==Object.keys(this.captionCues||[]).length&&this.showCustomCaptions?o.html(Q(),this.captionCues?Object.keys(this.captionCues).map(function(e){return o.html(J(),t.captionCues[e].text?t.captionCues[e].text:"")}):""):o.html(X()),this._getLocal(this.localization,"seekSlider","label"),this.duration,this._handleSliderChanged,this._handleSliderDragging,this.__currentTime,this.disableSeek||0===this.duration,this.accentColor,this.dark,this._getLocal(this.localization,this.__playing?"pause":"play","icon"),this._getLocal(this.localization,this.__playing?"pause":"play","label"),function(e){return t.togglePlay()},this.accentColor,this.dark,this._getLocal(this.localization,"rewind","icon"),this._getLocal(this.localization,"rewind","label"),this.disableSeek||this.currentTime<=0,this.disableSeek,function(e){return t.rewind()},this.accentColor,this.dark,this._getLocal(this.localization,"forward","icon"),this._getLocal(this.localization,"forward","label"),this.disableSeek||this.currentTime>=this.duration,this.disableSeek,function(e){return t.forward()},this.accentColor,this.dark,this._getLocal(this.localization,"restart","icon"),this._getLocal(this.localization,"restart","label"),this.disableSeek,"xs"===this.responsiveSize||"sm"===this.responsiveSize||this.disableSeek,function(e){return t.restart()},function(e){return t.__volumeSlider=!0},function(e){return t.__volumeSlider=!1},this.accentColor,this.dark,this._getLocal(this.localization,this.muted?"unmute":"mute","icon"),this._getLocal(this.localization,this.muted?"unmute":"mute","label"),function(e){return t.toggleMute()},this.accentColor,this.dark,this._getLocal(this.localization,"volume","label"),this.muted?0:this.volume,this._handleVolumeChanged,"xs"===this.responsiveSize,this.status,this.accentColor,this.dark,this._getLocal(this.localization,"captions","icon"),this._getLocal(this.localization,"captions","label"),!this.hasCaptions,!this.hasCaptions,this.captionsTrackKey>-1,function(e){return t.toggleCC()},this.accentColor,this.dark,this._getLocal(this.localization,"transcript","icon"),this._getLocal(this.localization,"transcript","label"),!this.hasCaptions,!this.hasCaptions||this.standAlone||this.height&&this.responsiveSize.indexOf("s")>-1||this.linkable&&"md"===this.responsiveSize,this.transcriptTrackKey>-1,function(e){return t.toggleTranscript()},this.accentColor,this.dark,this._getLocal(this.localization,"copyLink","icon"),this._getLocal(this.localization,"copyLink","label"),!this.linkable,!this.linkable,this._handleCopyLink,this.accentColor,this.dark,this._getLocal(this.localization,"fullscreen","icon"),this._getLocal(this.localization,"fullscreen","label"),this.audioNoThumb||!this.fullscreenButton,this.fullscreen,function(e){return t.toggleFullscreen()},this.accentColor,this.dark,this._getLocal(this.localization,"settings","icon"),this._getLocal(this.localization,"settings","label"),function(e){return t.toggleSettings()},!this.__settingsOpen,!this.hasCaptions,this._getLocal(this.localization,"captions","label"),this.captionsTrackKey,this.captionsPicker,!this.hasCaptions,!this.hasCaptions,function(e){return t.selectCaptionByKey(e.detail.value)},!this.hasCaptions,this._getLocal(this.localization,"transcript","label"),this.transcriptTrackKey,this.transcriptPicker,!this.hasCaptions,!this.hasCaptions,function(e){return t.selectTranscriptByKey(e.detail.value)},!this.hasCaptions,this._getLocal(this.localization,"print","label"),this.accentColor,this.dark,this._getLocal(this.localization,"print","icon"),this.noPrinting,this.noPrinting,this.print,!this.hasCaptions,this._getLocal(this.localization,"download","label"),this.accentColor,this.dark,this._getLocal(this.localization,"download","icon"),this.noPrinting,this.noPrinting,this.download,this._getLocal(this.localization,"loop","label"),function(e){return t.toggleLoop()},this.loop,this._getLocal(this.localization,"speed","label"),this.playbackRate,this._handleSpeedChanged,!this.mediaCaption,this.mediaCaption,this.printCaption,this.poster?o.html(G(),this.poster):"",this.standAlone||!this.hasCaptions,this.hideTranscript,this._getLocal(this.localization,"nextResult","icon"),this._getLocal(this.localization,"nextResult","label"),this._getLocal(this.localization,"prevResult","icon"),this._getLocal(this.localization,"prevResult","label"),this._getLocal(this.localization,"search","icon"),this._getLocal(this.localization,"search","label"),this.disableSearch,this.disableSearch,this.accentColor,this.dark,this._getLocal(this.localization,"autoScroll","icon"),this._getLocal(this.localization,"autoScroll","label"),!this.disableScroll,function(e){return t.disableScroll=!t.disableScroll},this.disablePrintButton,this.disablePrintButton,this.accentColor,this.dark,this._getLocal(this.localization,"download","icon"),this._getLocal(this.localization,"download","label"),this.download,this.accentColor,this.dark,this._getLocal(this.localization,"print","icon"),this._getLocal(this.localization,"print","label"),this.print,this._getLocal(this.localization,"transcript","skip"),this.transcriptCues.length>0?o.html(Z(),this.transcriptCues.map(function(e,n){return o.html(W(),t._getHHMMSS(e.endTime,t.media.duration),e.track.language,t._getHHMMSS(e.endTime,t.media.duration),function(n){return t._handleCueSeek(e)},t._setActiveCue,e.track.activeCues&&e.track.activeCues[0]===e,t.disableInteractive||t.disableSeek||0===t.duration,t.hideTimestamps,e.text)})):o.html($(),this.status))}}],[{key:"styles",get:function(){return[].concat(C(T(k(n),"styles",this)),[o.css(K())])}},{key:"properties",get:function(){return v(v({},T(k(n),"properties",this)),{},{allowConcurrent:{attribute:"allow-concurrent",type:Boolean},audioOnly:{attribute:"audio-only",type:Boolean,reflect:!0},autoplay:{attribute:"autoplay",type:Boolean},captionsTrack:{attribute:"captions-track",type:Object},cc:{attribute:"cc",type:Boolean},currentTime:{type:Number},crossorigin:{attribute:"crossorigin",type:String},disablePrintButton:{attribute:"disable-print-button",type:Boolean},disableSearch:{attribute:"disable-search",type:Boolean},disableScroll:{attribute:"disable-scroll",type:Boolean},disableSeek:{attribute:"disable-seek",type:Boolean},darkTranscript:{attribute:"dark-transcript",type:Boolean},disableFullscreen:{attribute:"disable-fullscreen",type:Boolean},disableInteractive:{attribute:"disable-interactive",type:Boolean},height:{attribute:"height",type:String},hideElapsedTime:{attribute:"hide-elapsed-time",type:Boolean},hideTimestamps:{attribute:"hide-timestamps",type:Boolean},hideTranscript:{attribute:"hide-transcript",type:Boolean,reflect:!0},id:{attribute:"id",type:String,reflect:!0},lang:{attribute:"lang",type:String},linkable:{attribute:"linkable",type:Boolean},localization:{attribute:"localization",type:Object},loop:{attribute:"loop",type:Boolean},mediaLang:{attribute:"media-lang",type:String},mediaTitle:{attribute:"media-title",type:String},muted:{attribute:"muted",type:Boolean},playbackRate:{attribute:"playback-rate",type:Number},preload:{attribute:"preload",type:String,reflect:!0},responsiveSize:{attribute:"responsive-size",type:String,reflect:!0},search:{attribute:"search",type:Object},standAlone:{attribute:"stand-alone",type:Boolean,reflect:!0},sources:{attribute:"sources",type:Array},stackedLayout:{attribute:"stacked-layout",type:Boolean},sticky:{attribute:"sticky",type:Boolean,reflect:!0},stickyCorner:{attribute:"sticky-corner",type:String,reflect:!0},thumbnailSrc:{attribute:"thumbnail-src",type:String,reflect:!0},tracks:{attribute:"tracks",type:Array},transcriptTrack:{attribute:"transcript-track",type:Object},volume:{attribute:"volume",type:Number},width:{attribute:"width",type:String},youtubeId:{attribute:"youtube-id",reflect:!0,type:String},__currentTime:{type:Number},__captionsOption:{type:Number},__cues:{type:Array},__loadedTracks:{type:Object},__playing:{type:Boolean},__preloadedDuration:{type:Number},__settingsOpen:{type:Boolean},__transcriptOption:{type:Number}})}},{key:"tag",get:function(){return"a11y-media-player"}}]),y(n,[{key:"connectedCallback",value:function(){var t=this;T(k(n.prototype),"connectedCallback",this).call(this),this.__loadedTracks=this.getloadedTracks(),this._handleMediaLoaded(),this.__loadedTracks.addEventListener("loadedmetadata",function(e){return t._handleMediaLoaded(e)}),this.__loadedTracks.addEventListener("timeupdate",function(e){return t._handleTimeUpdate(e)}),this.__playerReady=!0}},{key:"_setAttribute",value:function(t,e){e?this.setAttribute(t,e):this.removeAttribute(t)}},{key:"updated",value:function(t){var e=this;t.forEach(function(t,n){var i=function(t){return t.includes(n)},a=function(t){return i(["__loadedTracks","youtubeId","media",t])},o=i(["standAlone","hideTranscript","audioNoThumb","stackedLayout","__cues"]),r=e.media?e.media:e.__loadedTracks;"id"===n&&null===e.id&&(e.id="a11y-media-player"+Date.now()),i(["media","muted"])&&e._handleMuteChanged(),i(["media","volume"])&&e.setVolume(e.volume),i(["media","autoplay"])&&e.autoplay&&e.play(),"__captionsOption"===n&&e._captionsOptionChanged(),i(["cc","captionsTrack"])&&e._captionsChanged(),o&&e._setAttribute("flex-layout",e.flexLayout),(o||"responsiveSize"===n)&&e._setAttribute("full-flex",e.fullFlex),i(["sticky","sticky-corner","__playing"])&&e._setAttribute("sticky-mode",e.stickyMode&&e.__playing),i(["height"])&&(e.style.setProperty("--a11y-media-player-height",e.height?e.height:"unset"),e.style.setProperty("--a11y-media-transcript-max-height",e.height?"146px":"unset")),null!==e.media&&(a("cc")&&e._setAttribute("cc",e.cc,e.__loadedTracks),a("isYoutube")&&e.__loadedTracks&&(e.__loadedTracks.hidden,e.isYoutube),a("mediaLang")&&e._setAttribute("lang",e.mediaLang,r),a("loop")&&e._setAttribute("loop",e.loop,r),a("playbackRate")&&e._setAttribute("playbackRate",e.playbackRate,r),a("isYoutube")&&e._setAttribute("poster",!e.isYoutube&&e.thumbnailSrc,e.__loadedTracks),!i(["isYoutube","poster","media","audioOnly"])||!e.poster||e.isYoutube||e.audioOnly||e.media.poster||(e.media.poster=e.poster)),e.dispatchEvent(new CustomEvent("".concat(n.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),"-changed"),{detail:{value:e[n]}}))})}},{key:"_captionsChanged",value:function(){var t=this,e=-1;Object.keys(this.loadedTracks.textTracks).forEach(function(n){var i=t.cc&&t.loadedTracks.textTracks[n]===t.captionsTrack;t.loadedTracks.textTracks[n].mode=i?"showing":"hidden",i&&(e=n)}),this.__captionsOption=e}},{key:"_captionsOptionChanged",value:function(){var t=this;this.cc=this.__captionsOption>-1,Object.keys(this.loadedTracks.textTracks).forEach(function(e){var n=parseInt(e)==parseInt(t.__captionsOption);t.loadedTracks.textTracks[e].mode=n?"showing":"hidden",n&&(t.captionsTrack=t.loadedTracks.textTracks[e])})}},{key:"_handleMuteChanged",value:function(){this.media.muted=this.muted,window.dispatchEvent(new CustomEvent("mute-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"download",value:function(){var t=this,e=document.createElement("a"),n=this.mediaTitle&&""!=this.mediaTitle.trim()?"".concat(this.mediaTitle," (").concat(this._getLocal(this.localization,"transcript","label"),")"):this._getLocal(this.localization,"transcript","label"),i=n.replace(/[^\w\d]/g,""),a=this.transcriptTrack.cues,o=Object.keys(a).map(function(e){return"".concat(t._getHHMMSS(a[e].startTime)," - ").concat(t._getHHMMSS(a[e].endTime),": \t").concat(a[e].text.replace(/[\n\r\s*]/g," "),"\n")}).join("");e.setAttribute("href","data:text/plain;charset=UTF-8,"+encodeURIComponent(n+"\n"+o)),e.setAttribute("download",i+".txt"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),this.dispatchEvent(new CustomEvent("transcript-downloaded",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"print",value:function(){var t=this,e=this.transcriptTrack.cues,n=this.mediaTitle&&""!=this.mediaTitle.trim()?"".concat(this.mediaTitle," (").concat(this._getLocal(this.localization,"transcript","label"),")"):this._getLocal(this.localization,"transcript","label"),i=window.open("","","left=0,top=0,width=552,height=477,toolbar=0,scrollbars=0,status =0");i.document.body.innerHTML="\n    <h1>".concat(n,"</h1>\n    ").concat(Object.keys(e).map(function(n){return'<div style="display: table-row;">\n        '.concat(t.hideTimestamps?"":'\n            <span style="display: table-cell;\n              font-size: 80%;\n              padding: 0 16px;\n              white-space: nowrap;\n              font-family: monospace;">\n              '.concat(t._getHHMMSS(e[n].startTime)," - \n              ").concat(t._getHHMMSS(e[n].endTime),":\n            </span>"),'\n        <span style="display: table-cell; line-height: 200%;">\n          ').concat(e[n].text,"\n        </span>\n      </div>")}).join(""),"\n    "),i.document.close(),i.focus(),i.print(),i.close(),this.dispatchEvent(new CustomEvent("transcript-printed",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"play",value:function(){this.__playing=!0,this.media&&this.media.play&&this.media.play(),window.dispatchEvent(new CustomEvent("play",{bubbles:!0,composed:!0,cancelable:!1,detail:this})),window.dispatchEvent(new CustomEvent("a11y-player-playing",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"pause",value:function(){this.__playing=!1,this.media&&this.media.pause&&this.media.pause(),window.dispatchEvent(new CustomEvent("pause",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"stop",value:function(){this.pause(),this.seek(0),window.dispatchEvent(new CustomEvent("stop",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"restart",value:function(){this.seek(0),this.play(),window.dispatchEvent(new CustomEvent("restart",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"rewind",value:function(t){t=void 0!==t?t:this.duration/20,this.seek(this.currentTime-t,0),window.dispatchEvent(new CustomEvent("backward",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"forward",value:function(t){t=void 0!==t?t:this.duration/20,this.seek(this.currentTime+t),window.dispatchEvent(new CustomEvent("forward",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"seek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.mediaSeekable&&(this.media.seek(Math.max(0,Math.min(t,this.duration))),this._handleTimeUpdate(),window.dispatchEvent(new CustomEvent("seek",{bubbles:!0,composed:!0,cancelable:!1,detail:this})))}},{key:"selectCaptionByKey",value:function(t){(t=parseInt(t))>-1&&(this.captionsTrack=this.loadedTracks.textTracks[t]),this.cc=t>-1}},{key:"selectTranscriptByKey",value:function(t){(t=parseInt(t))>-1&&(this.transcriptTrack=this.loadedTracks.textTracks[t]),this.hideTranscript=t<0}},{key:"getloadedTracks",value:function(){var t=this,e=this.querySelector("audio,video"),n=e?e.getAttribute("crossorigin"):void 0,i=null,a=this.source&&!this.source&&this.source.match(/webm|ogv|mov|mp4$/),o=(this.sources||[]).filter(function(t){return"".concat(t.type||"").concat(t.kind||"").match(/video|mp4|webm|ogv/)}).length>0,r=this.isYoutube||a||o;if(e&&(n||e.setAttribute("crossorigin",this.crossorigin),e.removeAttribute("autoplay"),e.removeAttribute("controls"),e.setAttribute("preload","metadata")),!this.youtubeId){var s=!(!this.querySelector("iframe")||!this.querySelector("iframe"))&&this.querySelector("iframe").src;!!s&&(s.match(/youtube(-\w*)*.com/)||s.src.match(/youtu.be/))&&s&&(this.youtubeId=s.replace(/.*\//g,""),r=!0,this.querySelector("iframe").remove())}return e?i=e:(i=document.createElement(this.querySelectorAll('source[type*="audio"]').length>0||!r?"audio":"video"),n||i.setAttribute("crossorigin",this.crossorigin),i.setAttribute("preload","metadata"),this.querySelectorAll("source,track").forEach(function(e){e.parentNode===t&&i.appendChild(e)}),this.appendChild(i)),this.audioOnly="AUDIO"===i.tagName,i.style.width="100%",i.style.maxWidth="100%",(this.tracks||[]).forEach(function(t){var e=document.createElement("track");Object.keys(t).forEach(function(n){return e.setAttribute(n,t[n])}),i.appendChild(e)}),(this.sources||[]).forEach(function(t){var e=document.createElement("source");Object.keys(t).forEach(function(n){return e.setAttribute(n,t[n])}),i.appendChild(e)}),i.seek=function(t){return i.currentTime=t},this._addSourcesAndTracks(i,i),i}},{key:"_getTrack",value:function(t){if(!t){var e=this.loadedTracks.textTracks.filter(function(t){return!0===t.default});return e?e[0].track:this.loadedTracks.textTracks[0].track}return t}},{key:"selectTranscript",value:function(t){this.transcriptTrack=this._getTrack(t)}},{key:"setPlaybackRate",value:function(t){t=null!==t?t:1,this.media.playbackRate=null!==t?t:1,window.dispatchEvent(new CustomEvent("playback-rate-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"setVolume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:70;this.volume=Math.max(0,Math.min(t,100)),this.media.volume=t/100,window.dispatchEvent(new CustomEvent("volume-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"toggleCC",value:function(t){this.cc="undefined"===h(t)?!this.cc:t,window.dispatchEvent(new CustomEvent("cc-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"toggleFullscreen",value:function(t){T(k(n.prototype),"toggleFullscreen",this).call(this,t),window.dispatchEvent(new CustomEvent("fullscreen-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"toggleLoop",value:function(t){this.loop=void 0===t?!this.loop:t,this.media.loop=!0===t,window.dispatchEvent(new CustomEvent("loop-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"togglePlay",value:function(){this.__playing?this.pause():this.play(),window.dispatchEvent(new CustomEvent("play-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"toggleMute",value:function(t){this.muted="undefined"===h(t)?!this.muted:t,window.dispatchEvent(new CustomEvent("muted-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"toggleSettings",value:function(t){t=void 0===t?!this.__settingsOpen:t,this.__settingsOpen=t,this.dispatchEvent(new CustomEvent("settings-toggled",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"toggleSticky",value:function(t){t=void 0===t?!this.sticky:t,this.sticky=t,this.dispatchEvent(new CustomEvent("player-sticky",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"toggleTranscript",value:function(t){t=void 0===t?this.hideTranscript:t,this.hideTranscript=!t,this.dispatchEvent(new CustomEvent("transcript-toggle",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"_addSourcesAndTracks",value:function(t){var e=this;t.style.width="100%",t.style.maxWidth="100%",Object.keys(t.textTracks).forEach(function(n){return e._onAddTrack(t.textTracks[n])}),t.textTracks.onremovetrack=function(t){return e._onRemoveTrack(t.track)},t.textTracks.onaddtrack=function(t){return e._onAddTrack(t.track)};var n=t.querySelector("track[default]")?t.querySelector("track[default]"):t.querySelector("track"),i=Object.keys(t.textTracks).find(function(e){return n.label===t.textTracks[e].label&&n.kind===t.textTracks[e].kind&&n.srclang===t.textTracks[e].scrlang})||0;this.captionsTrack=t.textTracks[i],this.transcriptTrack=this.captionsTrack,this._handleTimeUpdate()}},{key:"_handleCloseLink",value:function(){this.shadowRoot.querySelector("#link")&&this.shadowRoot.querySelector("#link").close&&this.shadowRoot.querySelector("#link").close()}},{key:"_handleCopyLink",value:function(){var t=document.createElement("textarea");this.pause(),t.value=this.shareLink,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),s.SimpleToastStore.showSimpleToast({detail:{duration:3e3,text:"Copied to clipboard: ".concat(this.shareLink)}})}},{key:"_handleCueSeek",value:function(t){this.standAlone||this.seek(t.startTime)}},{key:"_handleMediaLoaded",value:function(t){this._handleTimeUpdate(),this.youtubeId||this.anchor.target!==this||this.seek(this._getSeconds(this.anchor.params.t||this.anchor.params.start||"0s"))}},{key:"_handleSearchAdded",value:function(t){this.search=t.detail}},{key:"_handleSpeedChanged",value:function(t){var e=u.getMousePath(t)[0];this.setPlaybackRate(e.value)}},{key:"_handleSliderDragging",value:function(t){var e=this,n=!!this.shadowRoot&&this.shadowRoot.querySelector("#slider");if(n&&!n.disabled&&n.dragging&&this.__playing&&n.dragging){var i=setInterval(function(){n.dragging||(e.play(),clearInterval(i))});this.pause()}}},{key:"_handleSliderChanged",value:function(t){var e=!!this.shadowRoot&&this.shadowRoot.querySelector("#slider");this.playing&&e.immediateValue!=this.__currentTime||this.seek(e.immediateValue)}},{key:"_handleTimeUpdate",value:function(){this.__currentTime=this.media&&this.media.currentTime&&this.media.currentTime>0?this.media.currentTime:0}},{key:"_getTrackId",value:function(t){var e=this;return this.loadedTracks&&Object.keys(this.loadedTracks.textTracks).find(function(n){return e.loadedTracks.textTracks[n]===t})||-1}},{key:"_handleVolumeChanged",value:function(t){var e=u.getMousePath(t)[0];this.volume=e.value}},{key:"_onAddTrack",value:function(t){var e=this;null===this.captionsTrack&&(this.captionsTrack=t),t&&(t.mode="hidden");var n=setInterval(function(){if(t.cues&&t.cues.length>0){clearInterval(n);var i=Object.keys(t.cues).map(function(e){return t.cues[e]});e._onRemoveTrack(t),e.__cues=e.cues.concat(i).sort(function(t,e){var n=t.startTime-e.startTime,i=t.endTime-e.endTime;return 0!==n?n:0!==i?i:t.track-e.track})}})}},{key:"_onRemoveTrack",value:function(t){var e=this;this.loadedTracks&&this.loadedTracks.textTracks&&Object.keys(this.loadedTracks.textTracks).filter(function(n){return e.loadedTracks.textTracks[n]!==t}),this.__cues=this.cues?this.cues.filter(function(e){return e.track!==t}):[]}},{key:"firstUpdated",value:function(){var t=this;this.style.setProperty("--a11y-media-transcript-max-height",this.height?"146px":"unset"),setTimeout(function(){window.ResponsiveUtility.requestAvailability(),window.dispatchEvent(new CustomEvent("responsive-element",{detail:{element:t,attribute:"responsive-size",relativeToParent:!0,sm:400,md:700,lg:1e3,xl:1500}})),window.A11yMediaStateManager.requestAvailability(),window.dispatchEvent(new CustomEvent("a11y-player",{bubbles:!0,composed:!0,cancelable:!1,detail:t}))},1e3)}},{key:"_setActiveCue",value:function(t){var e=t.detail.element,n=e.parentNode,i=null!=n?n.offsetTop:0;if(!this.disableScroll){!function t(e,n,i){if(!(i<=0)){var a=(n-e.scrollTop)/i*10;setTimeout(function(){e.scrollTop=e.scrollTop+a,e.scrollTop!==n&&t(e,n,i-10)},10)}}(e.parentNode.parentNode,e.offsetTop-i,250)}}},{key:"_transcriptScroll",value:function(t){this.disableScroll=!this.disableScroll}},{key:"_getHHMMSS",value:function(t,e){t=parseFloat(t),e=void 0===e?t:parseFloat(e);var n=function(t){return t<10?"0".concat(t):t},i=function(t,i,a){return e>=i?n(Math.floor(t/i))+":":a};return i(t,3600,"")+i(t%3600,60,"00:")+n(Math.round(t%60))}},{key:"_getSeconds",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).replace(/[hm]{1,2}&?/g,":0").replace(/[s]{1,2}$/g,"").split(/:/);return 3600*(t.length>2?parseInt(t[t.length-3]):0)+60*(t.length>1?parseInt(t[t.length-2]):0)+(t.length>0?parseFloat(t[t.length-1]):0)}},{key:"_getLocal",value:function(t,e,n){var i="";return void 0!==t&&void 0!==t[e]&&void 0!==t[e][n]?i=t[e][n]:void 0!==this.localizationDefaults&&void 0!==this.localizationDefaults[e]&&void 0!==this.localizationDefaults[e][n]&&(i=this.localizationDefaults[e][n]),i}},{key:"anchor",get:function(){var t=window.AnchorBehaviors;return{target:!!t&&t.getTarget(this),params:t?t.params:{}}}},{key:"aspect",get:function(){var t=this.media&&this.media.aspectRatio?this.media.aspectRatio:16/9;return null===this.width||this.width,this.style.maxWidth=this.width,t}},{key:"audioNoThumb",get:function(){return this.audioOnly&&(null===this.thumbnailSrc||void 0===this.thumbnailSrc)}},{key:"buffered",get:function(){return this.media&&this.media.buffered&&this.media.buffered>0?this.media.buffered:0}},{key:"captionCues",get:function(){var t=this;return this.captionsTrack&&this.captionsTrack.cues?this.isYoutube?Object.keys(this.captionsTrack.cues).map(function(e){var n=t.captionsTrack.cues[e];return n.startTime<=t.currentTime&&n.endTime>=t.currentTime?n:{}}):this.captionsTrack.activeCues:[]}},{key:"captionsPicker",get:function(){var t=this,e={};return e[-1]=this._getLocal(this.localization,"captions","off"),Object.keys(this.loadedTracks.textTracks||{}).forEach(function(n){e[n]=t.loadedTracks.textTracks[n].label||t.loadedTracks.textTracks[n].language}),e}},{key:"captionsTrackKey",get:function(){return this.cc?this._getTrackId(this.captionsTrack):-1}},{key:"cues",get:function(){return this.__cues}},{key:"duration",get:function(){return this.media&&this.media.duration&&this.media.duration>0?this.media.duration:this.__preloadedDuration?this.__preloadedDuration:0}},{key:"flexLayout",get:function(){return this.hasCaptions&&!this.standAlone&&!this.hideTranscript&&!this.audioNoThumb&&!this.stackedLayout}},{key:"fullFlex",get:function(){return this.flexLayout&&"xs"!==this.responsiveSize&&"sm"!==this.responsiveSize}},{key:"fullscreen",get:function(){return this.__fullscreen?this.setAttribute("fullscreen",!0):this.removeAttribute("fullscreen"),this.__fullscreen}},{key:"fullscreenButton",get:function(){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return this.fullscreenEnabled&&!t&&!this.disableFullscreen&&!this.audioNoThumb}},{key:"hasCaptions",get:function(){return this.cues.length>1}},{key:"isYoutube",get:function(){return!!this.youtubeId}},{key:"loadedTracks",get:function(){return this.__loadedTracks}},{key:"localizationDefaults",get:function(){return{audio:{label:"Audio",notSupported:"HTML5 video is not supported."},autoScroll:{label:"Scroll Transcript",icon:"swap-vert"},captions:{label:"Closed Captions",icon:"av:closed-caption",off:"Off"},download:{label:"Download Transcript",icon:"file-download"},forward:{label:"Forward",icon:"av:fast-forward"},fullscreen:{label:"Fullscreen",icon:"fullscreen"},copyLink:{label:"Copy Media Link",icon:"link"},closeLink:{label:"Close",icon:"close"},loading:{label:"Loading..."},loop:{label:"Loop Playback"},mute:{label:"Mute",icon:"av:volume-up"},nextResult:{label:"Next",icon:"arrow-forward"},pause:{label:"Pause",icon:"av:pause"},play:{label:"Play",icon:"av:play-arrow"},prevResult:{label:"Previous",icon:"arrow-back"},print:{label:"Print Transcript",icon:"print"},restart:{label:"Restart",icon:"av:replay"},rewind:{label:"Backward",icon:"av:fast-rewind"},search:{label:"Search the transcript.",icon:"search"},seekSlider:{label:"Seek Slider"},settings:{label:"Settings",icon:"settings"},speed:{label:"Speed %"},transcript:{label:"Transcript",icon:"description",loading:"Loading the transcript(s)...",off:"Off",skip:"Skip to the transcript."},unmute:{label:"Unmute",icon:"av:volume-off"},video:{label:"Video",notSupported:"HTML5 video is not supported."},volume:{label:"Volume"},youTubeLoading:{label:"Loading...",startLoading:"Press play."},youTubeTranscript:{label:"Transcript will load once media plays."}}}},{key:"media",get:function(){return this.isYoutube?this.youtube:this.loadedTracks}},{key:"mediaCaption",get:function(){var t=this._getLocal(this.localization,"audio","label"),e=void 0!==this.mediaTitle&&null!==this.mediaTitle&&""!==this.mediaTitle;return this.audioOnly&&e?this.mediaTitle+" ("+t+")":this.audioOnly?t:e?this.mediaTitle:void 0}},{key:"mediaEnd",get:function(){return!(!this.mediaSeekable||!this.media.seekable.end(0))&&this.media.seekable.end(0)}},{key:"mediaMaxWidth",get:function(){var t=this.fullscreen||this.audioNoThumb?"unset":"calc(".concat(100*this.aspect,"vh - ").concat(80*this.aspect,"px)");return"max-width:".concat(t,";")}},{key:"mediaSeekable",get:function(){return!(!this.media||!this.media.seekable)&&this.media.seekable.length>0}},{key:"mediaStart",get:function(){return this.mediaSeekable&&this.media.seekable.start(0)?this.media.seekable.start(0):0}},{key:"playing",get:function(){return this.__playing}},{key:"playerStyle",get:function(){var t=this.audioNoThumb?"60px":"unset",e=this.fullscreen||this.audioNoThumb||this.height?"unset":"".concat(100/this.aspect,"%"),n=this.poster&&(this.isYoutube||this.audioOnly)?"background-image:url(".concat(this.poster,");"):"";return"height:".concat(t,";padding-top:").concat(e,";").concat(n)}},{key:"poster",get:function(){var t=this.thumbnailSrc?this.thumbnailSrc:!(!this.media||this.media.poster)&&this.media.poster;return!this.thumbnailSrc&&this.youtubeId?"https://img.youtube.com/vi/".concat(this.youtubeId.replace(/[\?&].*/,""),"/hqdefault.jpg"):t}},{key:"printCaption",get:function(){var t=this._getLocal(this.localization,"audio","label"),e=this._getLocal(this.localization,"video","label"),n=void 0!==this.mediaTitle&&null!==this.mediaTitle&&""!==this.mediaTitle;return this.audioOnly&&n?this.mediaTitle+" ("+t+")":this.audioOnly?t:n?this.mediaTitle+" ("+e+")":e}},{key:"currentTime",get:function(){var t=!!this.shadowRoot&&this.shadowRoot.querySelector("#slider");return t&&!t.disabled&&t.dragging?this.shadowRoot.querySelector("#slider").immediateValue:this.__currentTime}},{key:"shareLink",get:function(){var t=window.location.href.split(/[#?]/)[0],e=this.id?"?id=".concat(this.id):"",n=""!==e&&this.currentTime&&0!==this.currentTime?"&t=".concat(this.currentTime):"";return"".concat(t).concat(e).concat(n)}},{key:"showCustomCaptions",get:function(){return(this.isYoutube||this.audioOnly)&&this.hasCaptions&&this.cc}},{key:"status",get:function(){return this.duration>0?o.html(U(),this._getHHMMSS(this.currentTime,this.duration),this._getHHMMSS(this.duration)):this.isYoutube?this.__playing?this._getLocal(this.localization,"youTubeLoading","label"):this._getLocal(this.localization,"youTubeLoading","startLoading"):this._getLocal(this.localization,"loading","label")}},{key:"stickyMode",get:function(){return this.sticky&&"none"!==this.stickyCorner}},{key:"t",get:function(){var t=this._getSeconds(this.anchor.params.t||this.anchor.params.start||"0s");return this.anchor&&this.anchor.target===this?t:this.videoData?this.videoData.t||this.videoData.start:void 0}},{key:"transcriptCues",get:function(){var t=this;return(this.cues?this.cues.slice():[]).filter(function(e){return e.track===t.transcriptTrack})}},{key:"transcriptPicker",get:function(){var t=this,e={};return e[-1]=this._getLocal(this.localization,"transcript","off"),Object.keys(this.loadedTracks.textTracks||{}).forEach(function(n){e[n]=t.loadedTracks.textTracks[n].label||t.loadedTracks.textTracks[n].language}),e}},{key:"transcriptTrackKey",get:function(){return this.hideTranscript?-1:this._getTrackId(this.transcriptTrack)}},{key:"videoData",get:function(){var t=this;if(this.youtubeId){var e=this.youtubeId.split(/[\?\&]/),n={};return n.videoId=e[0],e.forEach(function(e,i){if(i>0){var a=e.split(/=/);n[a[0]]=t._getSeconds(a[1])}}),n}}},{key:"videoId",get:function(){if(this.videoData)return this.videoData.videoId}},{key:"youtube",get:function(){return null!==this.shadowRoot.querySelector("a11y-media-youtube")&&this.shadowRoot.querySelector("a11y-media-youtube")}},{key:"fullscreenTarget",get:function(){return this.shadowRoot&&this.shadowRoot.querySelector("#player-section")?this.shadowRoot.querySelector("#player-section"):this}}]),n}();window.customElements.define(it.tag,it),t.A11yMediaPlayer=it,Object.defineProperty(t,"__esModule",{value:!0})});
