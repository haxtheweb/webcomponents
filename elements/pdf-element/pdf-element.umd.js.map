{"version":3,"file":"pdf-element.umd.js","sources":["lib/main.js","pdf-element.umd.js"],"sourcesContent":["var _Mathround = Math.round,\n  Reader = function(el) {\n    this.element = el;\n    this.reader = el.root.querySelector(\".pdf-viewer\");\n    this.viewportOut = this.reader.querySelector(\".pdf-viewport-out\");\n    this.element = this.reader.querySelector(\".pdf-element\");\n    this.container = this.reader.querySelector(\".sidebar\");\n    this.toolbar = this.reader.querySelector(\".pdf-toolbar\");\n    this.card = el.root.querySelector(\".style-scope\");\n    this.toolbarHeight = 0;\n    this.title = this.toolbar.querySelector(\".title\");\n    this.enableTextSelection = el.enableTextSelection;\n    this.fitWidth = el.fitWidth;\n    this.HEIGHT = el.getAttribute(\"height\");\n    this.WIDTH = el.getAttribute(\"width\");\n    this.viewport = this.reader.querySelector(\".pdf-viewport\");\n    if (this.enableTextSelection) {\n      this.textLayerDiv = this.reader.querySelector(\".textLayer\");\n      this.textLayerDivStyle = this.textLayerDiv.style;\n    }\n    this.spinner = this.reader.querySelector(\".spinner\");\n    this.totalPages = this.reader.querySelector(\"#totalPages\");\n    this.viewportStyle = this.viewport.style;\n    this.viewportOutStyle = this.viewportOut.style;\n    this.ctx = this.viewport.getContext(\"2d\");\n    this.SRC = el.src;\n    this.pageRendering = !1;\n    this.pageNumPending = null;\n  };\nReader.prototype.setSize = function(attrName, newVal) {\n  if (!this.WIDTH) {\n    this.WIDTH = this.viewportOut.offsetWidth;\n  }\n  if (!this.HEIGHT) {\n    this.HEIGHT = this.viewportOut.offsetHeight;\n  }\n  var width = this.WIDTH,\n    height = this.HEIGHT;\n  if (\"width\" === attrName) {\n    width = newVal;\n  }\n  if (\"height\" === attrName) {\n    height = newVal;\n  }\n  this.viewportOutStyle.height = height + \"px\";\n  this.spinner.style.top = (height - this.toolbarHeight) / 2 + \"px\";\n};\nReader.prototype.setSrc = function(src) {\n  this.SRC = src;\n};\nReader.prototype.setFitWidth = function(fitWidth) {\n  this.fitWidth = fitWidth;\n};\nReader.prototype.queueRenderPage = function(num) {\n  this.pdfExists = !0;\n  if (this.pageRendering) {\n    this.pageNumPending = num;\n  } else {\n    this.renderPDF(num);\n  }\n};\nReader.prototype.loadPDF = function(pageNum) {\n  var _this = this;\n  this.setSize();\n  pageNum = 1;\n  var self = this;\n  PDFJS.getDocument(this.SRC)\n    .then(function(pdf) {\n      self.PDF = pdf;\n      self.queueRenderPage(pageNum);\n      self.currentPage = pageNum;\n      self.totalPages.innerHTML = self.PDF.numPages;\n      self.totalPagesNum = self.PDF.numPages;\n      self.currentZoomVal = self.fitZoomVal = self.widthZoomVal = 0;\n      self.createDownloadLink();\n    })\n    .catch(function() {\n      _this.pdfExists = !1;\n    });\n};\nReader.prototype.renderPages = function() {\n  var self = this;\n  self.viewportOut.innerHTML = \"\";\n  PDFJS.getDocument(this.SRC).then(function(pdf) {\n    self.PDF = pdf;\n    for (var num = 1; num <= self.PDF.numPages; num++) {\n      pdf.getPage(num).then(self.renderPDF(num, null, !0));\n    }\n    self.currentPage = 1;\n    self.totalPages.innerHTML = self.PDF.numPages;\n    self.totalPagesNum = self.PDF.numPages;\n    if (!self.currentZoomVal)\n      self.currentZoomVal = self.fitZoomVal = self.widthZoomVal = 0;\n    self.createDownloadLink();\n  });\n};\nReader.prototype.sidebarSetup = function(currentThis) {\n  var self = this,\n    pdfName = currentThis.src,\n    currPage = 1,\n    numPages = 0,\n    pdfObj = null;\n  if (0 != self.container.innerHTML.length) {\n    if (currentThis.changedSideBar) {\n      self.container.innerHTML = \"\";\n      PDFJS.getDocument(this.SRC).then(function(pdf) {\n        pdfObj = pdf;\n        numPages = pdfObj.numPages;\n        var container = self.container;\n        pdf.getPage(1).then(handlePages);\n      });\n      self.setViewportPos(!1);\n    }\n  } else {\n    self.container.innerHTML = \"\";\n    PDFJS.getDocument(this.SRC).then(function(pdf) {\n      pdfObj = pdf;\n      numPages = pdfObj.numPages;\n      var container = self.container;\n      pdf.getPage(1).then(handlePages);\n    });\n    self.setViewportPos(!0);\n  }\n  function handlePages(page) {\n    var scale = 0.14,\n      scaleWidth = 0,\n      container = self.container;\n    if (currentThis.sidebarOpen) {\n      scaleWidth = self.WIDTH;\n    } else {\n      scaleWidth = self.WIDTH;\n    }\n    scale = 35e-5 * scaleWidth;\n    var viewport = page.getViewport(scale),\n      div = document.createElement(\"div\"),\n      pageString = (page.pageIndex + 1).toString(),\n      parsedFileName = pdfName.split(\"/\").pop();\n    div.style.backgroundColor = \"gray\";\n    var click = document.querySelector(\"pdf-element\"),\n      canvas = document.createElement(\"canvas\");\n    div.appendChild(canvas);\n    container.appendChild(div);\n    var addPage = self.container.childNodes[page.pageIndex];\n    addPage.addEventListener(\"click\", function() {\n      var nextPage = page.pageIndex + 1;\n      click.sideBarClick(nextPage, currentThis.instance, currentThis);\n    });\n    var context = canvas.getContext(\"2d\");\n    canvas.height = viewport.height;\n    canvas.width = viewport.width;\n    page.render({ canvasContext: context, viewport: viewport });\n    currPage++;\n    if (null !== pdfObj && currPage <= numPages) {\n      pdfObj.getPage(currPage).then(handlePages);\n    }\n  }\n};\nReader.prototype.renderPDF = function(pageNum, resize, isFull) {\n  var self = this;\n  self.pageRendering = !0;\n  self.spinner.active = !0;\n  this.PDF.getPage(pageNum).then(function(page) {\n    var _Mathabs = Math.abs,\n      _Mathsin = Math.sin,\n      _Mathcos = Math.cos,\n      scaleW,\n      scaleH,\n      viewerViewport,\n      scale,\n      radians;\n    radians = (page.pageInfo.rotate * Math.PI) / 180;\n    self.pageW = _Mathabs(\n      page.view[2] * _Mathcos(radians) + page.view[3] * _Mathsin(radians)\n    );\n    self.pageH = _Mathabs(\n      page.view[3] * _Mathcos(radians) + page.view[2] * _Mathsin(radians)\n    );\n    if (0 === self.currentZoomVal || !!resize) {\n      (scaleW = _Mathround(100 * (self.WIDTH / self.pageW)) / 100),\n        (scaleH =\n          _Mathround(100 * ((self.HEIGHT - self.toolbarHeight) / self.pageH)) /\n          100),\n        (scale = Math.min(scaleH, scaleW));\n      self.fitZoomVal = scale;\n      self.widthZoomVal = self.WIDTH / self.pageW;\n      self.currentZoomVal = self.fitWidth ? self.widthZoomVal : self.fitZoomVal;\n    }\n    if (!!resize) {\n      self.zoomPage({ target: self.zoomLvl });\n    } else {\n      scale = self.currentZoomVal;\n      viewerViewport = page.getViewport(scale);\n      self.ctx.height = viewerViewport.height;\n      self.ctx.width = viewerViewport.width;\n      self.pageW = self.pageW * scale;\n      self.pageH = self.pageH * scale;\n      if (self.WIDTH == self.currentWidth || null == self.currentWidth) {\n        self.setViewportPos(!1);\n      } else {\n        self.setViewportPos(!0);\n      }\n      self.viewport.width = self.pageW;\n      self.viewport.height = self.pageH;\n      self.viewportStyle.width = self.pageW + \"px\";\n      self.viewportStyle.height = self.pageH + \"px\";\n      if (self.enableTextSelection) {\n        self.textLayerDivStyle.width = self.pageW + \"px\";\n        self.textLayerDivStyle.height = self.pageH + \"px\";\n      }\n      self.ctx.clearRect(0, 0, self.viewport.width, self.viewport.height);\n      if (isFull) {\n        var wrapper = document.createElement(\"div\");\n        wrapper.setAttribute(\"style\", \"position: relative\");\n        var canvas = document.createElement(\"canvas\"),\n          textLayer = document.createElement(\"div\");\n        textLayer.setAttribute(\"style\", \"left: \" + self.viewportStyle.left);\n        textLayer.className = \"textLayer\";\n        var ctx = canvas.getContext(\"2d\");\n        textLayer.height = viewerViewport.height;\n        textLayer.width = viewerViewport.width;\n        self.viewportOut.appendChild(wrapper);\n        wrapper.appendChild(canvas);\n        wrapper.appendChild(textLayer);\n        page.render({ canvasContext: ctx, viewport: viewerViewport });\n        if (self.enableTextSelection) {\n          self.textLayerDiv.innerHTML = \"\";\n          page.getTextContent().then(function(textContent) {\n            PDFJS.renderTextLayer({\n              textContent: textContent,\n              container: textLayer,\n              pageIndex: pageNum,\n              viewport: viewerViewport,\n              textDivs: []\n            });\n          });\n        }\n      } else {\n        var renderTask = page.render({\n          canvasContext: self.ctx,\n          viewport: viewerViewport\n        });\n        renderTask.promise.then(function() {\n          self.pageRendering = !1;\n          self.spinner.active = !1;\n          if (null !== self.pageNumPending) {\n            self.renderPDF(self.pageNumPending);\n            self.pageNumPending = null;\n          }\n        });\n      }\n      if (self.enableTextSelection) {\n        self.textLayerDiv.innerHTML = \"\";\n        page.getTextContent().then(function(textContent) {\n          PDFJS.renderTextLayer({\n            textContent: textContent,\n            container: self.textLayerDiv,\n            pageIndex: pageNum,\n            viewport: viewerViewport,\n            textDivs: []\n          });\n        });\n      }\n    }\n  });\n};\nReader.prototype.setViewportPos = function(sidebarAdjust) {\n  var _Mathfloor = Math.floor;\n  if (sidebarAdjust) {\n    this.currentWidth = 0.75 * this.WIDTH;\n  } else {\n    this.currentWidth = this.WIDTH;\n  }\n  if (this.pageW < this.currentWidth) {\n    this.viewportStyle.left = (this.currentWidth - this.pageW) / 2 + \"px\";\n  } else this.viewportStyle.left = 0;\n  if (this.pageH < this.HEIGHT) {\n    this.viewportStyle.top =\n      (this.HEIGHT - this.pageH - this.toolbarHeight) / 2 + \"px\";\n    this.viewportStyle.topNum =\n      _Mathfloor((this.HEIGHT - this.pageH - this.toolbarHeight) / 2) +\n      this.toolbarHeight;\n    if (this.enableTextSelection) {\n      this.textLayerDivStyle.topNum =\n        _Mathfloor((this.HEIGHT - this.pageH - this.toolbarHeight) / 2) +\n        this.toolbarHeight;\n    }\n  } else {\n    this.viewportStyle.top = 0;\n  }\n  if (this.enableTextSelection) {\n    this.textLayerDivStyle.left = this.viewportStyle.left;\n    this.textLayerDivStyle.top = this.viewportStyle.top;\n  }\n};\nReader.prototype.changePDFSource = function(newSrc) {\n  this.setSrc(newSrc);\n  this.loadPDF(1);\n};\nReader.prototype.zoomInOut = function(step) {\n  this.currentZoomVal =\n    _Mathround(10 * (_Mathround(10 * this.currentZoomVal) / 10 + step)) / 10;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.zoomIn = function() {\n  this.currentZoomVal =\n    _Mathround(10 * (_Mathround(10 * this.currentZoomVal) / 10 + 0.1)) / 10;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.zoomOut = function() {\n  this.currentZoomVal =\n    _Mathround(10 * (_Mathround(10 * this.currentZoomVal) / 10 + -0.1)) / 10;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.zoomPageFit = function() {\n  this.currentZoomVal = this.fitZoomVal;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.zoomWidthFit = function() {\n  this.currentZoomVal = this.widthZoomVal;\n  this.queueRenderPage(this.currentPage);\n};\nReader.prototype.getPageNum = function() {\n  return this.PDF.numPages;\n};\nReader.prototype.createDownloadLink = function() {\n  var self = this;\n  this.PDF.getData().then(function(data) {\n    var blob = PDFJS.createBlob(data, \"application/pdf\");\n    self.downloadLink = URL.createObjectURL(blob);\n  });\n};\nReader.prototype.download = function() {\n  var a = document.createElement(\"a\"),\n    filename = this.SRC.split(\"/\");\n  a.href = this.downloadLink;\n  a.target = \"_parent\";\n  if (\"download\" in a) {\n    a.download = decodeURIComponent(filename[filename.length - 1]);\n  }\n  this.reader.appendChild(a);\n  a.click();\n  a.parentNode.removeChild(a);\n};\nwindow.Reader = Reader;\n","import { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport \"@polymer/paper-input/paper-input.js\";\nimport \"@polymer/iron-input/iron-input.js\";\nimport \"@polymer/paper-icon-button/paper-icon-button.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport \"pdfjs-dist/build/pdf.js\";\nimport \"pdfjs-dist/build/pdf.worker.js\";\nimport \"./lib/main.js\";\n/**\nPolymer element which renders PDF documents. It uses [PDF.js](https://mozilla.github.io/pdf.js/) library behind.\n\nExample:\n\nMinimum configuration:\n```html\n<pdf-element src=\"../example.pdf\" width=800 height=600></pdf-element>\n```\nOptionally following parameters could be triggered:\n - `elevation` material elevation;\n - `downloadable` to be able to download document;\n - `show-file-name` to show name of the file in the PDF toolbar.\n\n\n ```html\n <pdf-element src=\"../example.pdf\" elevation=\"5\" downloadable show-file-name width=800 height=600></pdf-element>\n ```\n\nAnother awesome feature is dynamically load PDF file. So you can change the `src` attribute of the element and document will be automatically reloaded (checkout the demo):\n\n```html\n<pdf-element src=\"[[pdfFile]]\" width=800 height=600></pdf-element>\n```\n\n* @demo demo/index.html\n@hero hero.svg\n*/\nclass PdfElement extends SchemaBehaviors(PolymerElement) {\n  constructor() {\n    super();\n    import(\"@polymer/paper-card/paper-card.js\");\n    import(\"@polymer/app-layout/app-toolbar/app-toolbar.js\");\n    import(\"@polymer/paper-spinner/paper-spinner.js\");\n  }\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n\n        app-toolbar.pdf-toolbar {\n          --app-toolbar-background: #323639;\n        }\n\n        .pdf-viewer {\n          text-align: center;\n          border: 1px solid #4d4d4d;\n        }\n\n        .pdf-viewport-out {\n          overflow: auto;\n          background-color: #525659;\n          position: relative;\n          width: 100%;\n          height: 100%;\n        }\n\n        .pdf-viewport {\n          display: block;\n          position: relative;\n          border: 1px solid #eeeeee;\n          transition: all 200ms ease-in-out;\n          width: 100%;\n          height: 100%;\n        }\n\n        .sidebar {\n          background-color: gray;\n          float: left;\n          height: 0px;\n          overflow: scroll;\n          margin-left: -25%;\n          visibility: hidden;\n        }\n\n        .main {\n          margin-left: 0%;\n        }\n\n        .pageselector {\n          width: 3ch;\n          background-color: black;\n          font-size: 17px;\n          background-color: transparent;\n          border: 0px solid;\n        }\n\n        .pageselector:focus {\n          outline: none;\n        }\n\n        #input {\n          -webkit-margin-start: -3px;\n          color: #fff;\n          line-height: 18px;\n          padding: 3px;\n          text-align: end;\n        }\n\n        #input:focus,\n        #input:hover {\n          background-color: rgba(0, 0, 0, 0.5);\n          border-radius: 2px;\n        }\n\n        #slash {\n          padding: 0 3px;\n        }\n\n        paper-spinner {\n          position: absolute;\n          left: 50%;\n        }\n\n        .textLayer {\n          transition: all 200ms ease-in-out;\n        }\n\n        .positionRelative {\n          position: relative;\n        }\n      </style>\n\n      <paper-material elevation=\"{{elevation}}\">\n        <div class=\"card-content\" style=\"width: {{width}}px\">\n          <paper-card class=\"paperCard\" style=\"width: {{width}}px\">\n            <div class=\"pdf-viewer\">\n              <app-toolbar class=\"pdf-toolbar\">\n                <paper-icon-button\n                  icon=\"menu\"\n                  on-click=\"sideBar\"\n                ></paper-icon-button>\n                <paper-icon-button\n                  icon=\"arrow-back\"\n                  on-click=\"showPrev\"\n                ></paper-icon-button>\n                <input\n                  class=\"pageselector\"\n                  id=\"input\"\n                  is=\"iron-input\"\n                  value=\"{{currentPage}}\"\n                  prevent-invalid-input=\"\"\n                  allowed-pattern=\"\\\\d\"\n                  on-change=\"pageNumSearch\"\n                />\n                <span id=\"slash\">/</span><span id=\"totalPages\"></span>\n                <paper-icon-button\n                  icon=\"arrow-forward\"\n                  on-click=\"showNext\"\n                ></paper-icon-button>\n                <span class=\"title\" hidden=\"{{!showFileName}}\">Testing</span>\n                <span class=\"title\" hidden=\"{{showFileName}}\"></span>\n                <span class=\"pageRendering\"></span>\n                <paper-icon-button\n                  icon=\"zoom-in\"\n                  on-click=\"zoomIn\"\n                ></paper-icon-button>\n                <paper-icon-button\n                  icon=\"zoom-out\"\n                  on-click=\"zoomOut\"\n                ></paper-icon-button>\n                <paper-icon-button\n                  id=\"zoomIcon\"\n                  icon=\"fullscreen\"\n                  on-click=\"zoomFit\"\n                ></paper-icon-button>\n                <paper-icon-button\n                  icon=\"file-download\"\n                  hidden\\$=\"{{!downloadable}}\"\n                  on-click=\"download\"\n                ></paper-icon-button>\n              </app-toolbar>\n              <div id=\"container\" class=\"sidebar\" style=\"width:25%\"></div>\n              <div id=\"main\">\n                <div id=\"test\" class=\"pdf-viewport-out\">\n                  <canvas class=\"pdf-viewport\"></canvas>\n                  <div\n                    id=\"text-layer\"\n                    class=\"textLayer\"\n                    hidden\\$=\"{{!enableTextSelection}}\"\n                  ></div>\n                </div>\n                <paper-spinner\n                  class=\"spinner\"\n                  hidden\\$=\"{{!showSpinner}}\"\n                ></paper-spinner>\n              </div>\n            </div>\n          </paper-card>\n        </div>\n      </paper-material>\n    `;\n  }\n\n  static get tag() {\n    return \"pdf-element\";\n  }\n\n  static get properties() {\n    return {\n      ...super.properties,\n\n      /**\n       * Source of a PDF file.\n       */\n      src: {\n        type: String,\n        reflectToAttribute: true\n      },\n      /**\n       * The z-depth of this element, from 0-5. Setting to 0 will remove the shadow, and each increasing number greater than 0 will be \"deeper\" than the last.\n       */\n      elevation: {\n        type: Number,\n        value: 1\n      },\n      /**\n       * If provided then download icon will appear on the toolbar to download file.\n       */\n      downloadable: {\n        type: Boolean,\n        value: false\n      },\n      /**\n       * If provided then file name will be shown on the toolbar.\n       */\n      showFileName: {\n        type: Boolean,\n        value: false\n      },\n      /*\n       * If provided then during page rendering loading spinner will be shown.\n       * Maybe used for documents with many images for example.\n       */\n      showSpinner: {\n        type: Boolean,\n        value: false\n      },\n      /*\n       * If provided then text selection will be enabled.\n       */\n      enableTextSelection: {\n        type: Boolean,\n        value: false\n      },\n      /*\n       * If provided then the document will be zoomed to maximum width initially.\n       */\n      fitWidth: {\n        type: Boolean,\n        value: false\n      },\n      /*\n       * If provided then the width will be set.\n       */\n      width: {\n        type: Number,\n        value: 500\n      }\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.src = this.getAttribute(\"src\");\n    this._initializeReader();\n    if (this.src) this.instance.loadPDF();\n    this._setFitWidth();\n  }\n  static get haxProperties() {\n    return {\n      canScale: true,\n      canPosition: true,\n      canEditSource: false,\n      gizmo: {\n        title: \"PDF viewer\",\n        descrption:\n          \"This can nicely present a PDF in a standard inplace, cross browser way.\",\n        icon: \"image:picture-as-pdf\",\n        color: \"red\",\n        groups: [\"Presentation\", \"PDF\", \"Data\"],\n        handles: [\n          {\n            type: \"pdf\",\n            url: \"src\",\n            source: \"src\"\n          },\n          {\n            type: \"document\",\n            url: \"src\",\n            source: \"src\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"src\",\n            title: \"File\",\n            description: \"The URL for the pdf\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            required: true\n          }\n        ],\n        configure: [\n          {\n            property: \"src\",\n            title: \"Source\",\n            description: \"The URL for this csv file\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            required: true\n          },\n          {\n            property: \"downloadable\",\n            title: \"Downloadable\",\n            description: \"User can download this\",\n            inputMethod: \"boolean\",\n            icon: \"file-download\"\n          },\n          {\n            property: \"enableTextSelection\",\n            title: \"Text Selection\",\n            description: \"User can select text in this element.\",\n            inputMethod: \"boolean\",\n            icon: \"file-download\"\n          },\n          {\n            property: \"elevation\",\n            title: \"Elevation\",\n            description: \"Visual elevation of the element\",\n            inputMethod: \"number\",\n            icon: \"flip-to-front\"\n          }\n        ],\n        advanced: []\n      }\n    };\n  }\n  /*\n   * For the first time the pdf is loaded.\n   * The inital page is set to 1 and it sets the total Pages\n   */\n  loadPDF() {\n    if (!this.getAttribute(\"src\")) return;\n    this.instance.changePDFSource(this.getAttribute(\"src\"));\n    this.currentPage = 1;\n    this.totalPages = this.instance.totalPages;\n    this.fileName = this.src.split(\"/\").pop();\n    this._setFitWidth();\n    this.shadowRoot.querySelector(\"#zoomIcon\").icon = \"fullscreen\";\n  }\n\n  /*\n   * When a new pdf is selected and loaded, this sets the properties for the switch\n   */\n  attributeChanged(name, type) {\n    if (name === \"src\") {\n      if (typeof this.instance == \"undefined\") this._initializeReader();\n      else {\n        this.loadPDF();\n        this.changedSideBar = true;\n        this.fromChange = true;\n        this.sideBar();\n      }\n    } else if (name === \"fitWidth\") {\n      this._setFitWidth();\n    }\n  }\n\n  _initializeReader() {\n    this.instance = new Reader(this);\n    if (this.src != null) this.fileName = this.src.split(\"/\").pop();\n    this.currentPage = 1;\n  }\n\n  _setFitWidth() {\n    this.instance.setFitWidth(this.fitWidth);\n  }\n\n  /*\n   * Is called from zoomIn function to control the zoom in\n   */\n  zoomInOut(step) {\n    if (this.instance.currentZoomVal >= 2) {\n      this.instance.currentZoomVal = 2;\n    } else if (this.instance.currentZoomVal <= 0.1) {\n      this.instance.currentZoomVal = 0.1;\n    } else {\n      this.shadowRoot.querySelector(\"#zoomIcon\").icon = \"fullscreen\";\n      this.instance.zoomInOut(step);\n    }\n  }\n\n  /*\n   * Zoom in to the pdf as long as it is loaded\n   */\n  zoomIn() {\n    if (this.instance.pdfExists) {\n      this.zoomInOut(0.1);\n    }\n  }\n\n  /*\n   * Zoom out of the pdf as long as it is loaded\n   */\n  zoomOut() {\n    if (this.instance.pdfExists) {\n      this.instance.zoomInOut(-0.1);\n    }\n  }\n\n  /*\n   * When the zoom in/out button is selected. Reformats the pdf to the original display\n   */\n  zoomFit() {\n    if (this.instance.pdfExists) {\n      if (this.instance.currentZoomVal == this.instance.widthZoomVal) {\n        this.instance.zoomPageFit();\n        this.shadowRoot.querySelector(\"#zoomIcon\").icon = \"fullscreen\";\n      } else {\n        this.instance.zoomWidthFit();\n        this.shadowRoot.querySelector(\"#zoomIcon\").icon = \"fullscreen-exit\";\n      }\n    }\n  }\n\n  /*\n   * Controls the page search functionality.\n   * When a number is input it checks to see if it is a valid page\n   * If it is valid then it will change the view to that page\n   * as well as update the page number\n   */\n  pageNumSearch() {\n    var page = parseInt(this.shadowRoot.querySelector(\"#input\").value);\n\n    if (1 <= page && page <= this.instance.totalPagesNum) {\n      this.instance.currentPage = page;\n      this.instance.queueRenderPage(this.instance.currentPage);\n      this.currentPage = page;\n      this.shadowRoot.querySelector(\"#input\").blur();\n    } else {\n      this.shadowRoot.querySelector(\"#input\").value = this.currentPage;\n      this.shadowRoot.querySelector(\"#input\").blur();\n    }\n  }\n\n  /*\n   * Is called when a page is selected from the sidebar\n   * Checks to make sure a valid page is selected, then changes the page\n   * The currentInstance is passed in to make sure it is changing the proper pdf if multiple are loaded\n   */\n  sideBarClick(page, currentInstance, currentThis) {\n    //this.instance = currentInstance;\n    var parsedFileName = currentThis.src.split(\"/\").pop();\n    var self = currentInstance;\n    currentThis.sidebarOpen = true;\n    if (1 <= page && page <= currentInstance.totalPagesNum) {\n      self.currentPage = page;\n      self.queueRenderPage(self.currentPage);\n      currentInstance.currentPage = page;\n      currentThis.currentPage = page;\n      this.shadowRoot.querySelector(\"#input\").blur();\n    } else {\n      this.shadowRoot.querySelector(\"#input\").value = self.currentPage;\n      this.shadowRoot.querySelector(\"#input\").blur();\n    }\n  }\n\n  /*\n   * Is called to show the previous page and update page number\n   */\n  showPrev() {\n    if (1 < this.instance.currentPage) {\n      this.instance.currentPage--;\n      this.instance.queueRenderPage(this.instance.currentPage);\n      this.currentPage--;\n    }\n  }\n\n  /*\n   * Is called to show the next page and update page number\n   */\n  showNext() {\n    if (this.instance.totalPagesNum > this.instance.currentPage) {\n      this.instance.currentPage++;\n      this.instance.queueRenderPage(this.instance.currentPage);\n      this.currentPage++;\n    }\n  }\n\n  /*\n   * The sidebar is a scrollable bar on the side of the page that allows you to scroll and select a page to change to\n   * Checks if the pdf loaded changed\n   * Then checks if the sidebar is open or not\n   * If it is open, close. Else open sidebar. Set sidebarOpen to either T or F\n   */\n  sideBar() {\n    if (this.instance.pdfExists) {\n      if (!this.fromChange) {\n        this.shadowRoot.querySelector(\n          \"#container\"\n        ).style.height = this.shadowRoot.querySelector(\"#test\").style.height;\n        this.shadowRoot.querySelector(\n          \"#container\"\n        ).style.width = this.shadowRoot.querySelector(\"#test\").style.width;\n        if (this.shadowRoot.querySelector(\"#main\").style.marginLeft == \"25%\") {\n          this.sidebarOpen = false;\n          this.instance.setViewportPos(false);\n          this.shadowRoot.querySelector(\"#main\").style.marginLeft = \"0%\";\n          this.shadowRoot.querySelector(\"#container\").style.marginLeft = \"-25%\";\n          this.shadowRoot.querySelector(\"#container\").style.visibility =\n            \"hidden\";\n        } else {\n          this.sidebarOpen = true;\n          this.shadowRoot.querySelector(\"#main\").style.marginLeft = \"25%\";\n          this.shadowRoot.querySelector(\"#container\").style.marginLeft = \"0%\";\n          this.shadowRoot.querySelector(\"#container\").style.visibility =\n            \"visible\";\n          this.instance.setViewportPos(true);\n        }\n      }\n      this.fromChange = false;\n      this.instance.sidebarSetup(this);\n      this.changedSideBar = false;\n    }\n  }\n\n  /*\n   * Is called when the download pdf button is selected\n   */\n  download() {\n    if (this.instance.pdfExists) {\n      this.instance.download();\n    }\n  }\n}\nwindow.customElements.define(PdfElement.tag, PdfElement);\nexport { PdfElement };\n"],"names":["_Mathround","Math","round","Reader","el","element","reader","root","querySelector","viewportOut","this","container","toolbar","card","toolbarHeight","title","enableTextSelection","fitWidth","HEIGHT","getAttribute","WIDTH","viewport","textLayerDiv","textLayerDivStyle","style","spinner","totalPages","viewportStyle","viewportOutStyle","ctx","getContext","SRC","src","pageRendering","pageNumPending","prototype","setSize","attrName","newVal","offsetWidth","offsetHeight","height","top","setSrc","setFitWidth","queueRenderPage","num","pdfExists","renderPDF","loadPDF","pageNum","_this","self","PDFJS","getDocument","then","pdf","PDF","currentPage","innerHTML","numPages","totalPagesNum","currentZoomVal","fitZoomVal","widthZoomVal","createDownloadLink","renderPages","getPage","sidebarSetup","currentThis","pdfName","currPage","pdfObj","handlePages","page","scale","sidebarOpen","getViewport","div","document","createElement","pageIndex","toString","split","pop","backgroundColor","click","canvas","appendChild","childNodes","addEventListener","nextPage","sideBarClick","instance","context","width","render","canvasContext","length","changedSideBar","setViewportPos","resize","isFull","active","scaleW","scaleH","viewerViewport","radians","_Mathabs","abs","_Mathsin","sin","_Mathcos","cos","pageInfo","rotate","PI","pageW","view","pageH","min","zoomPage","target","zoomLvl","currentWidth","clearRect","wrapper","setAttribute","textLayer","left","className","getTextContent","textContent","renderTextLayer","textDivs","promise","sidebarAdjust","_Mathfloor","floor","topNum","changePDFSource","newSrc","zoomInOut","step","zoomIn","zoomOut","zoomPageFit","zoomWidthFit","getPageNum","getData","data","blob","createBlob","downloadLink","URL","createObjectURL","download","a","filename","href","decodeURIComponent","parentNode","removeChild","window","PdfElement","SchemaBehaviors","PolymerElement","html","type","String","reflectToAttribute","elevation","Number","value","downloadable","Boolean","showFileName","showSpinner","canScale","canPosition","canEditSource","gizmo","descrption","icon","color","groups","handles","url","source","meta","author","settings","quick","property","description","inputMethod","required","configure","advanced","_initializeReader","_setFitWidth","fileName","shadowRoot","name","fromChange","sideBar","parseInt","blur","currentInstance","marginLeft","visibility","customElements","define","tag"],"mappings":"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"}