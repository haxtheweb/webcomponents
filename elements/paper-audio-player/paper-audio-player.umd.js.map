{"version":3,"file":"paper-audio-player.umd.js","sources":["lib/paper-audio-icons.js","paper-audio-player.umd.js"],"sourcesContent":["import \"@polymer/iron-icon/iron-icon.js\";\nimport \"@polymer/iron-iconset-svg/iron-iconset-svg.js\";\nvar $_documentContainer = document.createElement(\"div\");\n$_documentContainer.setAttribute(\"style\", \"display: none;\");\n\n$_documentContainer.innerHTML = `<iron-iconset-svg name=\"paper-audio-icons\" size=\"24\">\n    <svg>\n        <defs>\n            <g id=\"error-outline\"><path d=\"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"></path></g>\n            <g id=\"play-arrow\"><path d=\"M8 5v14l11-7z\"></path></g>\n            <g id=\"replay\"><path d=\"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"></path></g>\n            <g id=\"pause\"><path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"></path></g>\n        </defs>\n    </svg>\n</iron-iconset-svg>`;\n\ndocument.head.appendChild($_documentContainer);\n","import { html } from \"@polymer/polymer/polymer-element.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { IronA11yKeysBehavior } from \"@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js\";\nimport { mixinBehaviors } from \"@polymer/polymer/lib/legacy/class.js\";\nimport \"@polymer/paper-progress/paper-progress.js\";\nimport \"@polymer/iron-icon/iron-icon.js\";\nimport \"@polymer/paper-icon-button/paper-icon-button.js\";\nimport { SimpleColorsPolymer } from \"@lrnwebcomponents/simple-colors/lib/simple-colors-polymer.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport \"@polymer/iron-iconset-svg/iron-iconset-svg.js\";\nimport \"./lib/paper-audio-icons.js\";\n/**\nA custom audio player with material paper style and clean design.\n\nExample:\n\n    <paper-audio-player src=\"audio.mp3\"></paper-audio-player>\n\n### Styling the player:\n\nThis player has an accent color, and you have two option to modify it:\n\n- **Option 1**: Using the *color property* on element. This one is handy if you need to modify the color dynamically.\n\n\n    <paper-audio-player color=\"#F05C38\" src=\"audio.mp3\"></paper-audio-player>\n\n\n- **Option 2**: Using the *custom CSS property*:\n\n\n\n    paper-audio-player {\n       --paper-audio-player-color: #e91e63;\n    }\n\nThe following mixins are available for styling:\n\nCustom property                             | Description                                 | Default\n--------------------------------------------|---------------------------------------------|----------\n--paper-audio-player-color                  | Color of the element                        | blueviolet\n\n@element paper-audio-player\n* @demo demo/index.html\n*/\nclass PaperAudioPlayer extends mixinBehaviors(\n  [IronA11yKeysBehavior],\n  SchemaBehaviors(SimpleColorsPolymer)\n) {\n  static get template() {\n    return html`\n      <style include=\"simple-colors-shared-styles-polymer\">\n        :host {\n          display: block;\n          box-sizing: border-box;\n          font-family: var(\n            --paper-audio-player-font-family,\n            \"Roboto\",\n            \"Noto\",\n            sans-serif\n          );\n          --paper-audio-player-color: var(\n            --simple-colors-default-theme-accent-9\n          );\n          --paper-audio-player-text-color: var(\n            --simple-colors-default-theme-grey-1\n          );\n          --paper-audio-player-shadow: var(\n            --simple-colors-default-theme-grey-2\n          );\n          --paper-audio-player-background: var(\n            --simple-colors-default-theme-grey-1\n          );\n          background-color: var(--paper-audio-player-background);\n        }\n        #wrapper {\n          position: relative;\n          cursor: pointer;\n          height: 50px;\n          box-shadow: 0 1px 2px var(--paper-audio-player-shadow);\n        }\n        #left,\n        #center {\n          border-right: 1px solid var(--paper-audio-player-shadow);\n        }\n        #left,\n        #right {\n          height: 50px;\n          width: 50px;\n          position: relative;\n        }\n\n        #left {\n          opacity: 0.8;\n          background-color: var(--paper-audio-player-color);\n          transition: opacity 0.25s;\n        }\n        #left:focus,\n        #left:hover {\n          opacity: 1;\n        }\n\n        #right {\n          background-color: var(--paper-audio-player-background);\n        }\n\n        paper-icon-button,\n        iron-icon {\n          color: var(--paper-audio-player-text-color);\n        }\n\n        #duration,\n        #title,\n        #progress2 {\n          text-align: center;\n          line-height: 50px;\n        }\n\n        #duration {\n          font-size: 11px;\n          color: var(--paper-audio-player-color);\n        }\n\n        paper-icon-button,\n        iron-icon {\n          margin: auto;\n        }\n\n        #replay {\n          opacity: 0;\n          color: var(--paper-audio-player-color);\n        }\n\n        #title,\n        #progress2 {\n          pointer-events: none;\n          font-size: 15px;\n        }\n\n        #title {\n          z-index: 2;\n          color: var(--paper-audio-player-color);\n        }\n\n        #progress2 {\n          width: 0px;\n          z-index: 5;\n          color: var(--paper-audio-player-text-color);\n          overflow: hidden;\n        }\n\n        #center {\n          position: relative;\n          overflow: hidden;\n          background-color: var(--paper-audio-player-background);\n        }\n\n        #progress {\n          width: 100%;\n          transform-origin: left;\n          transform: scaleX(0);\n          background-color: var(--paper-audio-player-color);\n        }\n\n        /* On hover */\n\n        :host(:not(.cantplay)) #right:hover #replay {\n          opacity: 1;\n        }\n\n        #right:hover #duration {\n          opacity: 0;\n        }\n\n        #left:hover #play,\n        #left:hover #pause {\n          transform: scale3d(1.1, 1.1, 1.1);\n          -ms-transform: scale3d(1.1, 1.1, 1.1);\n          -webkit-transform: scale3d(1.1, 1.1, 1.1);\n        }\n\n        /* On Error */\n\n        :host(.cantplay) #title {\n          font-size: 12px;\n        }\n\n        :host(.cantplay) #wrapper {\n          cursor: default;\n        }\n\n        :host(.cantplay) #play {\n          opacity: 0;\n        }\n\n        /* Flexbox Helpers */\n\n        .layout-horizontal {\n          display: flex;\n          display: -webkit-flex;\n          display: -ms-flexbox;\n          -ms-flex-direction: row;\n          -webkit-flex-direction: row;\n          flex-direction: row;\n        }\n\n        .flex {\n          -ms-flex: 1;\n          -webkit-flex: 1;\n          flex: 1;\n        }\n\n        .fit {\n          position: absolute;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          left: 0;\n        }\n\n        .self-start {\n          -ms-align-self: flex-start;\n          -webkit-align-self: flex-start;\n          align-self: flex-start;\n        }\n\n        .self-end {\n          -ms-align-self: flex-end;\n          -webkit-align-self: flex-end;\n          align-self: flex-end;\n        }\n      </style>\n      <div id=\"wrapper\" class=\"layout-horizontal\">\n        <div id=\"left\" class=\"self-start\" on-click=\"playPause\">\n          <!-- Icon -->\n          <paper-icon-button\n            id=\"play\"\n            icon=\"paper-audio-icons:play-arrow\"\n            class=\"fit\"\n            hidden$=\"[[ _hidePlayIcon(isPlaying, canBePlayed) ]]\"\n            role=\"button\"\n            aria-label=\"Play Audio\"\n            tabindex=\"-1\"\n          ></paper-icon-button>\n          <paper-icon-button\n            id=\"pause\"\n            icon=\"paper-audio-icons:pause\"\n            class=\"fit\"\n            hidden$=\"[[ !isPlaying ]]\"\n            role=\"button\"\n            aria-label=\"Pause Audio\"\n            tabindex=\"-1\"\n          ></paper-icon-button>\n          <iron-icon\n            id=\"error\"\n            icon=\"paper-audio-icons:error-outline\"\n            class=\"fit\"\n            hidden$=\"[[ !error ]]\"\n          ></iron-icon>\n        </div>\n        <div id=\"center\" class=\"flex\" on-down=\"_onDown\">\n          <!-- Title -->\n          <div id=\"title\" class=\"fit\" role=\"alert\">[[title]]</div>\n          <!-- Audio HTML5 element -->\n          <audio\n            id=\"audio\"\n            src$=\"[[src]]\"\n            preload$=\"[[ _setPreload(autoPlay, preload) ]]\"\n          ></audio>\n          <!-- Progress bar -->\n          <div id=\"progress\" class=\"fit\"></div>\n          <!-- Secondary white title -->\n          <div id=\"progress2\" class=\"fit\">\n            <div id=\"title2\" aria-hidden=\"true\">[[title]]</div>\n          </div>\n        </div>\n        <div id=\"right\" class=\"self-end\" on-click=\"restart\">\n          <!-- Duration -->\n          <div id=\"duration\" class=\"fit\" hidden\\$=\"[[ended]]\">\n            <span class=\"fit\" role=\"timer\" aria-label=\"Audio Track Length\"\n              >[[ _convertSecToMin(timeLeft) ]]</span\n            >\n          </div>\n          <!-- Icon -->\n          <paper-icon-button\n            id=\"replay\"\n            class=\"fit\"\n            icon=\"paper-audio-icons:replay\"\n            tabindex=\"-1\"\n            role=\"button\"\n            aria-label=\"Replay Audio\"\n          ></paper-icon-button>\n        </div>\n      </div>\n    `;\n  }\n\n  static get tag() {\n    return \"paper-audio-player\";\n  }\n  // Define public properties\n  static get properties() {\n    return {\n      ...super.properties,\n\n      src: {\n        type: String,\n        observer: \"_srcChanged\"\n      },\n      title: {\n        type: String,\n        value: \"Click to play this audio file\"\n      },\n      autoPlay: {\n        type: Boolean,\n        value: false\n      },\n      preload: {\n        type: String,\n        value: \"auto\"\n      },\n      currentTime: {\n        type: Number,\n        value: 0,\n        notify: true\n      },\n      timeLeft: {\n        type: Number,\n        value: 0\n      },\n      smallSkip: {\n        type: Number,\n        value: 15\n      },\n      largeSkip: {\n        type: Number,\n        value: 60\n      },\n      error: {\n        type: Boolean\n      },\n      timeOffset: {\n        type: Number,\n        value: 0\n      }\n    };\n  }\n\n  static get keyBindings() {\n    return {\n      space: \"playPause\",\n      enter: \"playPause\",\n      left: \"_skipReverseByInterval\",\n      right: \"_skipReverseByInterval\",\n      down: \"_skipReverseByInterval\",\n      up: \"_skipReverseByInterval\"\n    };\n  }\n  static get haxProperties() {\n    return {\n      canScale: true,\n      canPosition: true,\n      canEditSource: false,\n      gizmo: {\n        title: \"Mini Audio player\",\n        description: \"A very small audio player good for MP3s.\",\n        icon: \"image:music-note\",\n        color: \"green\",\n        groups: [\"Audio\", \"Media\"],\n        handles: [\n          {\n            type: \"audio\",\n            source: \"src\",\n            title: \"title\",\n            color: \"color\"\n          }\n        ],\n        meta: {\n          author: \"ELMS:LN\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"src\",\n            title: \"Source\",\n            description: \"The URL for this audio file.\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            required: true,\n            validationType: \"url\"\n          },\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"Title of this sound track.\",\n            inputMethod: \"textfield\",\n            icon: \"av:video-label\",\n            required: false,\n            validationType: \"text\"\n          },\n          {\n            property: \"accentColor\",\n            title: \"Accent color\",\n            description: \"Select the accent color use\",\n            inputMethod: \"colorpicker\",\n            icon: \"editor:format-color-fill\"\n          },\n          {\n            property: \"dark\",\n            title: \"Dark\",\n            description: \"Use dark theme\",\n            inputMethod: \"boolean\",\n            icon: \"invert-colors\"\n          }\n        ],\n        configure: [\n          {\n            property: \"src\",\n            title: \"Source\",\n            description: \"The URL for this audio file.\",\n            inputMethod: \"haxupload\",\n            icon: \"link\",\n            required: true,\n            validationType: \"url\"\n          },\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"Title of this sound track.\",\n            inputMethod: \"textfield\",\n            icon: \"av:video-label\",\n            required: false,\n            validationType: \"text\"\n          },\n          {\n            property: \"accentColor\",\n            title: \"Accent color\",\n            description: \"Select the accent color use\",\n            inputMethod: \"colorpicker\",\n            icon: \"editor:format-color-fill\"\n          },\n          {\n            property: \"dark\",\n            title: \"Dark\",\n            description: \"Use dark theme\",\n            inputMethod: \"boolean\",\n            icon: \"invert-colors\"\n          }\n        ],\n        advanced: []\n      }\n    };\n  }\n  /**\n   * attached life cycle\n   */\n  connectedCallback() {\n    super.connectedCallback();\n    afterNextRender(this, function() {\n      this.shadowRoot\n        .querySelector(\"#audio\")\n        .addEventListener(\"loadedmetadata\", this._onCanPlay.bind(this));\n      this.shadowRoot\n        .querySelector(\"#audio\")\n        .addEventListener(\"playing\", this._onPlaying.bind(this));\n      this.shadowRoot\n        .querySelector(\"#audio\")\n        .addEventListener(\"pause\", this._onPause.bind(this));\n      this.shadowRoot\n        .querySelector(\"#audio\")\n        .addEventListener(\"ended\", this._onEnd.bind(this));\n      this.shadowRoot\n        .querySelector(\"#audio\")\n        .addEventListener(\"error\", this._onError.bind(this));\n    });\n    this.setAttribute(\"tabindex\", \"0\");\n    this.setAttribute(\"role\", \"application\");\n    this.setAttribute(\"aria-label\", \"Audio Player\");\n    this.setAttribute(\"aria-describedby\", \"title\");\n  }\n  /**\n   * detached life cycle\n   */\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.shadowRoot\n      .querySelector(\"#audio\")\n      .removeEventListener(\"loadedmetadata\", this._onCanPlay.bind(this));\n    this.shadowRoot\n      .querySelector(\"#audio\")\n      .removeEventListener(\"playing\", this._onPlaying.bind(this));\n    this.shadowRoot\n      .querySelector(\"#audio\")\n      .removeEventListener(\"pause\", this._onPause.bind(this));\n    this.shadowRoot\n      .querySelector(\"#audio\")\n      .removeEventListener(\"ended\", this._onEnd.bind(this));\n    this.shadowRoot\n      .querySelector(\"#audio\")\n      .removeEventListener(\"error\", this._onError.bind(this));\n  }\n  /**\n   * ready life cycle\n   */\n  ready() {\n    super.ready();\n    var player = this;\n    // create Player defaults\n    player.canBePlayed = false;\n    player.isPlaying = false;\n    player.ended = false;\n    player.error = false;\n    player.shadowRoot.querySelector(\"#audio\").currentTime = player.timeOffset; // apply the audio start time property\n  }\n  // Play/Pause controls\n  playPause(e) {\n    if (!!e) e.preventDefault();\n    var player = this;\n\n    if (player.canBePlayed) {\n      if (player.isPlaying) {\n        player._pause();\n      } else {\n        player._play();\n      }\n    } else if (player.preload === \"none\") {\n      // If player can't be played, because audio wasn't pre-loaded\n      // due to the preload=\"none\" property set,\n      // load the audio file at this point and start playing it immediately\n      player.shadowRoot.querySelector(\"#audio\").load();\n      player._play();\n    }\n  }\n  _play() {\n    var player = this;\n    player.shadowRoot.querySelector(\"#audio\").play();\n  }\n  _pause() {\n    var player = this;\n    player.shadowRoot.querySelector(\"#audio\").pause();\n  }\n  //\n  // Restart audio\n  restart(e) {\n    if (!!e) e.preventDefault();\n    var player = this;\n    player.shadowRoot.querySelector(\"#audio\").currentTime = 0;\n    if (!player.isPlaying) player._play();\n  }\n  // when audio file can be played in user's browser\n  _onCanPlay() {\n    var player = this;\n    player.canBePlayed = true;\n    player.timeLeft = player.shadowRoot.querySelector(\"#audio\").duration;\n\n    // If player has a Time Offset specified\n    // style the progress bar and title accordingly\n    if (player.timeOffset > 0) {\n      var percentagePlayed =\n        player.timeOffset / player.shadowRoot.querySelector(\"#audio\").duration;\n      player._updateVisualProgress(percentagePlayed);\n    }\n\n    // If player has auto-play attribute set,\n    // it ignores preload=\"none\" property and starts playing on load.\n    // This behavior corresponds to the native audio element behavior.\n    if (player.autoPlay) player._play();\n  }\n\n  // when Player starts playing\n\n  _onPlaying() {\n    var player = this;\n    player.ended = false;\n    player.isPlaying = true;\n    player.shadowRoot.querySelector(\"#replay\").style = \"\"; // remove Replay inline styling\n    player._startProgressTimer();\n  }\n  // Skip or reverse by pre-defined intervals\n  _skipReverseByInterval(e) {\n    if (!!e) e.preventDefault();\n\n    var player = this,\n      newTime = 0;\n\n    switch (e.detail.key) {\n      case \"up\":\n        if (player.largeSkip < player.timeLeft)\n          newTime = player.currentTime + player.largeSkip;\n        break;\n      case \"down\":\n        if (player.currentTime - player.largeSkip > 0)\n          newTime = player.currentTime - player.largeSkip;\n        break;\n      case \"right\":\n        if (player.smallSkip < player.timeLeft)\n          newTime = player.currentTime + player.smallSkip;\n        break;\n      default:\n        if (player.currentTime - player.smallSkip > 0)\n          newTime = player.currentTime - player.smallSkip;\n    }\n\n    player._updatePlayPosition(newTime);\n    if (!player.isPlaying) player._play();\n  }\n\n  // starts Timer\n\n  _startProgressTimer() {\n    var player = this;\n    player.timer = {};\n\n    if (player.timer.sliderUpdateInterval) {\n      clearInterval(player.timer.sliderUpdateInterval);\n    }\n\n    player.timer.sliderUpdateInterval = setInterval(function() {\n      if (player.isPlaying) {\n        player.currentTime = player.shadowRoot.querySelector(\n          \"#audio\"\n        ).currentTime;\n        player.timeLeft =\n          player.shadowRoot.querySelector(\"#audio\").duration -\n          player.currentTime;\n\n        var percentagePlayed =\n          player.currentTime /\n          player.shadowRoot.querySelector(\"#audio\").duration;\n        player._updateVisualProgress(percentagePlayed);\n      } else {\n        clearInterval(player.timer.sliderUpdateInterval);\n      }\n    }, 60);\n  }\n\n  // when Player is paused\n\n  _onPause() {\n    var player = this;\n    player.isPlaying = false;\n  }\n\n  // when Player ended playing an audio file\n\n  _onEnd() {\n    var player = this;\n    player.ended = true;\n    player.isPlaying = false;\n    player.shadowRoot.querySelector(\"#replay\").style.opacity = 1; // display Replay icon\n  }\n\n  // on file load error\n\n  _onError() {\n    var player = this;\n    player.classList.add(\"cantplay\");\n    player.title = \"Sorry, can't play track: \" + player.title;\n    player.error = true;\n    player.setAttribute(\"aria-invalid\", \"true\");\n  }\n\n  // to convert seconds to 'm:ss' format\n\n  _convertSecToMin(seconds) {\n    if (seconds === 0) return \"\";\n\n    var minutes = Math.floor(seconds / 60);\n    var secondsToCalc = Math.floor(seconds % 60) + \"\";\n    return (\n      minutes +\n      \":\" +\n      (secondsToCalc.length < 2 ? \"0\" + secondsToCalc : secondsToCalc)\n    );\n  }\n\n  //\n  // When user clicks somewhere on the progress bar\n\n  _onDown(e) {\n    e.preventDefault();\n    var player = this;\n\n    if (player.canBePlayed) {\n      player._updateProgressBar(e);\n      if (!player.isPlaying) {\n        player._play();\n      }\n      // When preload=\"none\" is being used,\n      // player should first try to load the audio,\n      // and when it's successfully loaded, recalculate the progress bar\n    } else if (player.preload === \"none\") {\n      player.shadowRoot.querySelector(\"#audio\").load();\n      player.shadowRoot.querySelector(\"#audio\").addEventListener(\n        \"loadedmetadata\",\n        function() {\n          player._updateProgressBar(e);\n          if (!player.isPlaying) {\n            player._play();\n          }\n        },\n        false\n      );\n    }\n  }\n\n  //\n  // Helper function\n  // that recalculates the progress bar position\n  // based on the event.click position\n\n  _updateProgressBar(e) {\n    var player = this;\n\n    var x =\n      e.detail.x -\n      player.shadowRoot.querySelector(\"#center\").getBoundingClientRect().left;\n    var r =\n      (x /\n        player.shadowRoot.querySelector(\"#center\").getBoundingClientRect()\n          .width) *\n      player.shadowRoot.querySelector(\"#audio\").duration;\n\n    this._updatePlayPosition(r);\n  }\n\n  //\n  // Helper function\n  // updates the current time based on a time variable\n\n  _updatePlayPosition(newTime) {\n    var player = this;\n    player.currentTime = player.shadowRoot.querySelector(\n      \"#audio\"\n    ).currentTime = newTime;\n\n    var percentagePlayed =\n      player.currentTime / player.shadowRoot.querySelector(\"#audio\").duration;\n    player._updateVisualProgress(percentagePlayed);\n  }\n\n  //\n  // Helper function\n  // updates the progress bar based on a percentage played\n\n  _updateVisualProgress(percentagePlayed) {\n    var player = this;\n\n    player.shadowRoot.querySelector(\"#progress\").style.transform =\n      \"scaleX(\" + percentagePlayed + \")\";\n    player.shadowRoot.querySelector(\"#progress2\").style.width =\n      percentagePlayed * 100 + \"%\";\n    player.shadowRoot.querySelector(\"#title2\").style.width =\n      (1 / percentagePlayed) * 100 + \"%\";\n  }\n\n  //\n  // If src is changed when track is playing,\n  // pause the track and start playing a new src\n\n  _srcChanged(newValue, oldValue) {\n    var player = this;\n\n    if (player.isPlaying) {\n      player._pause();\n      player._play();\n    }\n  }\n\n  //\n  // If color property is changed,\n  // update all the nodes with the new accent color\n\n  _changeColor(newValue) {\n    var player = this;\n    player.shadowRoot.querySelector(\"#left\").style.backgroundColor = newValue;\n    player.shadowRoot.querySelector(\"#title\").style.color = newValue;\n    player.shadowRoot.querySelector(\"#duration\").style.color = newValue;\n    player.shadowRoot.querySelector(\n      \"#progress\"\n    ).style.backgroundColor = newValue;\n    player.shadowRoot.querySelector(\"#replay\").style.color = newValue;\n  }\n\n  _hidePlayIcon(isPlaying, canBePlayed) {\n    return isPlaying ? true : !(canBePlayed || this.preload === \"none\");\n  }\n\n  _setPreload(autoplay, preload) {\n    return autoplay ? \"auto\" : preload;\n  }\n}\nwindow.customElements.define(PaperAudioPlayer.tag, PaperAudioPlayer);\nexport { PaperAudioPlayer };\n"],"names":["$_documentContainer","document","createElement","setAttribute","innerHTML","head","appendChild","PaperAudioPlayer","mixinBehaviors","IronA11yKeysBehavior","SchemaBehaviors","SimpleColorsPolymer","html","src","type","String","observer","title","value","autoPlay","Boolean","preload","currentTime","Number","notify","timeLeft","smallSkip","largeSkip","error","timeOffset","space","enter","left","right","down","up","canScale","canPosition","canEditSource","gizmo","description","icon","color","groups","handles","source","meta","author","settings","quick","property","inputMethod","required","validationType","configure","advanced","afterNextRender","this","shadowRoot","querySelector","addEventListener","_onCanPlay","bind","_onPlaying","_onPause","_onEnd","_onError","removeEventListener","canBePlayed","isPlaying","ended","e","preventDefault","_pause","_play","load","play","pause","duration","percentagePlayed","_updateVisualProgress","style","_startProgressTimer","newTime","detail","key","_updatePlayPosition","player","timer","sliderUpdateInterval","clearInterval","setInterval","opacity","classList","add","seconds","minutes","Math","floor","secondsToCalc","length","_updateProgressBar","r","x","getBoundingClientRect","width","transform","newValue","oldValue","backgroundColor","autoplay","window","customElements","define","tag"],"mappings":"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"}