!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@polymer/polymer/polymer-legacy.js"),require("@lrnwebcomponents/es-global-bridge/es-global-bridge.js"),require("@polymer/polymer/lib/utils/resolve-url.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-legacy.js","@lrnwebcomponents/es-global-bridge/es-global-bridge.js","@polymer/polymer/lib/utils/resolve-url.js"],t):t(e.ChartistRender={},e.polymerLegacy_js,null,e.resolveUrl_js)}(this,function(e,t,r,a){"use strict";function i(){var e,t,r=(e=['\n    <style>\n      :host {\n        display: block;\n      }\n    </style>\n    <div id="chart" chart$="[[__chartId]]" class$="ct-chart [[scale]]"></div>\n'],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return i=function(){return r},r}var s=t.Polymer({_template:t.html(i()),is:"chartist-render",listeners:{tap:"makeChart"},properties:{id:{type:String,value:"chart"},type:{type:String,value:"bar"},scale:{type:String,observer:"makeChart"},chartTitle:{type:String,value:null,observer:"makeChart"},chartDesc:{type:String,value:"",observer:"makeChart"},data:{type:Object,value:null,observer:"makeChart"},options:{type:Object,value:null,observer:"makeChart"},responsiveOptions:{type:Array,value:[],observer:"makeChart"},showTable:{type:Boolean,value:!1,observer:"makeChart"}},created:function(){var e=a.pathFromUrl("undefined"!=typeof document?document.currentScript&&document.currentScript.src||document.baseURI:new("undefined"!=typeof URL?URL:require("url").URL)("file:"+__filename).href),t="".concat(e,"lib/chartist/dist/chartist.min.js");window.addEventListener("es-bridge-".concat("chartist","-loaded"),this._chartistLoaded.bind(this)),window.ESGlobalBridge.requestAvailability(),window.ESGlobalBridge.instance.load("chartist",t)},_chartistLoaded:function(){this.__chartistLoaded=!0,this.__chartId&&this._chartReady()},attached:function(){this.__chartId=this._getUniqueId("chartist-render-"),this.__chartistLoaded&&this._chartReady()},_checkReady:function(){setInterval(this._chartReady,500)},_chartReady:function(){null!==this.$.chart&&(this.fire("chartist-render-ready",this),null!==this.data&&this.makeChart(),clearInterval(this._checkReady))},makeChart:function(){var e,t=this;return this.__chartistLoaded&&this.__chartId&&null!==t.data&&null!==this.$.chart?("bar"==t.type?e=Chartist.Bar(this.$.chart,t.data,t.options,t.responsiveOptions):"line"==t.type?e=Chartist.Line(this.$.chart,t.data,t.options,t.responsiveOptions):"pie"==t.type&&(e=Chartist.Pie(this.$.chart,t.data,t.options,t.responsiveOptions)),t.fire("chartist-render-draw",e),e.on("created",function(){t.addA11yFeatures(e.container.childNodes[0])}),e):null},addA11yFeatures:function(e){var t=void 0!==this.data.labels&&null!==this.data.labels?this.chartDesc+this.makeA11yTable(e):this.chartDesc;this._addA11yFeature(e,"desc",t),this._addA11yFeature(e,"title",this.chartTitle),e.setAttribute("aria-labelledby",this.__chartId+"-chart-title "+this.__chartId+"-chart-desc")},makeA11yTable:function(e){for(var t=['<table summary="Each column is a series of data, and the first column is the data label.">',"<caption>"+(null!==this.chartTitle?this.chartTitle:"A "+this.type+" chart.")+"</caption>","<tbody>"],r=0;r<this.data.labels.length;r++){if(t.push('<tr><th scope="row">'+this.data.labels[r]+"</th>"),"pie"==this.type)t.push("<td>"+this.data.series[r]+"</td>");else for(var a=0;a<this.data.series.length;a++)t.push("<td>"+this.data.series[a][r]+"</td>");t.push("</tr>")}return t.push("</tbody></table>"),t.join("")},_addA11yFeature:function(e,t,r){var a=document.createElement(t),i=e.childNodes[0];a.innerHTML=r,a.setAttribute("id",this.__chartId+"-chart-"+t),e.insertBefore(a,i)},_getUniqueId:function(e){return e+Date.now()}});e.ChartistRender=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=chartist-render.umd.js.map
