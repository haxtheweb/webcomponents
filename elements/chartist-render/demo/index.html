<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
    <title>LrndesignChart: lrndesign-chart Demo</title>
    
    <script src="../../../node_modules/@haxtheweb/deduping-fix/deduping-fix.js"></script>
    <script type="module">
      import "@haxtheweb/utils/lib/demo-snippet.js";
      import '../chartist-render.js';
    </script>
    <style is="custom-style" include="demo-pages-shared-styles">
      chartist-render[type=pie] {
          width: 300px;
      }  
    </style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h1>Basic chartist-render demo</h1>
      <p>Basic charts using progressive enhancement. See <a href="./csv.html">chartist-render from CSV demo</a> to load data from a CSV.absolute</p>
      <h2>Basic pie chart</h2>
      <demo-snippet>
        <style>
        </style>
        <template>
          <chartist-render id="pie-chart" 
            type="pie"
            scale="ct-square">
            <h3 slot="heading">A pie chart of favorite pies (chart)</h3>
            <table>
              <caption>A pie chart of favorite pies (table)</caption>
              <thead>
                <tr>
                  <th scope="col">Key Lime</th>
                  <th scope="col">Lemon Merangue</th>
                  <th scope="col">Apple</th>
                  <th scope="col">Pumpkin</th>
                  <th scope="col">Cherry</th>
                  <th scope="col">Pecan</th>
                </tr></thead>
              <tbody>
                <tr><td>23</td><td>15</td><td>40</td><td>30</td><td>12</td><td>20</td></tr>
              </tbody>
            </table>
          </chartist-render>
        </template>
      </demo-snippet>
      <h2>Basic donut chart</h2>
      <demo-snippet>
        <template>
          <chartist-render id="donut-chart" 
            type="pie"
            scale="ct-square">
            <h3 slot="heading">A donut chart of favorite donuts (chart)</h3>
            <table>
              <caption>A donut chart of favorite donuts (table)</caption>
              <thead>
                <tr><th scope="col">Boston Cream</th><th scope="col">Glazed</th><th scope="col">Jelly Filled</th></tr></thead>
              <tbody>
                <tr><td>20</td><td>15</td><td>40</td></tr>
              </tbody>
            </table>
          </chartist-render>
          <script>
            document.getElementById('donut-chart').pluginFillDonutItems = [{
                content: '<img style="width:60%" class="donut-img" src="https://c0.wallpaperflare.com/preview/66/1023/608/delicious-donut-doughnut-food.jpg"/>',
                position: 'center',
                offsetY : -35,
                offsetX: -60
            }];
            document.getElementById('donut-chart').
            options = {
              donut: true,
              donutSolid: true
            };
          </script>
        </template>
      </demo-snippet>
      <h2>Line chart with options and scale set</h2>
      <demo-snippet>
        <template>
          <chartist-render id="line-chart" 
            options='{"fullWidth": true, "low": 0}' 
            scale="ct-quarter"
            type="line"
            x-axis-label="Quarter"
            y-axis-label="Sales in thousands">
            <h3 slot="heading">Sales by Quarter (chart)</h3>
            <p slot="desc">A bar graph of sales by quarter. Each series is a salesperson.</p>
            <table>
              <caption>Sales by Quarter (table)</caption>
              <thead>
                <tr>
                  <th scope="row">Quarter</th>
                  <th scope="col">Q1 2018</th>
                  <th scope="col">Q2 2018</th>
                  <th scope="col">Q3 2018</th>
                  <th scope="col">Q4 2018</th>
                  <th scope="col">Q1 2019</th>
                  <th scope="col">Q2 2019</th>
                  <th scope="col">Q3 2019</th>
                  <th scope="col">Q4 2019</th>
                </tr>
              </thead>
              <tbody>
                <tr><th scope="row">Northeast</th><td>5</td><td>4</td><td>3</td><td>7</td><td>8</td><td>11</td><td>9</td><td>5</td></tr>
                <tr><th scope="row">Southeast</th><td>3</td><td>2</td><td>9</td><td>5</td><td>6</td><td>4</td><td>8</td><td>4</td></tr>
                <tr><th scope="row">Midatlantic</th><td>1</td><td>5</td><td>8</td><td>4</td><td>7</td><td>6</td><td>8</td><td>5</td></tr>
                <tr><th scope="row">Midwest</th><td>2</td><td>3</td><td>4</td><td>6</td><td>4</td><td>2</td><td>4</td><td>3</td></tr>
                <tr><th scope="row">West</th><td>4</td><td>1</td><td>2</td><td>1</td><td>0</td><td>null</td><td>3</td><td>0</td></tr>
              </tbody>
            </table>
          </chartist-render>
        </template>
      </demo-snippet>
      <h2>Bar chart with dynamically added options and data</h2>
      <demo-snippet>
        <template>
          <style>
            table { 
              border-radius: 2px; 
            }
            th, td {
              border: 1px solid var(--chartist-text-color, #000);
              text-align: right;
              padding: 2px 5px;
            }
          </style>
          <chartist-render id="bar-chart" 
            on-chartist-render-ready="makeBar()"
            scale="ct-major-twelfth"
            show-table
            type="bar" 
            x-axis-label="Quarter"
            y-axis-label="Sales in thousands">
            <h3 slot="heading">Sales by Quarter (chart)</h3>
            <p slot="desc">A bar graph of sales by quarter. Each series is a salesperson.</p>
            <table>
              <caption>Sales by Quarter (table)</caption>
              <thead>
                <tr>
                  <th scope="col">Quarter 1</th>
                  <th scope="col">Quarter 2</th>
                  <th scope="col">Quarter 3</th>
                  <th scope="col">Quarter 4</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>5</td><td>4</td><td>3</td><td>7</td></tr>
                <tr><td>3</td><td>2</td><td>9</td><td>5</td></tr>
                <tr><td>1</td><td>5</td><td>8</td><td>4</td></tr>
                <tr><td>2</td><td>3</td><td>4</td><td>6</td></tr>
                <tr><td>4</td><td>1</td><td>2</td><td>1</td></tr>
              </tbody>
            </table>
          </chartist-render>
          <script>
            var baroptions = {
              "barWidth": '30px',
              "axisX": {
                "labelInterpolationFnc": function(value) {
                  return value.split(/\s+/).map(function(word) {
                    return word[0];
                  }).join('');
                }
              },
              "axisY": { "offset": 20 }
            };
            document.getElementById('bar-chart').options = baroptions;
            let makeBar = function(){
              var barresponsive = [
                ["screen and (min-width: 400px)", {
                  "reverseData": true,
                  "horizontalBars": true,
                  "axisX": { "labelInterpolationFnc": Chartist.noop },
                  "axisY": { "offset": 60 }
                }],
                ["screen and (min-width: 800px)", {
                  "stackBars": false,
                  "seriesBarDistance": 10
                }],
                ["screen and (min-width: 1000px)", {
                  "reverseData": false,
                  "horizontalBars": false,
                  "seriesBarDistance": 15
                }]
              ];
              document.getElementById('bar-chart').responsiveOptions = barresponsive;
              document.getElementById('bar-chart').makeChart();
            }
          </script>
        </template>
      </demo-snippet>
    </div>
  </body>
</html>
