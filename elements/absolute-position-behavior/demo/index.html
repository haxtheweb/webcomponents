<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
    <title>AbsolutePositionBehavior: absolute-position-behavior Demo</title>
    
    <script src="../../../node_modules/@haxtheweb/deduping-fix/deduping-fix.js"></script>

    <script type="module">
      
      import "@haxtheweb/utils/lib/demo-snippet.js";
      import '../absolute-position-behavior.js';
    </script>
    <style is="custom-style" include="demo-pages-shared-styles"></style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Basic absolute-position-behavior demo</h3>
      <demo-snippet>
        <template>
          <button id="button">Set p position.</button>
          <div contenteditable="true">
            <p id="p1">
              Aenean eget nisl volutpat, molestie purus eget, bibendum metus. 
              Pellentesque magna velit, tincidunt quis pharetra id, gravida 
              placerat erat. <em id="em">Maecenas</em> 
              id dui pretium risus pulvinar feugiat 
              vel nec leo. Praesent non congue tellus. Suspendisse ac tincidunt 
              purus. Donec eu dui a metus vehicula bibendum sed nec tortor. 
              Nunc convallis justo sed nibh consectetur, at pharetra nulla 
              accumsan.
            </p>
            <p id="p2">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
              Quisque porta, dolor at pharetra condimentum, elit tellus 
              scelerisque lacus, ut placerat lectus quam in massa. 
              Donec sit amet sapien vitae nibh ultricies hendrerit sit 
              amet dignissim justo. Orci varius 
              <strong id="strong">natoque</strong> penatibus et 
              magnis dis parturient montes, nascetur ridiculus mus. 
              Vivamus volutpat sem leo, sed porttitor elit convallis at. 
              Quisque vel consequat risus. Fusce auctor nibh vitae 
              leo bibendum faucibus. Etiam aliquam neque sit amet maximus 
              lacinia. Duis ut libero eget augue egestas suscipit. 
            </p>
            <absolute-position-behavior for="em" auto fit-to-visible-bounds>
              <div class="box">I'm automatically positioned below the &lt;em/&gt;</div>
            </absolute-position-behavior>
            <absolute-position-behavior for="strong" auto fit-to-visible-bounds position="left">
              <div class="box">I'm automatically positioned next to &lt;strong/&gt;</div>
            </absolute-position-behavior>
            <absolute-position-behavior id="abs" for="p2" fit-to-visible-bounds position="top">
              <div class="box">I can be manually positioned above the second &lt;p/&gt;</div>
            </absolute-position-behavior>
            <absolute-position-behavior auto for="p1" position="top" sticky>
              <div class="box">I'm sticky and positioned above the first &lt;p/&gt;</div>
            </absolute-position-behavior>
            <absolute-position-behavior auto for="p2" position="bottom" sticky>
              <div class="box">I'm sticky and positioned below the second &lt;p/&gt;</div>
            </absolute-position-behavior>
          </div>
          <style>
            .box {
              border: 1px solid black;
              padding: 5px;
              background-color: white;
              box-shadow: 0px 1px 1px #444;
            }
          </style>
          <script>
            document.getElementById('button').onclick = () => {
              document.getElementById('abs').updatePosition();
            }
          </script>
        </template>
      </demo-snippet>
    </div>
  </body>
</html>
