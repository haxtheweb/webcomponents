!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("lit-element"),require("lit-element/lit-element.js"),require("@lrnwebcomponents/simple-colors/simple-colors.js"),require("@lrnwebcomponents/simple-icon/simple-icon.js"),require("@lrnwebcomponents/simple-icon/lib/simple-icons.js"),require("@lrnwebcomponents/simple-tooltip/simple-tooltip.js"),require("@lrnwebcomponents/responsive-utility/responsive-utility.js"),require("@lrnwebcomponents/img-view-modal/img-view-modal.js")):"function"==typeof define&&define.amd?define(["exports","lit-element","lit-element/lit-element.js","@lrnwebcomponents/simple-colors/simple-colors.js","@lrnwebcomponents/simple-icon/simple-icon.js","@lrnwebcomponents/simple-icon/lib/simple-icons.js","@lrnwebcomponents/simple-tooltip/simple-tooltip.js","@lrnwebcomponents/responsive-utility/responsive-utility.js","@lrnwebcomponents/img-view-modal/img-view-modal.js"],n):n((e=e||self).LrndesignGallery={},e.litElement,e.litElement_js,e.simpleColors_js)}(this,function(e,n,t,i){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&g(e,n)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,n){return(g=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function p(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function h(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var t,i=u(e);if(n){var r=u(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return p(this,t)}}function m(e,n,t){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var i=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=u(e)););return e}(e,n);if(i){var r=Object.getOwnPropertyDescriptor(i,n);return r.get?r.get.call(t):r.value}})(e,n,t||e)}function y(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function b(){var e=y(["\n        :host {\n          display: block;\n          border-radius: var(--lrndesign-gallery-border-radius, 0px);\n          box-shadow: var(--lrndesign-gallery-box-shadow, unset);\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n        :host {\n          display: block;\n          --lrndesign-gallery-color: var(--simple-colors-default-theme-grey-12);\n          --lrndesign-gallery-background-color: var(\n            --simple-colors-default-theme-grey-1\n          );\n          --lrndesign-gallery-focus-color: var(\n            --simple-colors-default-theme-accent-9\n          );\n          --lrndesign-gallery-border-color: var(\n            --simple-colors-default-theme-grey-4\n          );\n          --lrndesign-gallery-thumbnail-outline: 1px solid\n            var(--simple-colors-default-theme-grey-12);\n\n          --lrndesign-gallery-dialog-color: var(\n            --simple-colors-default-theme-grey-12\n          );\n          --lrndesign-gallery-dialog-background-color: var(\n            --simple-colors-default-theme-grey-1\n          );\n          --lrndesign-gallery-dialog-toggled-background-color: var(\n            --simple-colors-default-theme-grey-2\n          );\n          --lrndesign-gallery-dialog-border-color: var(\n            --simple-colors-default-theme-grey-4\n          );\n          --lrndesign-gallery-carousel-next-bg: linear-gradient(\n            to right,\n            rgba(255, 255, 255, 0) 0%,\n            rgba(255, 255, 255, 0.5) 50%,\n            rgba(255, 255, 255, 0.7) 70%,\n            rgba(255, 255, 255, 0.9) 90%\n          );\n          --lrndesign-gallery-carousel-prev-bg: linear-gradient(\n            to right,\n            rgba(255, 255, 255, 0.9) 10%,\n            rgba(255, 255, 255, 0.7) 30%,\n            rgba(255, 255, 255, 0.5) 50%,\n            rgba(255, 255, 255, 0) 100%\n          );\n          --lrndesign-gallery-thumbnail-image: {\n            display: block;\n            border-radius: 3px;\n            border: 2px solid transparent;\n          }\n          --lrndesign-gallery-thumbnail-image-focus: {\n            opacity: 0.7;\n            border: 2px solid var(--lrndesign-gallery-focus-color);\n          }\n          --lrndesign-gallery-thumbnail-image-selected: {\n            opacity: 0.5;\n            cursor: default;\n          }\n        }\n        :host([dark]) {\n          --lrndesign-gallery-background-color: var(\n            --simple-colors-default-theme-grey-2\n          );\n          --lrndesign-gallery-border-color: var(\n            --simple-colors-default-theme-grey-1\n          );\n          --lrndesign-gallery-carousel-next-bg: linear-gradient(\n            to right,\n            rgba(0, 0, 0, 0) 0%,\n            rgba(0, 0, 0, 0.5) 50%,\n            rgba(0, 0, 0, 0.7) 70%,\n            rgba(0, 0, 0, 0.9) 90%\n          );\n          --lrndesign-gallery-carousel-prev-bg: linear-gradient(\n            to right,\n            rgba(0, 0, 0, 0.9) 10%,\n            rgba(0, 0, 0, 0.7) 30%,\n            rgba(0, 0, 0, 0.5) 50%,\n            rgba(0, 0, 0, 0) 100%\n          );\n        }\n        :host([hidden]) {\n          display: none;\n        }\n        .sr-only {\n          position: absolute;\n          left: -999999;\n          height: 0;\n          width: 0;\n          overflow: hidden;\n        }\n        .gallerythumb {\n          min-width: unset;\n          max-width: 100%;\n          padding: 0;\n          margin: 0;\n          display: inline-block;\n          transform: none !important;\n          position: static !important;\n          cursor: pointer;\n        }\n        lrndesign-gallery-zoom {\n          z-index: 2;\n        }\n        simple-tooltip {\n          z-index: 2;\n        }\n        .zoombg {\n          background-color: var(--lrndesign-gallery-dialog-background-color);\n          opacity: 0.25;\n        }\n        .zoombg,\n        .zoomicon {\n          position: absolute;\n          width: 24px;\n          height: 24px;\n          transition: opacity 0.5s ease-in-out;\n        }\n        lrndesign-gallery-zoom:focus-within .zoombg,\n        lrndesign-gallery-zoom:hover .zoombg {\n          opacity: 0;\n          transition: opacity 0.5s ease-in-out;\n        }\n        .zoomicon {\n          opacity: 0.75;\n          color: var(--lrndesign-gallery-color);\n          background-color: transparent;\n        }\n        lrndesign-gallery-zoom:focus-within .zoomicon,\n        lrndesign-gallery-zoom:hover .zoomicon {\n          opacity: 1;\n          transition: opacity 0.5s ease-in-out;\n        }\n        @media print {\n          #galleryscreen {\n            display: none !important;\n          }\n        }\n      "]);return b=function(){return e},e}var x=function(e){d(o,i.SimpleColors);var n=h(o);function o(){var e;return r(this,o),(e=n.call(this)).aspectRatio=1.33333333,e.extraWide=!1,e.grid=!1,e.responsiveSize="xs",e.selected={},e.sizing="cover",e.sources=[],e}return l(o,null,[{key:"tag",get:function(){return"lrndesign-gallery-behaviors"}},{key:"styles",get:function(){return[].concat(f(m(u(o),"styles",this)),[t.css(b())])}},{key:"properties",get:function(){return c(c({},m(u(o),"properties",this)),{},{anchorData:{type:Object},aspectRatio:{type:Number},extraWide:{type:Boolean,reflect:!0,attribute:"extra-wide"},galleryId:{type:String},galleryTitle:{type:String,reflect:!0,attribute:"gallery-title"},grid:{type:Boolean},layout:{type:String,attribute:"layout"},responsiveSize:{type:String,reflect:!0,attribute:"responsive-size"},selected:{type:Object},sources:{type:Array},sizing:{type:String},title:{type:String}})}}]),l(o,[{key:"updated",value:function(e){var n=this;e.forEach(function(e,t){"galleryTitle"!=t&&"title"!=t||n.galleryTitle||(n.galleryTitle=n.title)})}},{key:"_generateUUID",value:function(){return"ss-s-s-s-sss".replace(/s/g,Math.floor(65536*(1+Math.random())).toString(16).substring(1))}},{key:"_getParentOffset",value:function(e){var n=e.parentNode;return null!=n&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(n=n.host),n.offsetTop}},{key:"_itemChanged",value:function(e){this.dispatchEvent(new CustomEvent("item-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:e}))}},{key:"_scrollIntoView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0];window.scrollTo({top:e.reduce(function(e,n){return e+n}),behavior:"smooth"})}}]),o}();function z(){var e=y(["\n        :host {\n          display: block;\n        }\n        :host([hidden]) {\n          display: none;\n        }\n      "]);return z=function(){return e},e}function k(){var e=y([" <slot></slot> "]);return k=function(){return e},e}window.customElements.define(x.tag,x);var w=function(e){d(i,t.LitElement);var n=h(i);function i(){return r(this,i),n.call(this)}return l(i,[{key:"render",value:function(){return t.html(k())}}],[{key:"styles",get:function(){return[t.css(z())]}},{key:"tag",get:function(){return"lrndesign-gallery-details"}}]),l(i,[{key:"updated",value:function(e){var n=this;e.forEach(function(e,t){"details"==t&&n._detailsChanged(n[t])})}},{key:"_detailsChanged",value:function(e){this.innerHTML=e}}],[{key:"properties",get:function(){return{details:{type:String}}}}]),i}();function S(){var e=y(['\n          <lrndesign-gallery-details\n            id="details"\n            ?hidden="','"\n            details="','"\n          >\n          </lrndesign-gallery-details>\n        ']);return S=function(){return e},e}function _(){var e=y(['\n        :host {\n          display: block;\n          background-color: none;\n        }\n        :host([hidden]) {\n          display: none;\n        }\n        #zoombtn {\n          display: block;\n          width: 100%;\n          padding: 0;\n          margin: 0;\n          border-width: 0;\n          background-color: transparent;\n          --simple-icon-color: currentColor;\n        }\n        simple-modal-template[modal-id="zoomdialog"] {\n          --img-view-modal-backgroundColor: var(\n            --lrndesign-gallery-dialog-background-color\n          );\n          --img-view-modal-color: var(--lrndesign-gallery-dialog-color);\n          --img-view-modal-borderColor: var(\n            --lrndesign-gallery-dialog-border-color\n          );\n          --img-view-modal-toggled-backgroundColor: var(\n            --lrndesign-gallery-dialog-toggled-background-color\n          );\n          --simple-icon-color: currentColor;\n        }\n      ']);return _=function(){return e},e}function j(){var e=y(['\n      <img-view-modal\n        .figures="','"\n        .toolbars="','"\n        title="','"\n        max-zoom-pixel-ratio="1.5"\n        min-zoom-image-ratio="0.5"\n        zoom-per-click="1.2"\n        zoom-per-scroll="0.6"\n      >\n        <button id="zoombtn" aria-label="','">\n          <slot></slot>\n        </button>\n      </img-view-modal>\n      <simple-tooltip for="zoombtn" position="right" controls="zoomtpl"\n        >',"</simple-tooltip\n      >\n    "]);return j=function(){return e},e}window.customElements.define(w.tag,w);var O=function(e){d(i,n.LitElement);var t=h(i);function i(){var e;return r(this,i),(e=t.call(this)).heading="Image Zoom",e.details="",e.src="",e.tooltip="Zoom In",e.zoomAlt="Full-sized Image",e}return l(i,[{key:"render",value:function(){return n.html(j(),this.figures,this.toolbars,this.heading||"",this.tooltip,this.tooltip)}}],[{key:"tag",get:function(){return"lrndesign-gallery-zoom"}},{key:"styles",get:function(){return[n.css(_())]}},{key:"properties",get:function(){return{heading:{type:String},details:{type:String},src:{type:String,reflect:!0,attribute:"src"},tooltip:{type:String},zoomAlt:{type:String,attribute:"zoom-alt"}}}}]),l(i,[{key:"zoom",value:function(){if(this.button&&this.modal){this.modal.openModal(this.button);var e=new CustomEvent("gallery-zoom",{detail:this});this.button.dispatchEvent(e)}}},{key:"figures",get:function(){return[{src:this.src,info:n.html(S(),!this.details||!this.zoomAlt,this.details||this.zoomAlt)}]}},{key:"toolbars",get:function(){return{bottom:{id:"bottom",type:"toolbar-group",contents:["homebutton","zoomgroup","pangroup","fullscreenbutton","kbdbutton","infobutton"]}}}},{key:"button",get:function(){return!(!this.shadowRoot||!this.shadowRoot.querySelector("#zoombtn"))&&this.shadowRoot.querySelector("#zoombtn")}},{key:"modal",get:function(){return!(!this.shadowRoot||!this.shadowRoot.querySelector("#zoomtpl"))&&this.shadowRoot.querySelector("#zoomtpl")}}]),i}();function I(){var e=y(['\n        :host {\n          margin: 15px 0;\n          padding: 0;\n          --carousel-image-height: unset;\n          border: 1px solid var(--lrndesign-gallery-border-color);\n        }\n        :host([hidden]),\n        :host [hidden] {\n          display: none !important;\n        }\n        :host([responsive-size="md"]) {\n          --carousel-image-border-top: 4px solid\n            var(--lrndesign-gallery-focus-color);\n          --lrndesign-gallery-image-height: unset;\n          --carousel-image-height: var(--carousel-image-height-md, 200px);\n        }\n        :host([responsive-size="lg"]) {\n          --carousel-image-border-top: 4px solid\n            var(--lrndesign-gallery-focus-color);\n          --lrndesign-gallery-image-height: unset;\n          --carousel-image-height: var(--carousel-image-height-lg, 300px);\n        }\n        :host([responsive-size="xl"]) {\n          --carousel-image-border-top: 4px solid\n            var(--lrndesign-gallery-focus-color);\n          --lrndesign-gallery-image-height: unset;\n          --carousel-image-height: var(--carousel-image-height-xl, 400px);\n        }\n        :host([responsive-size*="s"]),\n        :host([extra-wide]) {\n          --carousel-image-height: unset;\n          --carousel-image-border-top: unset;\n        }\n        #carouselitem {\n          width: 100%;\n          color: var(--lrndesign-gallery-color);\n          background-color: var(--lrndesign-gallery-background-color);\n          border-top: var(--lrndesign-gallery-border-top);\n          --carousel-image-flex: 0 0\n            calc(\n              var(--carousel-image-height, 200px) *\n                var(--lrndesign-gallery-image-aspect, 1.33333333333)\n            );\n        }\n        #carouselimage {\n          --simple-icon-color: currentColor;\n        }\n        #carouselimage img.image {\n          width: calc(\n            var(--carousel-image-height, 200px) *\n              var(--lrndesign-gallery-image-aspect, 1.33333333333)\n          );\n          object-fit: cover;\n        }\n        #carouselimage,\n        #carouseltext,\n        #thumbnails,\n        .prevnextnav,\n        :host(:not([responsive-size*="s"]):not([extra-wide])) #carouselitem {\n          display: flex;\n          justify-content: space-between;\n          align-items: stretch;\n        }\n        #carouselitem,\n        #carouselitem > * {\n          height: var(--carousel-image-height);\n          max-height: var(--carousel-image-height);\n        }\n        #carouselimage {\n          flex: var(--carousel-image-flex);\n          position: relative;\n        }\n        :host([responsive-size*="s"]) #carouselimage,\n        :host([extra-wide]) #carouselimage {\n          width: 100%;\n          padding-top: var(--lrndesign-gallery-image-height, 75%);\n        }\n        .prevnextnav {\n          position: absolute;\n          width: 100%;\n          top: 0;\n          bottom: 0;\n        }\n        .prevnextnav {\n          align-items: center;\n          opacity: 0;\n          margin: 0;\n          border-width: 0;\n          border-radius: 0;\n          color: var(--lrndesign-gallery-color);\n          background-color: var(--lrndesign-gallery-background-color);\n          --button-ink-color: var(--lrndesign-gallery-background-color);\n          background: var(--lrndesign-gallery-next-bg);\n          transition: opacity 0.5s;\n        }\n        .prevnextnav[hidden] {\n          display: none;\n        }\n        #carouselnext {\n          right: 0;\n          width: 50%;\n        }\n        #carouselprev {\n          left: 0;\n          width: 50%;\n          justify-content: flex-start;\n          background: var(--lrndesign-gallery-prev-bg);\n        }\n        .prevnextnav:focus,\n        .prevnextnav:hover {\n          outline: none;\n          opacity: 0.8;\n        }\n        .prevnextnav[disabled]:focus,\n        .prevnextnav[disabled]:hover {\n          cursor: not-allowed;\n          opacity: 0.1;\n        }\n        .prevnextnav:focus simple-icon,\n        .prevnextnav:hover simple-icon {\n          outline: 1px solid var(--lrndesign-gallery-color);\n        }\n        #carouselprev simple-icon {\n          position: absolute;\n          left: 5px;\n          --simple-icon-color: currentColor;\n        }\n        #carouselnext simple-icon {\n          position: absolute;\n          right: 5px;\n          --simple-icon-color: currentColor;\n        }\n        lrndesign-gallery-zoom {\n          width: 24px;\n          height: 24px;\n          left: 5px;\n          bottom: 5px;\n          position: absolute;\n        }\n        lrndesign-gallery-zoom {\n          border: 1px solid transparent;\n          transition: outline 0.25s ease-in-out;\n        }\n        lrndesign-gallery-zoom:focus-within,\n        lrndesign-gallery-zoom:hover {\n          border: 1px solid var(--lrndesign-gallery-color);\n          transition: outline 0.25s ease-in-out;\n        }\n        .zoombg,\n        .zoomicon {\n          top: 0;\n          left: 0;\n        }\n        #carouseltext {\n          position: relative;\n          flex-direction: column;\n        }\n        :host([responsive-size="xs"]) #carouseltext,\n        :host([extra-wide]) #carouseltext {\n          margin-top: -4px;\n          border-top: 4px solid var(--lrndesign-gallery-focus-color);\n        }\n        #carouseltext > * {\n          margin: 10px;\n        }\n        #carouseltext,\n        #details {\n          flex: 1 1 auto;\n        }\n        #itemtitle,\n        #thumbails {\n          flex: 0 0 auto;\n        }\n        #itemtitle {\n          font-size: 160%;\n        }\n        #details {\n          overflow-y: auto;\n        }\n        #thumbnails {\n          flex-direction: row;\n          flex-wrap: wrap;\n          flex: 0 0 auto;\n          height: 46px;\n          justify-content: flex-start;\n          overflow-x: auto;\n        }\n        .gallerythumb,\n        .gallerythumb img {\n          width: 40px;\n          height: 40px;\n        }\n        .gallerythumb {\n          margin: 0 3px;\n          background-color: transparent;\n          background-image: var(--lrndesign-gallery-thumb-url);\n          background-position: center;\n          background-repeat: no-repeat;\n        }\n        .gallerythumb img {\n          outline: 1px solid var(--lrndesign-gallery-color);\n          transition: all 0.25s ease-in-out;\n        }\n        .gallerythumb:not([disabled]):hover img,\n        .gallerythumb:not([disabled]):focus img {\n          width: 42px;\n          height: 42px;\n          outline: 1px solid var(--lrndesign-gallery-focus-color);\n          transition: all 0.25s ease-in-out;\n        }\n        .x-of-y {\n          font-size: 85%;\n          font-style: italic;\n          text-align: right;\n          padding: 0;\n          margin: 0;\n        }\n        #xystart,\n        #xyend {\n          margin: 0;\n          position: absolute;\n          right: 10px;\n          top: 10px;\n          font-size: 80%;\n        }\n      ']);return I=function(){return e},e}function A(){var e=y(['\n                  <button\n                    id="','"\n                    aria-controls="carousel"\n                    class="gallerythumb"\n                    .index="','"\n                    @click="','"\n                    ?disabled="','"\n                    .style="--lrndesign-gallery-thumb-url:url(',");background-size:",";background-position:",'"\n                  >\n                    <span class="sr-only"\n                      >','</span\n                    >\n                  </button>\n                  <simple-tooltip\n                    .for="','"\n                    ?hidden="','"\n                    position="top"\n                  >\n                    ',"\n                  </simple-tooltip>\n                "]);return A=function(){return e},e}function C(){var e=y(['\n      <article id="carousel">\n        <p class="sr-only">A carousel of items:</p>\n        <div\n          id="carouselitem"\n          ?dark="','"\n          ?extra-wide="','"\n          responsive-size="','"\n        >\n          <p id="xystart" class="sr-only">Slide ','.</p>\n          <div id="carouselimage">\n            <img\n              class="image"\n              .alt="','"\n              aria-describedby="carouseltitle details"\n              .src="','"\n              loading="lazy"\n            />\n            <lrndesign-gallery-zoom\n              .details="','"\n              .heading="','"\n              id="galleryzoom"\n              .src="','"\n              .tooltip="','"\n              .zoom-alt="','"\n            >\n              <div class="zoombg"></div>\n              <simple-icon icon="zoom-in" class="zoomicon"></simple-icon>\n            </lrndesign-gallery-zoom>\n            <button\n              id="carouselprev"\n              class="prevnextnav"\n              aria-controls="carousel"\n              aria-label="prev"\n              ?hidden="','"\n              ?disabled="','"\n              @click="','"\n              tabindex="-1"\n            >\n              <span class="sr-only">Previous</span>\n              <simple-icon icon="chevron-left"></simple-icon>\n            </button>\n            <simple-tooltip for="carouselprev" position="top"\n              >previous</simple-tooltip\n            >\n            <button\n              id="carouselnext"\n              class="prevnextnav"\n              aria-controls="carousel"\n              aria-label="next"\n              ?hidden="','"\n              ?disabled="','"\n              @click="','"\n              tabindex="-1"\n            >\n              <span class="sr-only">Next</span>\n              <simple-icon icon="chevron-right"></simple-icon>\n            </button>\n            <simple-tooltip for="carouselnext" position="top"\n              >next</simple-tooltip\n            >\n          </div>\n          <div id="carouseltext" class="item-info">\n            <h1\n              id="carouseltitle"\n              ?hidden="','"\n            >\n              <lrndesign-gallery-details details="','">\n              </lrndesign-gallery-details>\n            </h1>\n            <lrndesign-gallery-details\n              id="details"\n              details="','"\n            >\n            </lrndesign-gallery-details>\n            <div id="xyend" ?hidden="','">\n              <p class="x-of-y">\n                (<span class="sr-only"> End of slide </span> ','<span class="sr-only">.</span>)\n              </p>\n            </div>\n            <div id="thumbnails" class="item-info" ?hidden="','">\n              <p class="sr-only" ?hidden="','">Slides list:</p>\n              ',"\n            </div>\n          </div>\n        </div>\n      </article>\n    "]);return C=function(){return e},e}window.customElements.define(O.tag,O);var T=function(e){d(i,x);var t=h(i);function i(){return r(this,i),t.call(this)}return l(i,[{key:"render",value:function(){var e=this;return n.html(C(),this.dark,this.extraWide,this.responsiveSize,this.selected.xofy,this.selected.alt,this.selected.src,this.selected.details,this.selected.heading,this.selected.large,this.selected.tooltip,this.selected.alt,this.hideNav,!this.selected||this.selected.prev<0,function(n){return e._itemChanged(e.selected?e.selected.prev:0)},this.hideNav,!this.selected||this.selected.next<0,function(n){return e._itemChanged(e.selected?e.selected.next:0)},!this.selected.title||""==this.selected.title,this.selected.title||"",this.selected.details||"",this.hideNav,this.selected.xofy,this.hideNav,this.hideNav,this.sources.map(function(t){return n.html(A(),t.id,t.index,function(n){return e._itemChanged(t.id)},e.selected.id===t.id,t.thumbnail,t.sizing||e.sizing||"cover",t.gravity?t.gravity.replace("-"," "):"center",t.alt||"Item ".concat(parseInt(t.index)+1),t.id,e.selected.id===t.id,t.alt)}))}}],[{key:"tag",get:function(){return"lrndesign-gallery-carousel"}},{key:"styles",get:function(){return[].concat(f(m(u(i),"styles",this)),[n.css(I())])}},{key:"properties",get:function(){return c({},m(u(i),"properties",this))}}]),l(i,[{key:"_onNavTapped",value:function(e){this.goToItem(e.index)}},{key:"hideNav",get:function(){return void 0===this.sources||this.sources.length<2}}]),i}();function E(){var e=y(['\n              <lrndesign-gallery-zoom\n                .id="','"\n                .details="','"\n                .heading="','"\n                .src="','"\n                .tooltip="','"\n                .zoom-alt="','"\n              >\n                <span class="sr-only">','</span>\n                <div class="imgbg" .style="','"></div>\n                <div class="zoombg"></div>\n                <simple-icon icon="zoom-in" class="zoomicon"></simple-icon>\n              </lrndesign-gallery-zoom>\n            ']);return E=function(){return e},e}function M(){var e=y(['\n      <div id="grid">\n        <p class="sr-only">A list of columns buttons items:</p>\n        <div id="galleryscreen">\n          ',"\n        </div>\n      </div>\n    "]);return M=function(){return e},e}function R(){var e=y(['\n        :host {\n          margin: 15px 0;\n          padding: 0;\n          max-width: 100%;\n          display: block;\n        }\n        #galleryscreen {\n          display: grid;\n          grid-gap: 7.5px;\n          grid-template-columns: repeat(2, 1fr);\n        }\n        :host([responsive-size="sm"]) #galleryscreen {\n          grid-template-columns: repeat(3, 1fr);\n        }\n        :host([responsive-size="md"]) #galleryscreen {\n          grid-template-columns: repeat(4, 1fr);\n        }\n        :host([responsive-size="lg"]) #galleryscreen {\n          grid-template-columns: repeat(5, 1fr);\n        }\n        :host([responsive-size="xl"]) #galleryscreen {\n          grid-template-columns: repeat(6, 1fr);\n        }\n        lrndesign-gallery-zoom {\n          position: relative;\n          overflow: hidden;\n          transition: outline 0.25s ease-in-out;\n          outline: 1px solid var(--lrndesign-gallery-color);\n          --simple-icon-color: currentColor;\n        }\n        lrndesign-gallery-zoom:hover,\n        lrndesign-gallery-zoom:focus,\n        lrndesign-gallery-zoom:focus-within {\n          transition: outline 0.25s ease-in-out;\n          outline: 2px solid var(--lrndesign-gallery-focus-color);\n        }\n        lrndesign-gallery-zoom img {\n          position: absolute;\n          opacity: 0 !important;\n        }\n        .imgbg {\n          width: 100%;\n          padding-top: var(--lrndesign-gallery-grid-paddingTop, 75%);\n          background-image: var(--lrndesign-gallery-grid-backgroundImage, none);\n          background-position: var(\n            --lrndesign-gallery-grid-backgroundPosition,\n            center\n          );\n          background-size: var(--lrndesign-gallery-grid-backgroundSize, cover);\n        }\n        .zoombg,\n        .zoomicon {\n          top: unset;\n          bottom: 5px;\n          left: 5px;\n        }\n      ']);return R=function(){return e},e}window.customElements.define(T.tag,T);var P=function(e){d(i,x);var n=h(i);function i(){var e;r(this,i);var t=(e=n.call(this)).shadowRoot.querySelector("#carouselitem");return e.selected.scroll&&t&&(e._scrollIntoView([e._getParentOffset(t)]),e.selected.zoomed||t.focus()),e}return l(i,null,[{key:"tag",get:function(){return"lrndesign-gallery-grid"}},{key:"styles",get:function(){return[].concat(f(m(u(i),"styles",this)),[t.css(R())])}},{key:"properties",get:function(){return c({},m(u(i),"properties",this))}}]),l(i,[{key:"render",value:function(){var e=this;return t.html(M(),this.sources.map(function(n){return t.html(E(),n.id,n.details,n.heading,n.large,n.tooltip,n.zoomAlt,n.zoomAlt,e._getStyle(n))}))}},{key:"_getStyle",value:function(e){return["--lrndesign-gallery-grid-paddingTop: ".concat(100/this.aspectRatio,"%;"),"--lrndesign-gallery-grid-backgroundImage: url(".concat(e.src,");"),"--lrndesign-gallery-grid-backgroundPosition: ".concat(e.gravity||"center",";"),"--lrndesign-gallery-grid-backgroundSize: ".concat(e.sizing||"cover"===this.sizing||"contain")].join("")}}]),i}();function D(){var e=y(['\n                    <lrndesign-gallery-zoom\n                      .id="','"\n                      .details="','"\n                      .heading="','"\n                      .src="','"\n                      .tooltip="','"\n                      .zoom-alt="','"\n                      style="','"\n                    >\n                      <img\n                        .alt="','"\n                        fade\n                        .src="','"\n                        @load="','"\n                      />\n                      <div class="zoombg"></div>\n                      <simple-icon\n                        icon="zoom-in"\n                        class="zoomicon"\n                      ></simple-icon>\n                    </lrndesign-gallery-zoom>\n                  ']);return D=function(){return e},e}function q(){var e=y(["\n              <div>\n                ","\n              </div>\n            "]);return q=function(){return e},e}function N(){var e=y(['\n      <div id="grid">\n        <p class="sr-only">A list of columns buttons items:</p>\n        <div id="galleryscreen">\n          ',"\n        </div>\n      </div>\n    "]);return N=function(){return e},e}function L(){var e=y(["\n        :host {\n          margin: 15px 0;\n          padding: 0;\n          max-width: 100%;\n          display: block;\n        }\n        #galleryscreen > div {\n          display: flex;\n          align-items: stretch;\n          justify-content: center;\n          margin: 20px 0;\n        }\n        lrndesign-gallery-zoom {\n          position: relative;\n          margin: 0 10px;\n          flex: 0 1 var(--lrndesign-gallery-image-width, 200px);\n          max-width: 35%;\n          --simple-icon-color: currentColor;\n        }\n        lrndesign-gallery-zoom,\n        lrndesign-gallery-zoom:hover,\n        lrndesign-gallery-zoom:focus,\n        lrndesign-gallery-zoom:focus-within {\n          border: 0px solid transparent;\n        }\n        lrndesign-gallery-zoom img {\n          width: 100%;\n          transition: outline 0.25s ease-in-out;\n          outline: 1px solid var(--lrndesign-gallery-color);\n        }\n        lrndesign-gallery-zoom:hover img,\n        lrndesign-gallery-zoom:focus img,\n        lrndesign-gallery-zoom:focus-within img {\n          transition: outline 0.25s ease-in-out;\n          outline: 2px solid var(--lrndesign-gallery-focus-color);\n        }\n        .zoombg,\n        .zoomicon {\n          top: unset;\n          bottom: 5px;\n          left: 5px;\n        }\n      "]);return L=function(){return e},e}window.customElements.define(P.tag,P);var G=function(e){d(i,x);var n=h(i);function i(){var e;r(this,i),(e=n.call(this)).__aspects={},e.__items=[];var t=e.shadowRoot.querySelector("#carouselitem");return e.selected.scroll&&t&&(e._scrollIntoView([e._getParentOffset(t)]),e.selected.zoomed||t.focus()),e}return l(i,null,[{key:"tag",get:function(){return"lrndesign-gallery-masonry"}},{key:"styles",get:function(){return[].concat(f(m(u(i),"styles",this)),[t.css(L())])}},{key:"properties",get:function(){return c(c({},m(u(i),"properties",this)),{},{__aspects:{type:Object},__columns:{type:Array},__items:{type:Array}})}}]),l(i,[{key:"render",value:function(){var e=this;return t.html(N(),(this.__items||[]).map(function(n,i){return t.html(q(),(n.cols||[]).map(function(i,r){return t.html(D(),i.id,i.details,i.heading,i.large,i.tooltip,i.zoomAlt,e._getStyle(i.aspect,n.aspect),i.alt,i.src,function(n){return e._handleImgLoad(n)})}))}))}},{key:"updated",value:function(e){var n=this;m(u(i.prototype),"updated",this).call(this,e),e.forEach(function(e,t){"sources"===t&&n._updateItems(),"responsiveSize"===t&&n._updateItems()})}},{key:"_getStyle",value:function(e,n){return["--lrndesign-gallery-image-aspect:".concat(e||100/75,";"),"--lrndesign-gallery-image-height:".concat(100/e||75,"%;"),"--lrndesign-gallery-image-width:".concat(100*e/n||.75,"%")].join("")}},{key:"_handleImgLoad",value:function(e){(e.path&&e.path[0]?e.path[0]:e.originalTarget?e.originalTarget:e.target).naturalWidth>0&&this._updateItems()}},{key:"_updateItems",value:function(){for(var e=[],n={xs:2,sm:3,md:4,lg:5,xl:6}[this.responsiveSize||"xs"],t=Math.ceil(this.sources.length/n),i=0;i<t;i++){var r={aspect:0,cols:[]};console.log("row",i);for(var o=i*n;o<Math.min(this.sources.length,(i+1)*n);o++){var l=JSON.parse(JSON.stringify(this.sources[o])),s=this.shadowRoot.querySelector('img[src="'.concat(l.src,'"]'));l.aspect=s&&s.naturalWidth>0?s.naturalWidth/s.naturalHeight:100/75,r.aspect+=l.aspect,r.cols.push(l)}e.push(r)}this.__items=e,console.log("this.__items",this.__items)}}]),i}();function U(){var e=y(["\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none; \n}\n\n::slotted(figure){\n  display: block;\n  margin-top: 15px;\n  margin-bottom: 15px;\n  max-width: 400px;\n  max-height: 400px;\n  display: block;\n  border: 1px solid #ddd;\n  page-break-inside: avoid;\n}\n\n@media screen {\n  ::slotted(figure){\n    display: none;\n  }\n}\n      "]);return U=function(){return e},e}function W(){var e=y(['\n          <lrndesign-gallery-carousel\n            accent-color="','"\n            .aspect-ratio="','"\n            .extra-wide="','"\n            ?dark="','"\n            .gallery-id="','"\n            @item-changed="','"\n            responsive-size="','"\n            .selected="','"\n            sizing="','"\n            .sources="','"\n          >\n          </lrndesign-gallery-carousel>']);return W=function(){return e},e}function F(){var e=y(['\n          <lrndesign-gallery-grid\n            accent-color="','"\n            .aspect-ratio="','"\n            .extra-wide="','"\n            ?dark="','"\n            .gallery-id="','"\n            @item-changed="','"\n            responsive-size="','"\n            .selected="','"\n            sizing="','"\n            .sources="','"\n          >\n        </lrndesign-gallery-grid>\n        ']);return F=function(){return e},e}function H(){var e=y(['\n        <lrndesign-gallery-masonry\n          accent-color="','"\n          .aspect-ratio="','"\n          .extra-wide="','"\n          ?dark="','"\n          .gallery-id="','"\n          @item-changed="','"\n          responsive-size="','"\n          .selected="','"\n          .sources="','"\n        >\n      </lrndesign-gallery-masonry>\n      ']);return H=function(){return e},e}function J(){var e=y(['\n\n<div id="gallery" style="--lrndesign-gallery-image-aspect:',";--lrndesign-gallery-image-height:",'%">\n  <div slot="title"><slot name="title"></slot></div>\n  <div slot="description"><slot name="description"></slot></div>\n  ',"\n</div>\n<slot hidden></slot>"]);return J=function(){return e},e}window.customElements.define(G.tag,G);var V=function(e){d(i,x);var t=h(i);function i(){var e;return r(this,i),(e=t.call(this)).sources=[],e.sizing="cover",e}return l(i,[{key:"render",value:function(){var e=this;return n.html(J(),this.aspectRatio,100/this.aspectRatio,"masonry"===this.layout?n.html(H(),this.accentColor,this.aspect,this.extra,this.dark,this.id,function(n){return e.goToItem(n.detail)},this.responsiveSize,this.selected,this.items):this.grid||"grid"===this.layout?n.html(F(),this.accentColor,this.aspect,this.extra,this.dark,this.id,function(n){return e.goToItem(n.detail)},this.responsiveSize,this.selected,"cover"===this.sizing||"contain",this.items):n.html(W(),this.accentColor,this.aspect,this.extra,this.dark,this.id,function(n){return e.goToItem(n.detail)},this.responsiveSize,this.selected,"cover"===this.sizing||"contain",this.items))}}],[{key:"styles",get:function(){return[].concat(f(m(u(i),"styles",this)),[n.css(U())])}},{key:"haxProperties",get:function(){return{canScale:!1,canPosition:!1,canEditSource:!0,gizmo:{title:"Image Gallery",description:"An image gallery displayed as a carousel or a grid",icon:"image:collections",color:"cyan",groups:["Content","Instructional","Media","Image"],handles:[{type:"image",source:"image"}],meta:{author:"ELMS:LN"}},settings:{quick:[{property:"accentColor",title:"Accent Color",description:"An optional accent color.",inputMethod:"colorpicker",icon:"editor:format-color-fill"},{property:"dark",title:"Dark Theme",description:"Enable Dark Theme",inputMethod:"boolean",icon:"icons:invert-colors"},{property:"layout",title:"Layout",description:"Display as grid?",inputMethod:"select",itemsList:["carousel","grid","masonry"]}],configure:[{slot:"title",title:"Optional Gallery Title",description:"Am optional title for the gallery.",inputMethod:"textfield"},{slot:"description",title:"OptionalGallery Description",description:"An optional description for the gallery.",inputMethod:"textfield"},{property:"accentColor",title:"Accent Color",description:"An optional accent color.",inputMethod:"colorpicker"},{property:"dark",title:"Dark Theme",description:"Enable Dark Theme",inputMethod:"boolean"},{property:"layout",title:"Layout",description:"Display as grid?",inputMethod:"select",itemsList:["carousel","grid","masonry"]},{property:"sources",title:"Gallery Images",description:"The images for the gallery.",inputMethod:"array",itemLabel:"title",properties:[{property:"title",title:"Image Title",description:"The heading for the image.",inputMethod:"textfield"},{property:"details",title:"Image Details",description:"The body text with details for the image.",inputMethod:"textfield"},{property:"src",title:"Image",description:"Default Image",inputMethod:"haxupload"},{property:"thumbnail",title:"Optional Thumbnail Image",description:"Optional smaller thumbnail version of the image.",inputMethod:"haxupload"},{property:"large",title:"Optional Full Image",description:"Optional larger full-sized version of the image for zooming.",inputMethod:"haxupload"}]}],advanced:[{property:"aspectRatio",title:"Aspect Ratio",description:"Custom aspect ratio, default is calculated based on the first image's aspect ratio",inputMethod:"textfield"},{property:"sizing",title:"Fit to Aspect Ratio",description:"Fit images to aspect ratio",inputMethod:"select",options:{cover:"crop",contain:"letterbox"}}]}}}},{key:"properties",get:function(){return c(c({},m(u(i),"properties",this)),{},{id:{type:String,reflect:!0,attribute:"id"},responsiveSize:{type:String,reflect:!0,attribute:"responsive-size"}})}},{key:"tag",get:function(){return"lrndesign-gallery"}}]),l(i,[{key:"connectedCallback",value:function(){m(u(i.prototype),"connectedCallback",this).call(this),window.ResponsiveUtility.requestAvailability(),this.updateGallery(),this.observer.observe(this,{attributes:!1,childList:!0,subtree:!1})}},{key:"disconnectedCallback",value:function(){this.observer&&this.observer.disconnect&&this.observer.disconnect(),m(u(i.prototype),"disconnectedCallback",this)&&m(u(i.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(){m(u(i.prototype),"firstUpdated",this).call(this),window.dispatchEvent(new CustomEvent("responsive-element",{detail:{element:this,attribute:"responsive-size",sm:300,md:600,lg:1e3,xl:1500}})),this.anchorData=this._getAnchorData(),this.anchorData.gallery===this.id?this.goToItem(this.anchorData.id):this.goToItem()}},{key:"updated",value:function(e){var n=this;m(u(i.prototype),"updated",this).call(this,e),e.forEach(function(e,t){"id"!==t||n.id||(n.id="gallery-".concat(n._generateUUID()))})}},{key:"goToItem",value:function(e){var n=this.items[0]||{};if("number"==typeof e&&e>=0&&e<this.items.length)this.selected=this.items[e]||n;else{var t=this.items.filter(function(n){return n.id===e});this.selected=t.length>0?t[0]:n}}},{key:"updateGallery",value:function(){var e=[];this.querySelectorAll("figure").forEach(function(n){var t=n.getAttribute("id"),i=n.querySelector("img"),r=n.getAttribute("sizing"),o=[1,2,3,4,5,6].map(function(e){return"h".concat(e,":first-child")}).join(","),l=i&&i.getAttribute("src")?i.getAttribute("src"):void 0,s=i&&i.getAttribute("srcset")?i.getAttribute("srcset").split(","):void 0,a=s&&s[0]?s[0].split(" "):void 0,c=s&&s[s.length-1]?s[s.length-1].split(" "):void 0,d=a&&a[0]?a[0]:void 0,u=c&&c[0]?c[0]:void 0,g=n.querySelector("figcaption")?n.querySelector("figcaption").cloneNode(!0):void 0,p=i&&i.getAttribute("alt")?i.getAttribute("alt"):void 0,h=g&&g.querySelector(o)?g.querySelector(o):void 0,m=h.innerHTML;h&&h.remove(),e.push({alt:p,id:t,src:l,thumbnail:d,large:u,title:m,details:g.innerHTML,sizing:r})}),e.length>0&&(!this.sources||this.sources.length<1)&&(this.sources=e)}},{key:"_getAnchorData",value:function(){var e=null!==window.location.hash&&""!==window.location.hash&&window.location.hash.replace("#",""),n=e?e.split("---"):[];return{id:n.length>1?n[1]:-1,gallery:n.length>0?n[0]:-1,zoom:scroll&&n.length>2&&"zoom"===n[2]}}},{key:"aspect",get:function(){var e=(this.items||[]).filter(function(e){return e.src&&""!=e.src}),n=!(!e||!e[0])&&e[0].src;if(n){var t=new Image;return t.src=n,t.naturalWidth>0&&t.naturalHeight>0?t.naturalWidth/t.naturalHeight:1.33333333}return 1.33333333}},{key:"extra",get:function(){return this.aspect>2}},{key:"items",get:function(){var e=this,n=this.sources||[],t="string"==typeof n?JSON.parse(n):n,i=t.length;return(t||[]).map(function(n,t){return{alt:n.alt,details:n.details,index:t,id:n.id||"gallery-".concat(e.id,"-item-").concat(t),src:n.src,large:n.large&&""!==n.large?n.large:n.src,thumbnail:n.thumbnail&&""!=n.thumbnail?n.thumbnail:n.src,xofy:"".concat(t+1," of ").concat(i),next:t+1<i?t+1:-1,prev:t-1>-1?t-1:-1,sizing:n.sizing&&""!=n.sizing?n.sizing:e.sizing,gravity:n.gravity||"center",title:n.title,tooltip:"".concat(n.title||"Image ".concat(t)," (Zoom In)"),heading:"".concat(n.title||"Image ".concat(t)," (Full-Sized)")}})}},{key:"observer",get:function(){var e=this;return new MutationObserver(function(){return e.updateGallery()})}}]),i}();customElements.define("lrndesign-gallery",V),e.LrndesignGallery=V,Object.defineProperty(e,"__esModule",{value:!0})});
