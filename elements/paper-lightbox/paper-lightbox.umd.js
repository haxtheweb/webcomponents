!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@polymer/polymer/polymer-legacy.js"),require("@polymer/polymer/lib/utils/async.js"),require("@polymer/iron-icons/iron-icons.js"),require("@polymer/iron-ajax/iron-ajax.js"),require("@polymer/iron-resizable-behavior/iron-resizable-behavior.js"),require("@polymer/paper-button/paper-button.js")):"function"==typeof define&&define.amd?define(["@polymer/polymer/polymer-legacy.js","@polymer/polymer/lib/utils/async.js","@polymer/iron-icons/iron-icons.js","@polymer/iron-ajax/iron-ajax.js","@polymer/iron-resizable-behavior/iron-resizable-behavior.js","@polymer/paper-button/paper-button.js"],t):t(e.polymerLegacy_js,e.async,null,null,e.ironResizableBehavior_js)}(this,function(e,t,o,i,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(){var e=r(['\n    <style>:host{display:block}:host::content .paper-lightbox-popup{position:fixed;top:0;right:0;bottom:0;left:0;z-index:999;overflow:auto;text-align:center}:host::content .paper-lightbox-popup::before{content:\'\';display:inline-block;vertical-align:middle;width:0;height:100%}:host::content .paper-lightbox-popup_overlay{position:fixed;background-color:#000;width:100%;height:100%;top:0;left:0;opacity:.6;z-index:0}:host::content .paper-lightbox-popup_window{position:relative;display:inline-block;vertical-align:middle;padding:25px;margin:40px 0 20px;background-color:#fff;max-width:70%;height:auto;text-align:left;box-sizing:border-box;z-index:1}@media (max-width:568px){:host::content .paper-lightbox-popup_window{max-width:100%;margin:25px;padding:15px}}:host::content .paper-lightbox-popup_window .paper-lightbox_iframeWrapper{position:relative;padding-top:60%}:host::content .paper-lightbox-popup_window-image img{vertical-align:top;max-width:100%}:host::content .paper-lightbox-popup_window-iframe{width:70%;height:auto;max-width:1024px}@media (max-width:568px){:host::content .paper-lightbox-popup_window-iframe{width:calc(100% - 50px);margin:25px}}:host::content .paper-lightbox-popup_window-iframe iframe{position:absolute;width:100%;height:100%;top:0;left:0}:host::content .paper-lightbox-popup_close{position:absolute;left:0;top:0;width:18px;height:18px;padding:8px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:#fff;border-radius:100px;cursor:pointer;-webkit-filter:drop-shadow(0 1px 2px rgba(0, 0, 0, .4));filter:drop-shadow(0 1px 2px rgba(0, 0, 0, .4))}</style>\n    <template is="dom-if" if="{{ _isAjax(type) }}">\n      <iron-ajax auto="auto" url="{{ src }}" handle-as="text" on-response="_ajaxResponse"></iron-ajax>\n    </template>\n    <slot></slot>\n']);return a=function(){return e},e}function p(){var e=r(["\n    <style>:host{display:block}:host::content .paper-lightbox-popup{position:fixed;top:0;right:0;bottom:0;left:0;z-index:999;overflow:auto;text-align:center}:host::content .paper-lightbox-popup::before{content:'';display:inline-block;vertical-align:middle;width:0;height:100%}:host::content .paper-lightbox-popup_overlay{position:fixed;background-color:#000;width:100%;height:100%;top:0;left:0;opacity:.6;z-index:0}:host::content .paper-lightbox-popup_window{position:relative;display:inline-block;vertical-align:middle;padding:25px;margin:40px 0 20px;background-color:#fff;max-width:70%;height:auto;text-align:left;box-sizing:border-box;z-index:1}@media (max-width:568px){:host::content .paper-lightbox-popup_window{max-width:100%;margin:25px;padding:15px}}:host::content .paper-lightbox-popup_window .paper-lightbox_iframeWrapper{position:relative;padding-top:60%}:host::content .paper-lightbox-popup_window-image img{vertical-align:top;max-width:100%}:host::content .paper-lightbox-popup_window-iframe{width:70%;height:auto;max-width:1024px}@media (max-width:568px){:host::content .paper-lightbox-popup_window-iframe{width:calc(100% - 50px);margin:25px}}:host::content .paper-lightbox-popup_window-iframe iframe{position:absolute;width:100%;height:100%;top:0;left:0}:host::content .paper-lightbox-popup_close{position:absolute;left:0;top:0;width:18px;height:18px;padding:8px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:#fff;border-radius:100px;cursor:pointer;-webkit-filter:drop-shadow(0 1px 2px rgba(0, 0, 0, .4));filter:drop-shadow(0 1px 2px rgba(0, 0, 0, .4))}</style>\n    <paper-button raised=\"raised\">\n      <slot></slot>\n    </paper-button>\n"]);return p=function(){return e},e}(function(){e.Polymer({_template:e.html(a()),is:"paper-lightbox-popup",behaviors:[n.IronResizableBehavior],listeners:{"iron-resize":"_onResize"},_createPopup:function(){var e,t,o;if(t=this,this._removeBackgroundFocus(),this.container=document.createElement("div"),this.container.classList.add("paper-lightbox-popup"),"ajax"!==this._getType()&&this.container.classList.add("opening"),(e=document.createElement("iron-icon")).classList.add("paper-lightbox-popup_close"),e.setAttribute("icon","icons:close"),e.setAttribute("tabindex","0"),t.window=document.createElement("div"),t.window.classList.add("paper-lightbox-popup_window"),t.window.appendChild(e),this.container.appendChild(t.window),(o=document.createElement("div")).classList.add("paper-lightbox-popup_overlay"),this.container.appendChild(o),t.appendChild(this.container),null==document.querySelector(".paper-lightbox-lockScroll"))return t._removeScrolling()},_getImageRatio:function(e,t){return this,e>t?this.window.classList.add("landscape"):this.window.classList.add("portrait")},_isAjax:function(e){if("ajax"===e)return!0},_parseAjax:function(e){var t,o;return o=this,(t=document.createElement("div")).innerHTML=e,[].forEach.call(t.children,function(e,t){return o.window.appendChild(e),o.container.classList.add("opening")})},_ajaxResponse:function(e){return this,this.ajaxResponse=e.target.lastResponse,this._createAjax()},_createAjax:function(){return this,this._fireCustomEvents("onBeforeOpen"),this._createPopup(),this._parseAjax(this.ajaxResponse),this.window.classList.add("paper-lightbox-popup_window-ajax"),this._fireCustomEvents("onAfterOpen"),this._closePopupEvent()},_createImage:function(){var e,t;return t=this,e=new Image,this._fireCustomEvents("onBeforeOpen"),e.onload=function(){return t._createPopup(),t._getImageRatio(e.naturalWidth,e.naturalHeight),t.window.classList.add("paper-lightbox-popup_window-image"),t.window.appendChild(e),t._onResize(),t._fireCustomEvents("onAfterOpen"),t._closePopupEvent()},e.src=t.getAttribute("src")},_createIframe:function(){var e,t,o,i,n;return n=(o=this).getAttribute("src"),e=document.createElement("iframe"),i=n.replace("/watch?v=","/embed/"),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),this._fireCustomEvents("onBeforeOpen"),(t=document.createElement("div")).classList.add("paper-lightbox_iframeWrapper"),n.indexOf("youtube.com/watch?v=")>-1?e.setAttribute("src",i+"?autoplay=1"):e.setAttribute("src",n+"?autoplay=1"),this._createPopup(),o.window.classList.add("paper-lightbox-popup_window-iframe"),setTimeout(function(){return t.appendChild(e),o.window.appendChild(t)},100),this._fireCustomEvents("onAfterOpen"),this._closePopupEvent()},_createInline:function(){var e,t;return t=this,e=document.querySelector(t.getAttribute("src")),this._fireCustomEvents("onBeforeOpen"),this._createPopup(),t.window.classList.add("paper-lightbox-popup_window-inline"),t.window.appendChild(e.cloneNode(!0)),this._fireCustomEvents("onAfterOpen"),this._closePopupEvent()},_getType:function(){return this,this.getAttribute("type")},_launchPopup:function(){switch(this._getType()){case"image":return this._createImage();case"inline":return this._createInline();case"iframe":return this._createIframe()}},_removePopup:function(){var e,t,o;return t=this,o=this.container,this.window=void 0,e=0,null!==t.getAttribute("closing")&&void 0!==t.getAttribute("closing")&&(e=t.getAttribute("closing")),this._resetBackgroundFocus(),t.unlisten(document,"keyup","_closeWithEsc"),this._fireCustomEvents("onBeforeClose"),o.classList.remove("opening"),setTimeout(function(){return o.classList.add("closing")},0),setTimeout(function(){return t._addScrolling(),document.body.removeChild(t),t._fireCustomEvents("onAfterClose")},e)},_closePopupEvent:function(){var e,t,o;return o=(t=this).querySelector(".paper-lightbox-popup_overlay"),e=t.querySelector(".paper-lightbox-popup_close"),t.listen(o,"tap","_removePopup"),t.listen(e,"tap","_removePopup"),t._closeWithEsc=function(e){if(27===(e.which||e.keyCode))return t._removePopup()},t.listen(document,"keyup","_closeWithEsc"),e.addEventListener("keypress",function(e){if(13===(e.which||e.keyCode))return t._removePopup()})},_addScrolling:function(){var e,t;for((e=document.documentElement).classList.remove("lock"),(t=document.querySelector(".paper-lightbox-lockScroll")).children,t.style.height="",e.style.height="",document.body.style.height="",t.style.overflow="";t.firstElementChild;)document.body.appendChild(t.firstElementChild);return document.body.scrollTop=this.bodyScroll,document.body.removeChild(t),document.body.style.overflow=""},_removeScrolling:function(){var e,t,o;for(this.bodyScroll=document.body.scrollTop,(t=document.documentElement).classList.add("lock"),(o=document.createElement("div")).classList.add("paper-lightbox-lockScroll"),e=document.body.children.length,o.style.height="100%",t.style.height="100%",document.body.style.height="100%",o.style.overflow="hidden";document.body.firstElementChild;)if(o.appendChild(document.body.firstElementChild),o.children.length===e)return document.body.appendChild(o),void(o.scrollTop=this.bodyScroll)},_removeBackgroundFocus:function(){var e;return"a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]",e=document.querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"),[].forEach.call(e,function(e){return e.oldTabIndex=e.tabIndex,e.tabIndex=-1})},_resetBackgroundFocus:function(){var e;return"a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]",e=document.querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"),[].forEach.call(e,function(e){return e.tabIndex=e.oldTabIndex})},_defineCustomEvents:function(){var e,t;return t=this,(e=["onBeforeOpen","onAfterOpen","onBeforeClose","onAfterClose"]).length,[].forEach.call(e,function(e){return t[e]=void 0,document.createEvent?(t[e]=document.createEvent("HTMLEvents"),t[e].initEvent(e.toLowerCase(),!0,!0)):(t.e=document.createEventObject(),t.e.eventType=e.toLowerCase()),t[e].eventName=e.toLowerCase()})},_fireCustomEvents:function(e){var t;return void 0===(t=this)[e]&&t._defineCustomEvents(),document.createEvent?t.dispatchEvent(t[e]):t.fireEvent("on"+t[e].eventType,t[e])},_onResize:function(){if(this.window&&this.window.classList.contains("portrait"))return this.window.querySelector("img").style.maxHeight=.8*window.innerHeight+"px"},ready:function(){var e;return e=this,t.microTask.run(function(){return setTimeout(function(){return e._defineCustomEvents(),e._onLoad()})})},_onLoad:function(){return this._launchPopup()}})}).call(window),function(){e.Polymer({_template:e.html(p()),is:"paper-lightbox",ready:function(){var e;return e=this,t.microTask.run(function(){return setTimeout(function(){return e._onLoad()})})},_createPopup:function(){var e;return(e=document.createElement("paper-lightbox-popup")).setAttribute("type",this.getAttribute("type")),e.setAttribute("src",this.getAttribute("src")),e.setAttribute("closing",this.getAttribute("closing")),e.setAttribute("class",this.getAttribute("class")),document.body.appendChild(e)},_onLoad:function(){return this,this.listen(this.shadowRoot.querySelector("paper-button"),"tap","_createPopup")},open:function(){return this._createPopup()},close:function(){return document.querySelector("paper-lightbox-popup")._removePopup()}})}.call(window)});
//# sourceMappingURL=paper-lightbox.umd.js.map
