{"version":3,"file":"example-haxcms-theme.umd.js","sources":["example-haxcms-theme.umd.js"],"sourcesContent":["/**\n * Copyright 2019 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\n// html to handle template variable binding\nimport { html } from \"@polymer/polymer/polymer-element.js\";\n// this is the PolymerElement base theme\nimport { HAXCMSPolymerElementTheme } from \"@lrnwebcomponents/haxcms-elements/lib/core/HAXCMSPolymerElementTheme.js\";\n// our store implements Mobx and ensures that we maintain state across the application\nimport { store } from \"@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-store.js\";\n// While not needing to directly implement mobx classes this can let you do more advanced\n// integrations with the store and listening for updates to properties elsewhere in the application\nimport { autorun, toJS } from \"mobx/lib/mobx.module.js\";\n/**\n * `example-haxcms-theme`\n * @customElement example-haxcms-theme\n * `A basic, well documented example theme for HAXcms`\n *\n * @microcopy - language worth noting:\n *  - HAXcms - A content management system that builds state of the art one page apps via GUI\n *\n\n * @polymerElement\n * @demo demo/index.html\n */\nclass ExampleHaxcmsTheme extends HAXCMSPolymerElementTheme {\n  \n  // render function\n  static get template() {\n    return html`\n<style>\n:host {\n  display: block;\n  \n  --example-haxcms-theme-color: #222222;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([edit-mode]) #slot {\n  display: none;\n}\n\n:host #slot ::slotted(*) {\n  color: var(--example-haxcms-theme-color);\n}\n        </style>\n<site-top-menu noink indicator=\"arrow\" arrow-size=\"8\">\n  <site-title slot=\"prefix\" class=\"spacing\"></site-title>\n  <site-modal slot=\"suffix\" icon=\"icons:search\" title=\"Search site\" button-label=\"Search\">\n    <site-search></site-search>\n  </site-modal>\n</site-top-menu>\n<site-breadcrumb></site-breadcrumb>\n<div id=\"contentcontainer\">\n  <div id=\"slot\">\n    <slot></slot>\n  </div>\n</div>\n<site-menu-button type=\"prev\" position=\"top\"></site-menu-button>\n<site-menu-button type=\"next\" position=\"top\"></site-menu-button>`;\n  }\n\n  // properties available to the custom element for data binding\n    static get properties() {\n    return {\n  \n  ...super.properties,\n  \n  /**\n   * Edit mode which will be updated whenever HAXcms store\n   * has been updated. It's also reflected to attribute which\n   * is a Polymer convention to allow it to be leveraged in\n   * CSS styling.\n   */\n  \"editMode\": {\n    \"name\": \"editMode\",\n    \"type\": Boolean,\n    \"reflectToAttribute\": true\n  },\n  /**\n   * Current array index of the active page that's been loaded.\n   */\n  \"activeManifestIndex\": {\n    \"name\": \"activeManifestIndex\",\n    \"type\": Number\n  }\n}\n;\n  }\n\n  /**\n   * Store the tag name to make it easier to obtain directly.\n   * @notice function name must be here for tooling to operate correctly\n   */\n  static get tag() {\n    return \"example-haxcms-theme\";\n  }\n  /**\n   * life cycle, constructor\n   */\n  constructor() {\n    super();\n    // dynamic import ensures that your theme will end users a better experience\n    // by reducing the time to first paint. JS Modules block the tree until all imports\n    // at the top of the document have been resolved. Dynamic imports ike these\n    // can be used to ensure that they still load but that the user starts to see\n    // content prior to all assets loading.\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/navigation/site-top-menu.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/navigation/site-breadcrumb.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/layout/site-modal.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/navigation/site-menu-button.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/site/site-search.js\");\n    // create a blank array to store mobx reactions\n    // this allows us to nicely clean up state after the theme\n    // has been disconnected from the DOM\n    this.__disposer = [];\n  }\n  /**\n   * life cycle, element is afixed to the DOM\n   */\n  connectedCallback() {\n    super.connectedCallback();\n    // HAXcms's theme layer uses Mobx to ensure state is simple and maintained\n    // accurately across theme changes and the many site- elements.\n    // This example will maintain the active manifest index in this theme\n    // meaning the array position of the currently active page. This is\n    // useful when creating in theme pagination or reacting to specific\n    // indexes like 1st and last.\n    autorun(reaction => {\n      this.activeManifestIndex = toJS(store.activeManifestIndex);\n      this.__disposer.push(reaction);\n    });\n    // editMode is the global state of the HAXeditor as reflected in HAXcms\n    autorun(reaction => {\n      this.editMode = toJS(store.editMode);\n      this.__disposer.push(reaction);\n    });\n  }\n  /**\n   * life cycle, element is removed from the DOM\n   */\n  disconnectedCallback() {\n    // this ensures that we clean up the listeners on mobx after the theme\n    // has been disconnected. This happens when we have multiple theme tags or\n    // the user has defined that specific nodes should have different designs\n    // which then disconnects this theme and connects the new one.\n    for (var i in this.__disposer) {\n      this.__disposer[i].dispose();\n    }\n    super.disconnectedCallback();\n  }\n}\nwindow.customElements.define(ExampleHaxcmsTheme.tag, ExampleHaxcmsTheme);\nexport { ExampleHaxcmsTheme };\n"],"names":["ExampleHaxcmsTheme","__disposer","HAXCMSPolymerElementTheme","html","Boolean","Number","autorun","reaction","_this2","activeManifestIndex","toJS","store","push","editMode","i","this","dispose","window","customElements","define","tag"],"mappings":"4sFAyBMA,8KAqFK,0FACA,4FACA,mFACA,6FACA,6EAIFC,WAAa,iPA7FWC,6EAItBC,gaAgDG,MACF,gBACAC,4BACc,uBAKD,MACb,2BACAC,4CAWD,2IAiCPC,UAAQ,SAAAC,GACNC,EAAKC,oBAAsBC,OAAKC,QAAMF,qBACtCD,EAAKP,WAAWW,KAAKL,KAGvBD,UAAQ,SAAAC,GACNC,EAAKK,SAAWH,OAAKC,QAAME,UAC3BL,EAAKP,WAAWW,KAAKL,wDAWlB,IAAIO,KAAKC,KAAKd,gBACZA,WAAWa,GAAGE,4EAKzBC,OAAOC,eAAeC,OAAOnB,EAAmBoB,IAAKpB"}