{"version":3,"file":"promo-tile.umd.js","sources":["promo-tile.umd.js"],"sourcesContent":["import { html, PolymerElement } from \"@polymer/polymer/polymer-element.js\";\nimport { afterNextRender } from \"@polymer/polymer/lib/utils/render-status.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport { HAXWiring } from \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\n/**\n * `promo-tile`\n * @demo demo/index.html\n */\nclass PromoTile extends SchemaBehaviors(PolymerElement) {\n  constructor() {\n    super();\n    import(\"@polymer/paper-button/paper-button.js\");\n    import(\"@polymer/iron-icon/iron-icon.js\");\n    import(\"@polymer/iron-icons/iron-icons.js\");\n    afterNextRender(this, function() {\n      this.HAXWiring = new HAXWiring();\n      this.HAXWiring.setup(PromoTile.haxProperties, PromoTile.tag, this);\n    });\n  }\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n        }\n\n        a {\n          text-decoration: var(--promo-tile-a-text-decoration, none);\n          @apply --promo-tile-a;\n        }\n\n        #container {\n          width: var(--promo-tile-container-width, 100%);\n          height: var(--promo-tile-container-height, auto);\n          @apply --promo-tile-container;\n        }\n\n        .back_card {\n          background-color: var(\n            --promo-tile-back-card-background-color,\n            #e2801e\n          );\n          height: var(--promo-tile-back-card-height, 460px);\n          opacity: var(--promo-tile-back-card-opacity, 0);\n          display: var(--promo-tile-back-card-display, flex);\n          flex-direction: var(--promo-tile-back-card-flex-direction, column);\n          @apply --promo-tile-back-card;\n        }\n\n        :host([hover]) #container .back_card {\n          opacity: var(--promo-tile-container-back-card-hover-opacity, 0.9);\n          transition: var(\n            --promo-tile-container-back-card-hover-transition,\n            all 0.3s ease-in-out\n          );\n          @apply --promo-tile-container-back-card-hover;\n        }\n\n        :host([hover]) #container .front_card .front_title {\n          opacity: var(\n            --promo-tile-container-front-card-front-title-hover-opacity,\n            0\n          );\n          transition: var(\n            --promo-tile-container-front-card-front-title-hover-transition,\n            all 0.3s ease-in-out\n          );\n          @apply --promo-tile-container-front-card-hover;\n        }\n\n        .image {\n          display: var(--promo-tile-image-display, flex);\n          justify-content: var(--promo-tile-image-justify-content, center);\n          background-position: var(\n            --promo-tile-image-background-position,\n            top center\n          );\n          background-repeat: var(\n            --promo-tile-image-background-repeat,\n            no-repeat\n          );\n          background-size: var(--promo-tile-image-background-size, cover);\n          width: var(--promo-tile-image-width, 100%);\n          height: var(--promo-tile-image-height, 100%);\n          @apply --promo-tile-image;\n        }\n\n        .front_title {\n          opacity: var(--promo-tile-front-title-opacity, 1);\n          position: var(--promo-tile-front-title-position, absolute);\n          display: var(--promo-tile-front-title-display, flex);\n          align-self: var(--promo-tile-front-title-align-self, flex-end);\n          padding: var(--promo-tile-front-title-padding, 0 0 25px 0);\n          @apply --promo-tile-front-title;\n        }\n\n        .front_title h1 {\n          color: var(--promo-tile-front-title-h1-color, #ffffff);\n          font-size: var(--promo-tile-front-title-h1-font-size, 36px);\n          font-weight: var(--promo-tile-front-title-h1-font-weight, 400);\n          text-shadow: var(\n            --promo-tile-front-title-h1-text-shadow,\n            1px 1px 3px\n              var(--promo-tile-front-title-h1-text-shadow-color, #363533)\n          );\n          @apply --promo-title-front-title-h1;\n        }\n\n        .back_title {\n          opacity: var(--promo-tile-back-title-opacity, 1);\n          display: var(--promo-tile-back-title-display, flex);\n          justify-content: var(--promo-tile-back-title-justify-content, center);\n          padding: var(--promo-tile-back-title-padding, 20px 0 0 0);\n          @apply --promo-tile-back-title;\n        }\n\n        .back_title h1 {\n          color: var(--promo-tile-back-title-h1-color, #ffffff);\n          font-size: var(--promo-tile-back-title-h1-font-size, 36px);\n          font-weight: var(--promo-tile-back-title-h1-font-weight, 400);\n          @apply --promo-tile-back-title-h1;\n        }\n\n        .back_content {\n          color: var(--promo-tile-back-content-font-color, #ffffff);\n          font-size: var(--promo-tile-back-content-font-size, 18px);\n          font-weight: var(--promo-tile-back-content-font-weight, 300);\n          line-height: var(--promo-tile-back-content-line-height, 1.4);\n          padding: var(--promo-title-back-content-padding, 0 20px 0 20px);\n          text-align: justify;\n          @apply --promo-tile-back-content;\n        }\n\n        paper-button#learn {\n          display: var(--promo-tile-paper-button-learn-display, flex);\n          margin: var(\n            --promo-tile-paper-button-learn-margin,\n            140px auto 0 auto\n          );\n          font-size: var(--promo-tile-paper-button-learn-font-size, 18px);\n          color: var(--promo-tile-paper-button-learn-font-color, #ffffff);\n          border: var(--promo-tile-paper-button-learn-border, solid);\n          border-width: var(--promo-tile-paper-button-learn-border-width, 1px);\n          border-color: var(\n            --promo-tile-paper-button-learn-border-color,\n            #ffffff\n          );\n          border-radius: var(--promo-tile-paper-button-learn-border-radius, 0);\n          width: var(--promo-tile-paper-button-learn-width, 50%);\n          @apply --promo-tile-paper-button-learn;\n        }\n\n        paper-button#learn:hover,\n        paper-button#learn:focus {\n          background-color: var(\n            --promo-tile-paper-button-learn-background-color-active,\n            #363533\n          );\n          @apply --promo-tile-paper-button-learn-active;\n        }\n      </style>\n      <div id=\"container\">\n        <div class=\"front_card\">\n          <div\n            id=\"front_image\"\n            class=\"image\"\n            alt=\"[[alt]]\"\n            style$=\"background-image:url([[image]])\"\n          >\n            <div class=\"front_title\">\n              <h1>[[title]]</h1>\n            </div>\n            <div class=\"back_card\" id=\"cardBack\" on-click=\"activateBtn\">\n              <div class=\"back_title\">\n                <h1>[[title]]</h1>\n              </div>\n              <div class=\"back_content\">\n                <slot></slot>\n              </div>\n              <div class=\"learn_more\">\n                <a\n                  tabindex=\"-1\"\n                  href=\"[[url]]\"\n                  id=\"link\"\n                  target$=\"[[_urlTarget(url)]]\"\n                >\n                  <paper-button id=\"learn\" no-ink\n                    >[[label]]\n                    <iron-icon icon=\"chevron-right\"></iron-icon>\n                  </paper-button>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  static get tag() {\n    return \"promo-tile\";\n  }\n\n  static get properties() {\n    let props = {\n      /**\n       * Image source\n       */\n      image: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Alt text for image\n       */\n      alt: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Label for button\n       */\n      label: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Title of tile\n       */\n      title: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Url for tile\n       */\n      url: {\n        type: String,\n        value: \"\",\n        reflectToAttribute: true\n      },\n      /**\n       * Hover state\n       */\n      hover: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      }\n    };\n    if (super.properties) {\n      props = Object.assign(props, super.properties);\n    }\n    return props;\n  }\n  /**\n   * Attached to the DOM, now fire.\n   */\n  connectedCallback() {\n    super.connectedCallback();\n    afterNextRender(this, function() {\n      this.addEventListener(\"mouseover\", this.__hoverIn.bind(this));\n      this.addEventListener(\"mouseout\", this.__hoverOut.bind(this));\n      this.addEventListener(\"focusin\", this.__hoverIn.bind(this));\n      this.addEventListener(\"focusout\", this.__hoverOut.bind(this));\n    });\n  }\n  disconnectedCallback() {\n    this.removeEventListener(\"mouseover\", this.__hoverIn.bind(this));\n    this.removeEventListener(\"mouseout\", this.__hoverOut.bind(this));\n    this.removeEventListener(\"focusin\", this.__hoverIn.bind(this));\n    this.removeEventListener(\"focusout\", this.__hoverOut.bind(this));\n    super.disconnectedCallback();\n  }\n  static get haxProperties() {\n    return {\n      canScale: true,\n      canPosition: true,\n      canEditSource: false,\n      gizmo: {\n        title: \"Promo-Tile\",\n        description: \"A tile element for promoting content.\",\n        icon: \"icons:dashboard\",\n        color: \"orange\",\n        groups: [\"Content\", \"Media\"],\n        handles: [\n          {\n            type: \"content\",\n            source: \"image\",\n            title: \"citation\",\n            url: \"source\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"image\",\n            title: \"Image\",\n            description: \"The image of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-photo\"\n          },\n          {\n            property: \"url\",\n            title: \"Link\",\n            description: \"The link of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-link\"\n          }\n        ],\n        configure: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"image\",\n            title: \"Image\",\n            description: \"The image of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-photo\"\n          },\n          {\n            property: \"alt\",\n            title: \"Alt\",\n            description: \"The alt text for the image\",\n            inputMethod: \"textfield\",\n            icon: \"editor:mode-edit\"\n          },\n          {\n            property: \"url\",\n            title: \"Link\",\n            description: \"The link of the tile\",\n            inputMethod: \"textfield\",\n            icon: \"editor:insert-link\"\n          },\n          {\n            property: \"label\",\n            title: \"Label\",\n            description: \"The label for the button\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        advanced: []\n      }\n    };\n  }\n\n  /**\n   * Internal function to check if a url is external\n   */\n  _outsideLink(url) {\n    if (url.indexOf(\"http\") != 0) return false;\n    var loc = location.href,\n      path = location.pathname,\n      root = loc.substring(0, loc.indexOf(path));\n    return url.indexOf(root) != 0;\n  }\n\n  /**\n   * If url is external, open link in new window, otherwise open link in same window.\n   */\n  _urlTarget(url) {\n    if (url) {\n      const external = this._outsideLink(url);\n      if (external) {\n        return \"_blank\";\n      }\n    }\n    return false;\n  }\n\n  activateBtn() {\n    if (this.hover) {\n      const link = this.shadowRoot.querySelector(\"#link\");\n      if (window.innerWidth > 700) {\n        link.click();\n      }\n    }\n  }\n\n  __hoverIn() {\n    this.hover = true;\n  }\n  __hoverOut() {\n    this.hover = false;\n  }\n}\nwindow.customElements.define(PromoTile.tag, PromoTile);\nexport { PromoTile };\n"],"names":["PromoTile","afterNextRender","HAXWiring","setup","haxProperties","tag","this","SchemaBehaviors","PolymerElement","html","props","image","type","String","value","reflectToAttribute","alt","label","title","url","hover","Boolean","Object","assign","canScale","canPosition","canEditSource","gizmo","description","icon","color","groups","handles","source","meta","author","settings","quick","property","inputMethod","configure","advanced","addEventListener","__hoverIn","bind","__hoverOut","removeEventListener","indexOf","loc","location","href","path","pathname","root","substring","_outsideLink","link","shadowRoot","querySelector","window","innerWidth","click","customElements","define"],"mappings":"qkQAQMA,uOAGK,gDACA,0CACA,qCACPC,uBAAsB,gBACfC,UAAY,IAAIA,iBAChBA,UAAUC,MAAMH,EAAUI,cAAeJ,EAAUK,IAAKC,gQAR3CC,kBAAgBC,gEAY7BC,8CAoLA,oDAIHC,EAAQ,CAIVC,MAAO,CACLC,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBC,IAAK,CACHJ,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBE,MAAO,CACLL,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBG,MAAO,CACLN,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBI,IAAK,CACHP,KAAMC,OACNC,MAAO,GACPC,oBAAoB,GAKtBK,MAAO,CACLR,KAAMS,QACNP,OAAO,EACPC,oBAAoB,uCAItBL,EAAQY,OAAOC,OAAOb,8BAEjBA,8CAsBA,CACLc,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLT,MAAO,aACPU,YAAa,wCACbC,KAAM,kBACNC,MAAO,SACPC,OAAQ,CAAC,UAAW,SACpBC,QAAS,CACP,CACEpB,KAAM,UACNqB,OAAQ,QACRf,MAAO,WACPC,IAAK,WAGTe,KAAM,CACJC,OAAQ,qBAGZC,SAAU,CACRC,MAAO,CACL,CACEC,SAAU,QACVpB,MAAO,QACPU,YAAa,wBACbW,YAAa,YACbV,KAAM,gBAER,CACES,SAAU,QACVpB,MAAO,QACPU,YAAa,wBACbW,YAAa,YACbV,KAAM,uBAER,CACES,SAAU,MACVpB,MAAO,OACPU,YAAa,uBACbW,YAAa,YACbV,KAAM,uBAGVW,UAAW,CACT,CACEF,SAAU,QACVpB,MAAO,QACPU,YAAa,wBACbW,YAAa,YACbV,KAAM,gBAER,CACES,SAAU,QACVpB,MAAO,QACPU,YAAa,wBACbW,YAAa,YACbV,KAAM,uBAER,CACES,SAAU,MACVpB,MAAO,MACPU,YAAa,6BACbW,YAAa,YACbV,KAAM,oBAER,CACES,SAAU,MACVpB,MAAO,OACPU,YAAa,uBACbW,YAAa,YACbV,KAAM,sBAER,CACES,SAAU,QACVpB,MAAO,QACPU,YAAa,2BACbW,YAAa,YACbV,KAAM,iBAGVY,SAAU,4GAlGdxC,kBAAgBK,KAAM,gBACfoC,iBAAiB,YAAapC,KAAKqC,UAAUC,KAAKtC,YAClDoC,iBAAiB,WAAYpC,KAAKuC,WAAWD,KAAKtC,YAClDoC,iBAAiB,UAAWpC,KAAKqC,UAAUC,KAAKtC,YAChDoC,iBAAiB,WAAYpC,KAAKuC,WAAWD,KAAKtC,6DAIpDwC,oBAAoB,YAAaxC,KAAKqC,UAAUC,KAAKtC,YACrDwC,oBAAoB,WAAYxC,KAAKuC,WAAWD,KAAKtC,YACrDwC,oBAAoB,UAAWxC,KAAKqC,UAAUC,KAAKtC,YACnDwC,oBAAoB,WAAYxC,KAAKuC,WAAWD,KAAKtC,qGA+F/Ca,MACgB,GAAvBA,EAAI4B,QAAQ,QAAc,OAAO,MACjCC,EAAMC,SAASC,KACjBC,EAAOF,SAASG,SAChBC,EAAOL,EAAIM,UAAU,EAAGN,EAAID,QAAQI,WACV,GAArBhC,EAAI4B,QAAQM,sCAMVlC,MACLA,GACeb,KAAKiD,aAAapC,SAE1B,gBAGJ,2CAIHb,KAAKc,MAAO,KACRoC,EAAOlD,KAAKmD,WAAWC,cAAc,SACvCC,OAAOC,WAAa,KACtBJ,EAAKK,kDAMJzC,OAAQ,4CAGRA,OAAQ,uCAGjBuC,OAAOG,eAAeC,OAAO/D,EAAUK,IAAKL"}