!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@polymer/polymer/polymer-legacy.js"),require("@polymer/iron-ajax/iron-ajax.js"),require("@polymer/paper-button/paper-button.js"),require("@polymer/paper-spinner/paper-spinner.js"),require("@polymer/iron-icons/iron-icons.js"),require("@polymer/iron-icon/iron-icon.js"),require("@polymer/paper-tooltip/paper-tooltip.js"),require("@lrnwebcomponents/materializecss-styles/materializecss-styles.js")):"function"==typeof define&&define.amd?define(["exports","@polymer/polymer/polymer-legacy.js","@polymer/iron-ajax/iron-ajax.js","@polymer/paper-button/paper-button.js","@polymer/paper-spinner/paper-spinner.js","@polymer/iron-icons/iron-icons.js","@polymer/iron-icon/iron-icon.js","@polymer/paper-tooltip/paper-tooltip.js","@lrnwebcomponents/materializecss-styles/materializecss-styles.js"],n):n(e.CsvRender={},e.polymerLegacy_js)}("undefined"!=typeof self?self:this,function(e,n){"use strict";function t(){var e,n,a=(e=['\n    <style include="materializecss-styles-colors"></style>\n    <style>\n      :host {\n        display: block;\n      }\n      .mdl-data-table {\n        width: 100%;\n        /*position: relative;*/\n        border: 1px solid rgba(0, 0, 0, 0.12);\n        border-collapse: collapse;\n        white-space: nowrap;\n        font-size: 16px;\n        background-color: rgb(255, 255, 255);\n      }\n      .mdl-data-table thead {\n        padding-bottom: 0.16px;\n        position: sticky;\n      }\n      .mdl-data-table caption {\n        background-color: #eee;\n        font-weight: bold;\n        padding: 8px;\n        border: 1px solid rgba(0, 0, 0, 0.12);\n        border-bottom: none;\n      }\n      .mdl-data-table thead th {\n        text-align: center;\n      }\n      .mdl-data-table thead .mdl-data-table__select {\n        margin-top: 0;\n      }\n      .mdl-data-table tbody tr {\n        position: relative;\n        height: 48px;\n        -webkit-transition-duration: 0.28s;\n        transition-duration: 0.28s;\n        -webkit-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n        -webkit-transition-property: background-color;\n        transition-property: background-color;\n      }\n      .mdl-data-table tbody tr.is-selected {\n        background-color: #e0e0e0;\n      }\n      .mdl-data-table tbody tr:hover {\n        background-color: #eeeeee;\n      }\n      .mdl-data-table td,\n      .mdl-data-table th {\n        padding: 0 1.125em;\n        text-align: right;\n      }\n      .mdl-data-table td:first-of-type,\n      .mdl-data-table th:first-of-type {\n        padding-left: 24px;\n      }\n      .mdl-data-table td:last-of-type,\n      .mdl-data-table th:last-of-type {\n        padding-right: 24px;\n      }\n      .mdl-data-table td {\n        border-top: 1px solid rgba(0, 0, 0, 0.12);\n        border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n      }\n      .mdl-data-table td .mdl-data-table__select {\n        vertical-align: top;\n        position: absolute;\n        left: 24px;\n      }\n      .mdl-data-table th.mdl-data-table__sort {\n        color: rgba(0, 0, 0, 0.87);\n      }\n      .mdl-data-table th {\n        position: relative;\n        vertical-align: bottom;\n        text-overflow: ellipsis;\n        font-size: 16px;\n        font-weight: bold;\n        line-height: 24px;\n        letter-spacing: 0;\n        color: rgba(0, 0, 0, 0.54);\n        height: 48px;\n        padding-bottom: 8px;\n        box-sizing: border-box;\n      }\n      .mdl-data-table th .mdl-data-table__select {\n        position: relative;\n      }\n      .mdl-data-table__select {\n        width: 16px;\n      }\n      .mdl-data-table td.mdl-data-table__cell--non-numeric {\n        text-align: left;\n      }\n      .mdl-data-table th.mdl-data-table__cell--non-numeric {\n        text-align: left;\n      }\n      #loading {\n        position: absolute;\n        width: 100px;\n        height: 100px;\n        transition: 1.2s all linear;\n        opacity: 0;\n      }\n      #loading[active] {\n        visibility: visible;\n        opacity: 1;\n      }\n      #download paper-button {\n        border-radius: 36px;\n        width: 36px;\n        height: 36px;\n        min-width: unset;\n        padding: 0;\n        margin: 0;\n        display: inline-flex;\n      }\n      iron-icon {\n        display: inline-flex;\n        margin: 0;\n        padding: 0;\n      }\n      #download paper-button:focus,\n      #download paper-button:active {\n        outline: 2px solid grey;\n      }\n    </style>\n    <iron-ajax\n      auto=""\n      url="[[dataSource]]"\n      handle-as="text"\n      last-response="{{tableData}}"\n      on-response="handleResponse"\n    ></iron-ajax>\n    <paper-spinner id="loading" active=""></paper-spinner>\n    <a href="[[dataSource]]" id="download" tabindex="-1">\n      <paper-button class="grey-text"\n        ><iron-icon icon="file-download"></iron-icon\n      ></paper-button> </a\n    ><paper-tooltip for="download" animation-delay="200" offset="14"\n      >Download table data</paper-tooltip\n    >\n    <table class="mdl-data-table" summary="[[summary]]">\n      <template is="dom-if" if="[[caption]]">\n        <caption>\n          [[caption]]\n        </caption>\n      </template>\n      <thead>\n        <tr>\n          <template is="dom-repeat" items="[[tableHeadings]]" as="heading">\n            <th scope="col">[[heading]]</th>\n          </template>\n        </tr>\n      </thead>\n      <tbody>\n        <template is="dom-repeat" items="[[table]]" as="row">\n          <tr>\n            <template is="dom-repeat" items="[[row]]" as="col">\n              <td>[[col]]</td>\n            </template>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n  '],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return t=function(){return a},a}var a=n.Polymer({_template:n.html(t()),is:"csv-render",properties:{dataSource:{type:String},caption:{type:String,reflectToAttribute:!0},summary:{type:String,reflectToAttribute:!0},table:{type:Array,value:[]},tableHeadings:{type:Array,value:[]},tableData:{type:String,value:""}},handleResponse:function(e){this.table=this.CSVtoArray(this.tableData),this.tableHeadings=this.table.shift(),this.$.loading.active=!1},CSVtoArray:function(e){var n,t="",a=[""],o=[a],i=0,r=0,l=!0;for(n in e)'"'===(n=e[n])?(l&&n===t&&(a[i]+=n),l=!l):","===n&&l?n=a[++i]="":"\n"===n&&l?("\r"===t&&(a[i]=a[i].slice(0,-1)),a=o[++r]=[n=""],i=0):a[i]+=n,t=n;return o}});e.CsvRender=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=csv-render.umd.js.map
